!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("prop-types")):"function"==typeof define&&define.amd?define(["react","prop-types"],t):"object"==typeof exports?exports.ContentTree=t(require("react"),require("prop-types")):(e.eZ=e.eZ||{},e.eZ.modules=e.eZ.modules||{},e.eZ.modules.ContentTree=t(e.React,e.PropTypes))}("undefined"!=typeof self?self:this,function(e,t){return function(e){var t={};function n(s){if(t[s])return t[s].exports;var i=t[s]={i:s,l:!1,exports:{}};return e[s].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,s){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:s})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=60)}({0:function(t,n){t.exports=e},1:function(e,n){e.exports=t},2:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(n(0)),i=a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}const r=e=>{const t=e.customPath?e.customPath:`/bundles/ezplatformadminui/img/ez-icons.svg#${e.name}`;let n="ez-icon";return e.extraClasses&&(n=`${n} ${e.extraClasses}`),s.default.createElement("svg",{className:n},s.default.createElement("use",{xlinkHref:t}))};r.propTypes={extraClasses:i.default.string.isRequired,name:i.default.string,customPath:i.default.string},r.defaultProps={customPath:null,name:null},t.default=r},60:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=o(s),a=o(n(1)),r=o(n(61));function o(e){return e&&e.__esModule?e:{default:e}}const d="ez-is-tree-resizing";class l extends s.Component{constructor(e){super(e),this.changeContainerWidth=this.changeContainerWidth.bind(this),this.addWidthChangeListener=this.addWidthChangeListener.bind(this),this.removeWidthChangeListener=this.removeWidthChangeListener.bind(this),this._refTreeContainer=i.default.createRef(),this.state={selectedLocationId:e.selectedLocationId,locations:e.preloadedLocations,resizeStartPositionX:0,containerWidth:0,resizedContainerWidth:0,isResizing:!1}}componentWillUnmount(){this.clearDocumentResizingState()}changeContainerWidth({clientX:e}){const t=e;this.setState(e=>({resizedContainerWidth:e.containerWidth+(t-e.resizeStartPositionX)}))}addWidthChangeListener({nativeEvent:e}){const t=e.clientX,n=parseInt(window.getComputedStyle(this._refTreeContainer.current).width,10);window.document.addEventListener("mousemove",this.changeContainerWidth,!1),window.document.addEventListener("mouseup",this.removeWidthChangeListener,!1),window.document.body.classList.add(d),this.setState(()=>({resizeStartPositionX:t,containerWidth:n,isResizing:!0}))}removeWidthChangeListener(){this.clearDocumentResizingState(),this.setState(e=>({resizeStartPositionX:0,containerWidth:e.resizedContainerWidth,isResizing:!1}))}clearDocumentResizingState(){window.document.removeEventListener("mousemove",this.changeContainerWidth),window.document.removeEventListener("mouseup",this.removeWidthChangeListener),window.document.body.classList.remove(d)}render(){var e=this.state;const t=e.isResizing,n=e.containerWidth,s=e.resizedContainerWidth,a=e.selectedLocationId,o=t?s:n,d={className:"m-tree",ref:this._refTreeContainer};return o&&(d.style={width:`${o}px`}),i.default.createElement("div",d,i.default.createElement(r.default,{items:this.state.locations,selectedLocationId:a}),i.default.createElement("div",{className:"m-tree__resize-handler",onMouseDown:this.addWidthChangeListener}))}}t.default=l,l.propTypes={selectedLocationId:a.default.number,preloadedLocations:a.default.arrayOf(a.default.object)},l.defaultProps={preloadedLocations:[]}},61:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},i=o(n(0)),a=o(n(1)),r=o(n(62));function o(e){return e&&e.__esModule?e:{default:e}}const d=e=>{return i.default.createElement("ul",{className:"c-list"},e.items.map(t=>i.default.createElement(r.default,s({key:t.id},t,{selected:t.id===e.selectedLocationId,onItemClick:e.onItemClick}),t.subItems.length?i.default.createElement(d,{items:t.subItems,selectedLocationId:e.selectedLocationId,onItemClick:e.onItemClick}):null)))};d.propTypes={items:a.default.arrayOf(a.default.object).isRequired,selectedLocationId:a.default.number,onItemClick:a.default.func.isRequired},t.default=d},62:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),i=o(s),a=o(n(1)),r=o(n(2));function o(e){return e&&e.__esModule?e:{default:e}}class d extends s.Component{constructor(e){super(e),this.toggleExpandedState=this.toggleExpandedState.bind(this),this.state={isExpanded:!1}}toggleExpandedState(){this.setState(e=>({isExpanded:!e.isExpanded}))}renderIcon(){var e=this.props;const t=e.contentTypeIdentifier,n=e.selected,s={customPath:eZ.helpers.contentType.getContentTypeIconUrl(t)||eZ.helpers.contentType.getContentTypeIconUrl("file"),extraClasses:`ez-icon--small ez-icon--${n?"light":"dark"}`};return i.default.createElement("span",{className:"c-list-item__icon"},i.default.createElement(r.default,s))}render(){var e=this.props;const t=e.subItems,n=e.totalSubItems,s=e.name,a=e.children,r=e.hidden,o=e.selected,d={className:"c-list-item"},l={className:"c-list-item__toggler",onClick:this.toggleExpandedState,tabIndex:-1};return t.length&&(d.className=`${d.className} c-list-item--has-sub-items`),t.length<n&&(d.className=`${d.className} c-list-item--can-load-more`),this.state.isExpanded&&(d.className=`${d.className} c-list-item--is-expanded`),r&&(d.className=`${d.className} c-list-item--is-hidden`),o&&(d.className=`${d.className} c-list-item--is-selected`,l.className=`${l.className} c-list-item__toggler--light`),i.default.createElement("li",d,i.default.createElement("a",{className:"c-list-item__label"},i.default.createElement("span",l)," ",this.renderIcon()," ",s),a)}}d.propTypes={id:a.default.number.isRequired,href:a.default.string.isRequired,name:a.default.string.isRequired,contentTypeIdentifier:a.default.string.isRequired,totalSubItems:a.default.number.isRequired,subItems:a.default.array.isRequired,children:a.default.element,hidden:a.default.bool.isRequired,selected:a.default.bool.isRequired},t.default=d}}).default});
//# sourceMappingURL=ContentTree.module.js.map