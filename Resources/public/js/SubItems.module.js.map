{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b6c8ba2c82ec40ff0d4c","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack:///./src/modules/common/icon/icon.js","webpack:///./src/modules/common/helpers/request.helper.js","webpack:///./src/modules/common/helpers/deep.clone.helper.js","webpack:///./src/modules/sub-items/components/table-view/table.view.component.js","webpack:///./src/modules/sub-items/sub.items.module.js","webpack:///external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}","webpack:///./src/modules/sub-items/components/view-switcher/view.switcher.component.js","webpack:///./src/modules/sub-items/components/view-switcher/view.switcher.button.component.js","webpack:///./src/modules/sub-items/components/sub-items-list/sub.items.list.component.js","webpack:///./src/modules/sub-items/components/table-view/table.view.item.component.js","webpack:///./src/modules/sub-items/components/table-view/table.view.columns.toggler.js","webpack:///./src/modules/sub-items/components/table-view/table.view.columns.toggler.list.element.js","webpack:///./src/modules/sub-items/components/grid-view/grid.view.component.js","webpack:///./src/modules/sub-items/components/grid-view/grid.view.item.component.js","webpack:///./src/modules/common/popup/popup.component.js","webpack:///external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}","webpack:///./src/modules/sub-items/components/action-btn/action.btn.js","webpack:///./src/modules/sub-items/components/pagination/pagination.component.js","webpack:///./src/modules/sub-items/components/pagination/pagination.button.component.js","webpack:///./src/modules/sub-items/components/no-items/no.items.component.js","webpack:///./src/modules/sub-items/services/sub.items.service.js","webpack:///./src/modules/sub-items/services/bulk.service.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_15__","__WEBPACK_EXTERNAL_MODULE_25__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Icon","props","linkHref","customPath","className","extraClasses","_react2","default","createElement","xlinkHref","propTypes","PropTypes","string","isRequired","defaultProps","getBasicRequestInit","token","siteaccess","headers","X-Siteaccess","X-CSRF-Token","mode","credentials","handleRequestError","response","ok","Error","statusText","handleRequestResponse","json","handleRequestResponseStatus","status","deepClone","data","clonedData","toString","apply","length","_react","KEY_CONTENT_NAME","KEY_DATE_MODIFIED","KEY_LOCATION_PRIORITY","SORTKEY_MAP","[object Object]","COLUMNS_VISIBILITY_LOCAL_STORAGE_DATA_KEY","DEFAULT_COLUMNS_VISIBILITY","modified","contentType","priority","translations","TABLE_CELL_CLASS","TABLE_HEAD_CLASS","TABLE_CELL_SORT_CLASS","headerLabels","Translator","trans","TableViewComponent","Component","constructor","super","sortByName","bind","sortByDate","sortByPriority","renderItem","selectAll","setColumnsVisibilityInLocalStorage","toggleColumnVisibility","_refColumnsTogglerButton","createRef","state","columnsVisibility","getColumnsVisibilityFromLocalStorage","columnsVisibilityData","localStorage","getItem","JSON","parse","stringify","setItem","onSortChange","event","toggleAllItemsSelect","target","checked","column","setState","_props","contentTypesMap","handleItemPriorityUpdate","handleEditItem","generateLink","languages","onItemSelect","isSelected","selectedLocationsIds","has","location","id","_tableViewItem2","_extends","key","onItemPriorityUpdate","renderModifiedHeader","onClick","tabIndex","renderContentTypeHeader","renderPriorityHeader","renderTranslationsHeader","renderHead","headClass","items","_props2","sortClause","sortOrder","anyLocationSelected","size","type","onChange","_tableViewColumns2","render","content","map","arrayOf","func","instanceOf","Set","_subItems","_bulkService","ASCENDING_SORT_ORDER","DESCENDING_SORT_ORDER","DEFAULT_SORT_ORDER","SubItemsModule","afterPriorityUpdated","loadContentItems","loadContentTypes","updateItemsState","switchView","toggleItemSelection","toggleAllPageItemsSelection","onMoveBtnClick","closeUdw","onUdwConfirm","onDeleteBtnClick","closeBulkDeletePopup","onBulkDeletePopupConfirm","afterBulkDelete","changePage","changeSorting","_refListViewWrapper","React","bulkDeleteModalContainer","udwContainer","sortClauseData","getDefaultSortClause","sortClauses","activeView","activePageItems","selectedItems","Map","totalCount","offset","isDuringBulkOperation","isUdwOpened","isBulkDeletePopupVisible","activePageIndex","listViewHeight","order","componentDidMount","document","getElementById","classList","add","body","appendChild","componentDidUpdate","_state","itemsPerPage","limit","pagesCount","Math","ceil","loadPage","componentWillUnmount","removeChild","objKeys","keys","updateListViewHeight","current","offsetHeight","pageIndex","loadLocation","then","catch","errorMessage","window","eZ","helpers","notification","showErrorNotification","restInfo","locationId","parentLocationId","_state2","queryConfig","Promise","resolve","loadContentInfo","View","invalidResponseFormatMessage","locations","Result","searchHits","searchHit","contentIds","item","value","Location","ContentInfo","Content","_id","contentInfo","count","contentItems","itemsData","promises","contentTypeId","ContentType","_href","loadContentType","all","contentTypes","pageItems","itemLocation","respectiveContent","find","buildContentTypesMap","reduce","total","updateTotalCountState","discardActivePageItems","getSortOrder","newSortClause","currentSortOrder","getOppositeSortOrder","updateLocationPriority","updateItemLocation","itemIndex","findIndex","updatedItem","_deepCloneHelper2","updatedPageItems","updatedSelectedItems","set","delete","select","selectItems","locationsIds","locationsIdsSet","deselectItems","itemsToSelect","newSelectedItems","newSelection","filter","deselectAllItems","toggleBulkOperationStatusState","toggleUdw","bulkMove","locationsToMove","values","bulkMoveLocations","afterBulkMove","movedLocations","notMovedLocations","refreshContentTree","modalTableTitle","itemsCount","notificationMessage","notMovedCount","rawPlaceholdersMap","moreInformationLink","handleBulkOperationFailedNotification","message","locationLink","locationName","text","escapeHTML","Name","locationHref","showSuccessNotification","show","selectedLocation","renderUdw","UniversalDiscovery","_props3","udwConfigBulkMoveItems","excludedMoveLocations","title","udwProps","onCancel","onConfirm","canSelectContent","callback","includes","ReactDOM","createPortal","toggleBulkDeletePopup","bulkDelete","_state3","itemsToDelete","bulkDeleteItems","deletedLocations","notDeletedLocations","notDeletedCount","failedLocations","failedItemsData","contentTypeIdentifier","identifier","contentTypeName","adminUiConfig","contentTypeNames","contentName","showWarningNotification","notificationNode","showModalBtn","querySelector","addEventListener","showBulkActionFailedModal","dispatchEvent","CustomEvent","renderConfirmationPopupFooter","cancelLabel","confirmLabel","Fragment","data-dismiss","renderConfirmationPopup","confirmationMessage","_popup2","onClose","isVisible","isLoading","footerChildren","noHeader","getPageSelectedLocationsIds","_state4","pageLocationsIds","renderExtraActions","action","index","Action","component","attrs","renderPaginationInfo","_state5","viewingCount","dangerouslySetInnerHTML","__html","renderPagination","_state6","isPaginationDisabled","_paginationComponent2","proximity","onPageChange","disabled","renderBulkMoveBtn","label","_actionBtn2","renderBulkDeleteBtn","renderSpinner","style","height","_icon2","renderNoItems","_noItemsComponent2","renderListView","_state7","selectedPageLocationsIds","_subItemsListComponent2","listTitle","_state8","bulkBtnDisabled","listClassName","extraActions","_viewSwitcherComponent2","onViewChange","isDisabled","ref","addConfig","number","shape","parseInt","subItems","ViewSwitcherComponent","componentClassName","listViewBtnLabel","gridViewBtnLabel","_viewSwitcherButton2","icon","bool","ViewSwitcherButton","iconAttrs","views","table","grid","GridViewComponent","SubItemsListComponent","TableViewItemComponent","PureComponent","storePriorityValue","enablePriorityInput","handleSubmit","handleCancel","handleEdit","onSelectCheckboxChange","setPriorityInputRef","_refPriorityInput","priorityValue","priorityInputEnabled","startingPriorityValue","preventDefault","renderPriorityCell","inputAttrs","defaultValue","priorityWrapperAttrs","innerWrapperAttrs","hidden","renderModifiedCell","formatShortDateTime","timezone","Date","lastModificationDate","renderContentTypeCell","notAvailableLabel","renderTranslationsCell","CurrentVersion","Version","VersionInfo","VersionTranslationInfo","Language","langauge","mappings","languageCode","renderTranslation","translation","_props4","editLabel","linkAttrs","href","contentTypeIconUrl","getContentTypeIconUrl","_tableView","DEFAULT_PANEL_HEIGHT","TableViewColumnsTogglerComponent","togglePanel","hidePanel","_refTogglerButton","_refPanel","isOpen","buttonBottomDocumentOffset","panelHeight","getBtnBottomDocumentOffset","removeEventListener","buttonTopOffset","getBoundingClientRect","top","scrollY","documentElement","scrollHeight","closest","renderPanel","measuredPanelHeight","panelAttrs","entries","columnKey","isColumnVisible","_tableViewColumnsTogglerList2","TableViewColumnsTogglerListElement","readOnly","_gridViewItem2","GridViewItemComponent","imageField","Fields","field","fieldTypeIdentifier","hasImage","fieldValue","uri","path","image","contentTypeIcon","src","alt","CLASS_NON_SCROLLABLE","CLASS_MODAL_OPEN","MODAL_CONFIG","backdrop","keyboard","MODAL_SIZE_CLASS","small","medium","large","Popup","_refModal","setModalRef","onKeyUp","_jquery2","modal","focus","hasFocus","attachModalEventHandlers","remove","UNSAFE_componentWillReceiveProps","onConfigIframeLoad","on","one","originalEvent","which","keyCode","renderHeader","closeBtnLabel","renderHeadline","aria-label","renderSubtitle","subtitle","renderFooter","additionalClasses","modalAttrs","undefined","toggle","role","children","element","ActionButton","PaginationComponent","paginationDisabled","backLabel","nextLabel","previousPage","nextPage","isFirstPage","isLastPage","paginationButtons","pages","wereDots","push","computePages","page","_paginationButton2","PaginationButtonComponent","Number","isInteger","noItemsMessage","_requestHelper","HEADERS_CREATE_VIEW","Accept","Content-Type","ViewInput","public","LocationQuery","Criteria","FacetBuilders","SortClauses","Filter","ParentLocationIdCriterion","request","Request","method","fetch","ids","join","ContentQuery","ContentIdCriterion","X-HTTP-Method-Override","LocationUpdate","sortField","HEADERS_BULK","newLocationHref","requestBodyOperations","forEach","getBulkMoveRequestOperation","makeBulkRequest","processBulkResponse","getBulkDeleteUserRequestOperation","bulkMoveLocationsToTrash","console","warn","isUserContentItem","userContentTypes","destination","Destination","operations","BulkOperationResponse","locationsMatches","respectiveItem","statusCode","success","fail","bulkOperations"],"mappings":"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","file":"SubItems.module.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"), require(\"react-dom\"), require(\"jquery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\", \"react-dom\", \"jquery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SubItems\"] = factory(require(\"react\"), require(\"prop-types\"), require(\"react-dom\"), require(\"jquery\"));\n\telse\n\t\troot[\"eZ\"] = root[\"eZ\"] || {}, root[\"eZ\"][\"modules\"] = root[\"eZ\"][\"modules\"] || {}, root[\"eZ\"][\"modules\"][\"SubItems\"] = factory(root[\"React\"], root[\"PropTypes\"], root[\"ReactDOM\"], root[\"jQuery\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_15__, __WEBPACK_EXTERNAL_MODULE_25__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 14);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b6c8ba2c82ec40ff0d4c","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0 1 2 3","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}\n// module id = 1\n// module chunks = 0 1 2 3","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Icon = (props) => {\n    const linkHref = props.customPath ? props.customPath : `/bundles/ezplatformadminui/img/ez-icons.svg#${props.name}`;\n    let className = 'ez-icon';\n\n    if (props.extraClasses) {\n        className = `${className} ${props.extraClasses}`;\n    }\n\n    return (\n        <svg className={className}>\n            <use xlinkHref={linkHref} />\n        </svg>\n    );\n};\n\nIcon.propTypes = {\n    extraClasses: PropTypes.string.isRequired,\n    name: PropTypes.string,\n    customPath: PropTypes.string,\n};\n\nIcon.defaultProps = {\n    customPath: null,\n    name: null,\n};\n\nexport default Icon;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/icon/icon.js","/**\n * Returns basic RequestInit object for Request\n *\n * @function getBasicRequestInit\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @returns {RequestInit}\n */\nexport const getBasicRequestInit = ({ token, siteaccess }) => {\n    return {\n        headers: {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    };\n};\n\n/**\n * Handles request error\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Response}\n */\nexport const handleRequestError = (response) => {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n\n    return response;\n};\n\n/**\n * Handles request response\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Error|Promise}\n */\nexport const handleRequestResponse = (response) => {\n    return handleRequestError(response).json();\n};\n\n/**\n * Handles request response; returns status if response is OK\n *\n * @function handleRequestResponseStatus\n * @param {Response} response\n * @returns {number}\n */\nexport const handleRequestResponseStatus = (response) => {\n    return handleRequestError(response).status;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/request.helper.js","/**\n * Clones any object. Faster alternative to `JSON.parse(JSON.stringify)`\n *\n * @function deepClone\n * @param {Any} data\n * @returns {Any} cloned data\n */\nconst deepClone = (data) => {\n    let clonedData;\n\n    if (typeof data !== 'object') {\n        return data;\n    }\n\n    if (!data) {\n        return data;\n    }\n\n    if (Object.prototype.toString.apply(data) === '[object Array]') {\n        clonedData = [];\n\n        for (let i = 0; i < data.length; i++) {\n            clonedData[i] = deepClone(data[i]);\n        }\n\n        return clonedData;\n    }\n\n    clonedData = {};\n\n    for (let i in data) {\n        if (data.hasOwnProperty(i)) {\n            clonedData[i] = deepClone(data[i]);\n        }\n    }\n\n    return clonedData;\n};\n\nexport default deepClone;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/deep.clone.helper.js","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport TableViewItemComponent from './table.view.item.component';\nimport TableViewColumnsTogglerComponent from './table.view.columns.toggler';\n\nconst KEY_CONTENT_NAME = 'ContentName';\nconst KEY_DATE_MODIFIED = 'DateModified';\nconst KEY_LOCATION_PRIORITY = 'LocationPriority';\nconst SORTKEY_MAP = {\n    [KEY_CONTENT_NAME]: 'name',\n    [KEY_DATE_MODIFIED]: 'date',\n    [KEY_LOCATION_PRIORITY]: 'priority',\n};\nconst COLUMNS_VISIBILITY_LOCAL_STORAGE_DATA_KEY = 'sub-items_columns-visibility';\nconst DEFAULT_COLUMNS_VISIBILITY = {\n    modified: true,\n    contentType: true,\n    priority: true,\n    translations: true,\n};\nconst TABLE_CELL_CLASS = 'c-table-view__cell';\nconst TABLE_HEAD_CLASS = `${TABLE_CELL_CLASS} ${TABLE_CELL_CLASS}--head`;\nconst TABLE_CELL_SORT_CLASS = `${TABLE_CELL_CLASS} ${TABLE_CELL_CLASS}--sortable`;\nexport const headerLabels = {\n    name: Translator.trans(/*@Desc(\"Name\")*/ 'items_table.header.name', {}, 'sub_items'),\n    modified: Translator.trans(/*@Desc(\"Modified\")*/ 'items_table.header.modified', {}, 'sub_items'),\n    contentType: Translator.trans(/*@Desc(\"Content type\")*/ 'items_table.header.content_type', {}, 'sub_items'),\n    priority: Translator.trans(/*@Desc(\"Priority\")*/ 'items_table.header.priority', {}, 'sub_items'),\n    translations: Translator.trans(/*@Desc(\"Translations\")*/ 'items_table.header.translations', {}, 'sub_items'),\n};\n\nexport default class TableViewComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.sortByName = this.sortByName.bind(this);\n        this.sortByDate = this.sortByDate.bind(this);\n        this.sortByPriority = this.sortByPriority.bind(this);\n        this.renderItem = this.renderItem.bind(this);\n        this.selectAll = this.selectAll.bind(this);\n        this.setColumnsVisibilityInLocalStorage = this.setColumnsVisibilityInLocalStorage.bind(this);\n        this.toggleColumnVisibility = this.toggleColumnVisibility.bind(this);\n\n        this._refColumnsTogglerButton = createRef();\n\n        this.state = {\n            columnsVisibility: this.getColumnsVisibilityFromLocalStorage(),\n        };\n    }\n\n    getColumnsVisibilityFromLocalStorage() {\n        const columnsVisibilityData = localStorage.getItem(COLUMNS_VISIBILITY_LOCAL_STORAGE_DATA_KEY);\n\n        return columnsVisibilityData ? JSON.parse(columnsVisibilityData) : DEFAULT_COLUMNS_VISIBILITY;\n    }\n\n    setColumnsVisibilityInLocalStorage() {\n        const columnsVisibilityData = JSON.stringify(this.state.columnsVisibility);\n\n        localStorage.setItem(COLUMNS_VISIBILITY_LOCAL_STORAGE_DATA_KEY, columnsVisibilityData);\n    }\n\n    /**\n     * Changes sort to name\n     */\n    sortByName() {\n        const { onSortChange } = this.props;\n\n        onSortChange(KEY_CONTENT_NAME);\n    }\n\n    /**\n     * Changes sort to modification date\n     */\n    sortByDate() {\n        const { onSortChange } = this.props;\n\n        onSortChange(KEY_DATE_MODIFIED);\n    }\n\n    /**\n     * Changes sort to priority\n     */\n    sortByPriority() {\n        const { onSortChange } = this.props;\n\n        onSortChange(KEY_LOCATION_PRIORITY);\n    }\n\n    /**\n     * Selects all visible items\n     *\n     * @param {Event} event\n     */\n    selectAll(event) {\n        const { toggleAllItemsSelect } = this.props;\n        const isSelectAction = event.target.checked;\n\n        toggleAllItemsSelect(isSelectAction);\n    }\n\n    toggleColumnVisibility(column) {\n        this.setState(\n            (state) => ({\n                columnsVisibility: {\n                    ...state.columnsVisibility,\n                    [column]: !state.columnsVisibility[column],\n                },\n            }),\n            this.setColumnsVisibilityInLocalStorage\n        );\n    }\n\n    /**\n     * Renders single list item\n     *\n     * @method renderItem\n     * @param {Object} data\n     * @returns {JSX.Element}\n     * @memberof TableViewComponent\n     */\n    renderItem(data) {\n        const { columnsVisibility } = this.state;\n        const {\n            contentTypesMap,\n            handleItemPriorityUpdate,\n            handleEditItem,\n            generateLink,\n            languages,\n            onItemSelect,\n            selectedLocationsIds,\n        } = this.props;\n        const isSelected = selectedLocationsIds.has(data.location.id);\n\n        return (\n            <TableViewItemComponent\n                key={data.location.id}\n                {...data}\n                contentTypesMap={contentTypesMap}\n                onItemPriorityUpdate={handleItemPriorityUpdate}\n                languages={languages}\n                handleEditItem={handleEditItem}\n                generateLink={generateLink}\n                onItemSelect={onItemSelect}\n                isSelected={isSelected}\n                columnsVisibility={columnsVisibility}\n            />\n        );\n    }\n\n    renderModifiedHeader() {\n        if (!this.state.columnsVisibility.modified) {\n            return null;\n        }\n\n        return (\n            <th\n                className={`${TABLE_HEAD_CLASS} ${TABLE_CELL_CLASS}--date ${TABLE_CELL_SORT_CLASS}`}\n                onClick={this.sortByDate}\n                tabIndex=\"-1\">\n                <span className=\"c-table-view__label\">{headerLabels.modified}</span>\n            </th>\n        );\n    }\n\n    renderContentTypeHeader() {\n        if (!this.state.columnsVisibility.contentType) {\n            return null;\n        }\n\n        return (\n            <th className={TABLE_HEAD_CLASS}>\n                <span className=\"c-table-view__label\">{headerLabels.contentType}</span>\n            </th>\n        );\n    }\n\n    renderPriorityHeader() {\n        if (!this.state.columnsVisibility.priority) {\n            return null;\n        }\n\n        return (\n            <th\n                className={`${TABLE_HEAD_CLASS} ${TABLE_CELL_CLASS}--priority ${TABLE_CELL_SORT_CLASS}`}\n                onClick={this.sortByPriority}\n                tabIndex=\"-1\">\n                <span className=\"c-table-view__label\">{headerLabels.priority}</span>\n            </th>\n        );\n    }\n\n    renderTranslationsHeader() {\n        if (!this.state.columnsVisibility.translations) {\n            return null;\n        }\n\n        return (\n            <th className={`${TABLE_HEAD_CLASS}`}>\n                <span className=\"c-table-view__label\">{headerLabels.translations}</span>\n            </th>\n        );\n    }\n\n    /**\n     * Renders table's head\n     *\n     * @method renderHead\n     * @returns {JSX.Element|null}\n     * @memberof GridViewComponent\n     */\n    renderHead() {\n        const cellClass = 'c-table-view__cell';\n        const { items } = this.props;\n        let headClass = 'c-table-view__head';\n\n        if (!items.length) {\n            return null;\n        }\n\n        const { sortClause, sortOrder } = this.props;\n\n        if (sortClause) {\n            const headSortOrderClass = sortOrder === 'ascending' ? `${headClass}--sort-asc` : `${headClass}--sort-desc`;\n            const headSortByClass = `${headClass}--sort-by-${SORTKEY_MAP[sortClause]}`;\n\n            headClass = `${headClass} ${headSortOrderClass} ${headSortByClass}`;\n        }\n\n        const { columnsVisibility } = this.state;\n        const { selectedLocationsIds } = this.props;\n        const anyLocationSelected = !!selectedLocationsIds.size;\n\n        return (\n            <thead className={headClass}>\n                <tr className=\"c-table-view__row\">\n                    <th className={`${TABLE_HEAD_CLASS} ${cellClass}--checkbox`}>\n                        <input type=\"checkbox\" checked={anyLocationSelected} onChange={this.selectAll} />\n                    </th>\n                    <th className={TABLE_HEAD_CLASS} />\n                    <th\n                        className={`${TABLE_HEAD_CLASS} ${TABLE_CELL_CLASS}--name ${TABLE_CELL_SORT_CLASS}`}\n                        onClick={this.sortByName}\n                        tabIndex=\"-1\">\n                        <span className=\"c-table-view__label\">{headerLabels.name}</span>\n                    </th>\n                    {this.renderModifiedHeader()}\n                    {this.renderContentTypeHeader()}\n                    {this.renderPriorityHeader()}\n                    {this.renderTranslationsHeader()}\n                    <th className={`${TABLE_HEAD_CLASS} ${cellClass}--actions`}>\n                        <TableViewColumnsTogglerComponent\n                            columnsVisibility={columnsVisibility}\n                            toggleColumnVisibility={this.toggleColumnVisibility}\n                        />\n                    </th>\n                </tr>\n            </thead>\n        );\n    }\n\n    render() {\n        const { items } = this.props;\n        const content = items.map(this.renderItem);\n\n        return (\n            <div className=\"c-table-view__wrapper\">\n                <div className=\"c-table-view__scroller\">\n                    <table className=\"c-table-view\">\n                        {this.renderHead()}\n                        <tbody className=\"c-table-view__body\">{content}</tbody>\n                    </table>\n                </div>\n            </div>\n        );\n    }\n}\n\nTableViewComponent.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    handleItemPriorityUpdate: PropTypes.func.isRequired,\n    generateLink: PropTypes.func.isRequired,\n    handleEditItem: PropTypes.func.isRequired,\n    languages: PropTypes.object.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    toggleAllItemsSelect: PropTypes.func.isRequired,\n    selectedLocationsIds: PropTypes.instanceOf(Set),\n    onSortChange: PropTypes.func.isRequired,\n    sortClause: PropTypes.string.isRequired,\n    sortOrder: PropTypes.string.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/table-view/table.view.component.js","import React, { Component, Fragment } from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nimport ViewSwitcherComponent from './components/view-switcher/view.switcher.component.js';\nimport SubItemsListComponent from './components/sub-items-list/sub.items.list.component.js';\nimport Popup from '../common/popup/popup.component';\nimport ActionButton from './components/action-btn/action.btn.js';\nimport PaginationComponent from './components/pagination/pagination.component.js';\nimport NoItemsComponent from './components/no-items/no.items.component.js';\nimport Icon from '../common/icon/icon.js';\n\nimport deepClone from '../common/helpers/deep.clone.helper.js';\nimport { updateLocationPriority, loadLocation, loadContentInfo, loadContentType, loadContentTypes } from './services/sub.items.service';\nimport { bulkMoveLocations, bulkDeleteItems } from './services/bulk.service.js';\n\nconst ASCENDING_SORT_ORDER = 'ascending';\nconst DESCENDING_SORT_ORDER = 'descending';\nconst DEFAULT_SORT_ORDER = ASCENDING_SORT_ORDER;\n\nexport default class SubItemsModule extends Component {\n    constructor(props) {\n        super(props);\n\n        this.afterPriorityUpdated = this.afterPriorityUpdated.bind(this);\n        this.loadContentItems = this.loadContentItems.bind(this);\n        this.loadContentTypes = this.loadContentTypes.bind(this);\n        this.updateItemsState = this.updateItemsState.bind(this);\n        this.switchView = this.switchView.bind(this);\n        this.handleItemPriorityUpdate = this.handleItemPriorityUpdate.bind(this);\n        this.toggleItemSelection = this.toggleItemSelection.bind(this);\n        this.toggleAllPageItemsSelection = this.toggleAllPageItemsSelection.bind(this);\n        this.onMoveBtnClick = this.onMoveBtnClick.bind(this);\n        this.closeUdw = this.closeUdw.bind(this);\n        this.onUdwConfirm = this.onUdwConfirm.bind(this);\n        this.onDeleteBtnClick = this.onDeleteBtnClick.bind(this);\n        this.closeBulkDeletePopup = this.closeBulkDeletePopup.bind(this);\n        this.onBulkDeletePopupConfirm = this.onBulkDeletePopupConfirm.bind(this);\n        this.afterBulkDelete = this.afterBulkDelete.bind(this);\n        this.changePage = this.changePage.bind(this);\n        this.changeSorting = this.changeSorting.bind(this);\n\n        this._refListViewWrapper = React.createRef();\n        this.bulkDeleteModalContainer = null;\n        this.udwContainer = null;\n\n        const sortClauseData = this.getDefaultSortClause(props.sortClauses);\n\n        this.state = {\n            activeView: props.activeView,\n            activePageItems: props.items,\n            selectedItems: new Map(),\n            contentTypesMap: props.contentTypesMap,\n            totalCount: props.totalCount,\n            offset: props.offset,\n            isDuringBulkOperation: false,\n            isUdwOpened: false,\n            isBulkDeletePopupVisible: false,\n            activePageIndex: 0,\n            listViewHeight: null,\n            sortClause: sortClauseData.name,\n            sortOrder: sortClauseData.order,\n        };\n    }\n\n    componentDidMount() {\n        this.udwContainer = document.getElementById('react-udw');\n        this.bulkDeleteModalContainer = document.createElement('div');\n        this.bulkDeleteModalContainer.classList.add('m-sub-items__bulk-delete-modal-container');\n        document.body.appendChild(this.bulkDeleteModalContainer);\n    }\n\n    componentDidUpdate() {\n        const { activePageIndex, activePageItems, totalCount } = this.state;\n        const { limit: itemsPerPage } = this.props;\n        const pagesCount = Math.ceil(totalCount / itemsPerPage);\n        const pageDoesNotExist = activePageIndex > pagesCount - 1 && activePageIndex !== 0;\n\n        if (pageDoesNotExist) {\n            this.setState({\n                activePageIndex: pagesCount - 1,\n            });\n\n            return;\n        }\n\n        const shouldLoadPage = !activePageItems;\n\n        if (shouldLoadPage) {\n            this.loadPage(activePageIndex);\n        }\n    }\n\n    componentWillUnmount() {\n        document.body.removeChild(this.bulkDeleteModalContainer);\n    }\n\n    getDefaultSortClause(sortClauses) {\n        const objKeys = Object.keys(sortClauses);\n\n        if (!objKeys.length) {\n            return { name: null, order: null };\n        }\n\n        const name = objKeys[0];\n        const order = sortClauses[name];\n\n        return { name, order };\n    }\n\n    updateListViewHeight() {\n        this.setState(() => ({\n            listViewHeight: this._refListViewWrapper.current.offsetHeight,\n        }));\n    }\n\n    /**\n     * Loads items into the list\n     *\n     * @method loadPage\n     * @memberof SubItemsModule\n     */\n    loadPage(pageIndex) {\n        this.loadLocation(pageIndex)\n            .then(this.loadContentItems)\n            .then(this.loadContentTypes)\n            .then(this.updateItemsState)\n            .catch(() => {\n                const errorMessage = Translator.trans(\n                    /*@Desc(\"An error occurred while loading items in the Sub Items module\")*/ 'page.loading_error.message',\n                    {},\n                    'sub_items'\n                );\n\n                window.eZ.helpers.notification.showErrorNotification(errorMessage);\n            });\n    }\n\n    /**\n     * Loads location data\n     *\n     * @param {Number} pageIndex\n     * @method loadLocation\n     * @returns {Promise}\n     * @memberof SubItemsModule\n     */\n    loadLocation(pageIndex) {\n        const { limit: itemsPerPage, loadLocation, restInfo, parentLocationId: locationId } = this.props;\n        const { sortClause, sortOrder } = this.state;\n        const offset = pageIndex * itemsPerPage;\n        const sortClauses = {\n            [sortClause]: sortOrder,\n        };\n        const queryConfig = { locationId, limit: itemsPerPage, sortClauses, offset };\n\n        return new Promise((resolve) => loadLocation(restInfo, queryConfig, resolve));\n    }\n\n    /**\n     * Loads content items from location\n     *\n     * @method loadContentItems\n     * @param {Object} response query results\n     * @returns {Promise}\n     * @memberof SubItemsModule\n     */\n    loadContentItems(response) {\n        const { loadContentInfo, restInfo } = this.props;\n\n        if (!response || !response.View) {\n            const invalidResponseFormatMessage = Translator.trans(\n                /*@Desc(\"Invalid response format\")*/ 'load_content_items.invalid_response_format.error.message',\n                {},\n                'sub_items'\n            );\n\n            throw new Error(invalidResponseFormatMessage);\n        }\n\n        const locations = response.View.Result.searchHits.searchHit;\n\n        return new Promise((resolve) => {\n            const contentIds = locations.map((item) => item.value.Location.ContentInfo.Content._id);\n\n            loadContentInfo(restInfo, contentIds, (contentInfo) => {\n                const totalCount = response.View.Result.count;\n\n                resolve({\n                    locations,\n                    totalCount,\n                    contentItems: contentInfo.View.Result.searchHits.searchHit.map((searchHit) => searchHit.value.Content),\n                });\n            });\n        });\n    }\n\n    /**\n     * Loads content types info\n     *\n     * @method loadContentTypes\n     * @param {Object} itemsData\n     * @returns {Promise}\n     * @memberof SubItemsModule\n     */\n    loadContentTypes(itemsData) {\n        const promises = itemsData.contentItems.map(\n            (content) =>\n                new Promise((resolve) => {\n                    const contentTypeId = content.ContentType._href;\n\n                    if (!this.state.contentTypesMap[contentTypeId]) {\n                        this.props.loadContentType(contentTypeId, this.props.restInfo, (response) => resolve(response));\n                    } else {\n                        resolve({ ContentType: this.state.contentTypesMap[contentTypeId] });\n                    }\n                })\n        );\n\n        return Promise.all(promises).then((contentTypes) => {\n            itemsData.contentTypes = contentTypes;\n\n            return itemsData;\n        });\n    }\n\n    /**\n     * Updates module state by updating items list\n     *\n     * @method updateItemsState\n     * @param {Object} responses\n     * @memberof SubItemsModule\n     */\n    updateItemsState({ locations, contentItems, totalCount, contentTypes }) {\n        const pageItems = locations.map((location) => {\n            const itemLocation = location.value.Location;\n            const respectiveContent = contentItems.find((content) => content._id === itemLocation.ContentInfo.Content._id);\n\n            return {\n                location: itemLocation,\n                content: respectiveContent,\n            };\n        });\n\n        this.setState((state) => ({\n            activePageItems: pageItems,\n            totalCount,\n            contentTypesMap: {\n                ...state.contentTypesMap,\n                ...this.buildContentTypesMap(contentTypes),\n            },\n        }));\n    }\n\n    /**\n     * Builds content types map\n     *\n     * @method buildContentTypesMap\n     * @param {Array} contentTypes\n     * @returns {Object}\n     * @memberof SubItemsModule\n     */\n    buildContentTypesMap(contentTypes) {\n        if (!contentTypes) {\n            return {};\n        }\n\n        return contentTypes.reduce((total, item) => {\n            total[item.ContentType._href] = item.ContentType;\n\n            return total;\n        }, {});\n    }\n\n    updateTotalCountState(totalCount) {\n        this.setState(() => ({\n            totalCount,\n        }));\n    }\n\n    discardActivePageItems() {\n        this.updateListViewHeight();\n        this.setState(() => ({\n            activePageItems: null,\n        }));\n    }\n\n    changeSorting(sortClause) {\n        this.updateListViewHeight();\n        this.setState((state) => ({\n            sortClause,\n            sortOrder: this.getSortOrder(state.sortClause, sortClause, state.sortOrder),\n            activePageItems: null,\n        }));\n    }\n\n    getSortOrder(sortClause, newSortClause, currentSortOrder) {\n        return newSortClause === sortClause ? this.getOppositeSortOrder(currentSortOrder) : DEFAULT_SORT_ORDER;\n    }\n\n    getOppositeSortOrder(sortOrder) {\n        return sortOrder === ASCENDING_SORT_ORDER ? DESCENDING_SORT_ORDER : ASCENDING_SORT_ORDER;\n    }\n\n    /**\n     * Updates item priority\n     *\n     * @method handleItemPriorityUpdate\n     * @param {Object} data data hash containing: priority, location, token, siteaccess\n     * @memberof SubItemsModule\n     */\n    handleItemPriorityUpdate(data) {\n        this.props.updateLocationPriority({ ...data, ...this.props.restInfo }, this.afterPriorityUpdated);\n    }\n\n    /**\n     * Updates module state after item's priority has been updated\n     *\n     * @method afterPriorityUpdated\n     * @param {Object} response\n     * @memberof SubItemsModule\n     */\n    afterPriorityUpdated(response) {\n        if (this.state.sortClause === 'LocationPriority') {\n            this.discardActivePageItems();\n            return;\n        }\n\n        this.updateItemLocation(response.Location);\n    }\n\n    updateItemLocation(location) {\n        this.setState(({ activePageItems }) => {\n            const itemIndex = activePageItems.findIndex((item) => item.location.id === location.id);\n\n            if (itemIndex === -1) {\n                return null;\n            }\n\n            const item = activePageItems[itemIndex];\n            const updatedItem = deepClone(item);\n            const updatedPageItems = [...activePageItems];\n\n            updatedItem.location = location;\n            updatedPageItems[itemIndex] = updatedItem;\n\n            return {\n                activePageItems: updatedPageItems,\n            };\n        });\n    }\n\n    /**\n     * Switches active view\n     *\n     * @method switchView\n     * @param {String} activeView\n     * @memberof SubItemsModule\n     */\n    switchView(activeView) {\n        this.setState(() => ({ activeView }));\n    }\n\n    toggleItemSelection(item, isSelected) {\n        const { selectedItems } = this.state;\n        const updatedSelectedItems = new Map(selectedItems);\n        const locationId = item.location.id;\n\n        if (isSelected) {\n            updatedSelectedItems.set(locationId, item);\n        } else {\n            updatedSelectedItems.delete(locationId);\n        }\n\n        this.setState(() => ({ selectedItems: updatedSelectedItems }));\n    }\n\n    toggleAllPageItemsSelection(select) {\n        const { activePageItems } = this.state;\n\n        if (select) {\n            this.selectItems(activePageItems);\n        } else {\n            const locationsIds = activePageItems.map((item) => item.location.id);\n            const locationsIdsSet = new Set(locationsIds);\n\n            this.deselectItems(locationsIdsSet);\n        }\n    }\n\n    /**\n     *\n     * @param {Array} itemsToSelect\n     */\n    selectItems(itemsToSelect) {\n        const { selectedItems } = this.state;\n        const newSelectedItems = itemsToSelect.map((item) => [item.location.id, item]);\n        const newSelection = new Map([...selectedItems, ...newSelectedItems]);\n\n        this.setState(() => ({ selectedItems: newSelection }));\n    }\n\n    /**\n     * Deselects items with locations with provided IDs.\n     *\n     * @param {Set} locationsIds\n     */\n    deselectItems(locationsIds) {\n        const { selectedItems } = this.state;\n        const newSelection = new Map([...selectedItems].filter(([locationId]) => !locationsIds.has(locationId)));\n\n        this.setState(() => ({ selectedItems: newSelection }));\n    }\n\n    deselectAllItems() {\n        this.setState(() => ({ selectedItems: new Map() }));\n    }\n\n    toggleBulkOperationStatusState(isDuringBulkOperation) {\n        this.setState(() => ({\n            isDuringBulkOperation,\n        }));\n    }\n\n    onMoveBtnClick() {\n        this.toggleUdw(true);\n    }\n\n    bulkMove(location) {\n        this.toggleBulkOperationStatusState(true);\n\n        const { restInfo } = this.props;\n        const { selectedItems } = this.state;\n        const locationsToMove = [...selectedItems.values()].map(({ location }) => location);\n\n        bulkMoveLocations(restInfo, locationsToMove, location._href, this.afterBulkMove.bind(this, selectedItems, location));\n    }\n\n    afterBulkMove(selectedItems, location, movedLocations, notMovedLocations) {\n        const { totalCount } = this.state;\n\n        this.refreshContentTree();\n        this.updateTotalCountState(totalCount - movedLocations.length);\n        this.deselectAllItems();\n        this.discardActivePageItems();\n\n        this.toggleBulkOperationStatusState(false);\n\n        if (notMovedLocations.length) {\n            const modalTableTitle = Translator.trans(\n                /*@Desc(\"Content items cannot be moved (%itemsCount%)\")*/ 'bulk_move.error.modal.table_title',\n                {\n                    itemsCount: notMovedLocations.length,\n                },\n                'sub_items'\n            );\n            const notificationMessage = Translator.trans(\n                /*@Desc(\"%notMovedCount% of the %totalCount% selected item(s) could not be moved because you do not have proper user permissions. {{ moreInformationLink }} Please contact your Administrator to obtain permissions.\")*/ 'bulk_move.error.message',\n                {\n                    notMovedCount: notMovedLocations.length,\n                    totalCount: movedLocations.length + notMovedLocations.length,\n                },\n                'sub_items'\n            );\n            const rawPlaceholdersMap = {\n                moreInformationLink: Translator.trans(\n                    /*@Desc(\"<u><a class='ez-notification-btn ez-notification-btn--show-modal'>Click here for more information.</a></u><br>\")*/ 'bulk_move.error.more_info',\n                    {},\n                    'sub_items'\n                ),\n            };\n\n            this.handleBulkOperationFailedNotification(selectedItems, notMovedLocations, modalTableTitle, notificationMessage, rawPlaceholdersMap);\n        }\n\n        if (movedLocations.length) {\n            const message = Translator.trans(\n                /*@Desc(\"The selected content item(s) have been sent to {{ locationLink }}\")*/ 'bulk_move.success.message',\n                {},\n                'sub_items'\n            );\n            const rawPlaceholdersMap = {\n                locationLink: Translator.trans(\n                    /*@Desc(\"<u><a href='%locationHref%'>%locationName%</a></u>\")*/ 'bulk_move.success.link_to_location',\n                    {\n                        locationName: eZ.helpers.text.escapeHTML(location.ContentInfo.Content.Name),\n                        locationHref: this.props.generateLink(location.id),\n                    },\n                    'sub_items'\n                ),\n            };\n\n            window.eZ.helpers.notification.showSuccessNotification(message, () => {}, rawPlaceholdersMap);\n        }\n    }\n\n    toggleUdw(show) {\n        this.setState(() => ({\n            isUdwOpened: show,\n        }));\n    }\n\n    closeUdw() {\n        this.toggleUdw(false);\n    }\n\n    onUdwConfirm([selectedLocation]) {\n        this.closeUdw();\n        this.bulkMove(selectedLocation);\n    }\n\n    renderUdw() {\n        const { isUdwOpened } = this.state;\n\n        if (!isUdwOpened) {\n            return null;\n        }\n\n        const UniversalDiscovery = window.eZ.modules.UniversalDiscovery;\n        const { restInfo, parentLocationId, udwConfigBulkMoveItems } = this.props;\n        const { selectedItems } = this.state;\n        const selectedItemsLocationsIds = [...selectedItems.values()].map(({ location }) => location.id);\n        const excludedMoveLocations = [parentLocationId, ...selectedItemsLocationsIds];\n        const title = Translator.trans(/*@Desc(\"Choose location\")*/ 'udw.choose_location.title', {}, 'sub_items');\n        const udwProps = {\n            title,\n            restInfo,\n            onCancel: this.closeUdw,\n            onConfirm: this.onUdwConfirm,\n            canSelectContent: ({ item }, callback) => {\n                callback(!excludedMoveLocations.includes(item.id));\n            },\n            ...udwConfigBulkMoveItems,\n        };\n\n        return ReactDOM.createPortal(<UniversalDiscovery {...udwProps} />, this.udwContainer);\n    }\n\n    onDeleteBtnClick() {\n        this.toggleBulkDeletePopup(true);\n    }\n\n    bulkDelete() {\n        this.toggleBulkOperationStatusState(true);\n\n        const { restInfo } = this.props;\n        const { selectedItems, contentTypesMap } = this.state;\n        const itemsToDelete = [...selectedItems.values()];\n\n        bulkDeleteItems(restInfo, itemsToDelete, contentTypesMap, this.afterBulkDelete.bind(this, selectedItems));\n    }\n\n    afterBulkDelete(selectedItems, deletedLocations, notDeletedLocations) {\n        const { totalCount } = this.state;\n\n        this.refreshContentTree();\n        this.updateTotalCountState(totalCount - deletedLocations.length);\n        this.deselectAllItems();\n        this.discardActivePageItems();\n\n        this.toggleBulkOperationStatusState(false);\n\n        if (notDeletedLocations.length) {\n            const modalTableTitle = Translator.trans(\n                /*@Desc(\"Content item(s) cannot be deleted (%itemsCount%)\")*/ 'bulk_delete.error.modal.table_title',\n                {\n                    itemsCount: notDeletedLocations.length,\n                },\n                'sub_items'\n            );\n            const message = Translator.trans(\n                /*@Desc(\"%notDeletedCount% of the %totalCount% selected item(s) could not be deleted because you do not have proper user permissions. {{ moreInformationLink }} Please contact your Administrator to obtain permissions.\")*/ 'bulk_delete.error.message',\n                {\n                    notDeletedCount: notDeletedLocations.length,\n                    totalCount: deletedLocations.length + notDeletedLocations.length,\n                },\n                'sub_items'\n            );\n\n            const rawPlaceholdersMap = {\n                moreInformationLink: Translator.trans(\n                    /*@Desc(\"<u><a class='ez-notification-btn ez-notification-btn--show-modal'>Click here for more information.</a></u><br>\")*/ 'bulk_delete.error.more_info',\n                    {},\n                    'sub_items'\n                ),\n            };\n\n            this.handleBulkOperationFailedNotification(selectedItems, notDeletedLocations, modalTableTitle, message, rawPlaceholdersMap);\n        } else {\n            const message = Translator.trans(\n                /*@Desc(\"The selected content item(s) have been deleted\")*/ 'bulk_delete.success.message',\n                {},\n                'sub_items'\n            );\n\n            window.eZ.helpers.notification.showSuccessNotification(message);\n        }\n    }\n\n    toggleBulkDeletePopup(show) {\n        this.setState(() => ({\n            isBulkDeletePopupVisible: show,\n        }));\n    }\n\n    closeBulkDeletePopup() {\n        this.toggleBulkDeletePopup(false);\n    }\n\n    onBulkDeletePopupConfirm() {\n        this.closeBulkDeletePopup();\n        this.bulkDelete();\n    }\n\n    /**\n     * Shows warning notification which has a button.\n     * Clicking the button should cause appearance of the modal\n     * with list of items, which failed to be deleted/moved.\n     *\n     * @param {Map} selectedItems\n     * @param {Array} failedLocations\n     * @param {String} modalTableTitle\n     * @param {String} notificationMessage\n     * @param {Object} rawPlaceholdersMap\n     */\n    handleBulkOperationFailedNotification(selectedItems, failedLocations, modalTableTitle, notificationMessage, rawPlaceholdersMap) {\n        const { contentTypesMap } = this.state;\n        const failedItemsData = failedLocations.map(({ id: locationId }) => {\n            const item = selectedItems.get(locationId);\n            const contentType = contentTypesMap[item.content.ContentType._href];\n            const contentTypeIdentifier = contentType.identifier;\n            const contentTypeName = window.eZ.adminUiConfig.contentTypeNames[contentTypeIdentifier];\n\n            return {\n                contentTypeName,\n                contentName: item.content.Name,\n            };\n        });\n\n        window.eZ.helpers.notification.showWarningNotification(notificationMessage, (notificationNode) => {\n            const showModalBtn = notificationNode.querySelector('.ez-notification-btn--show-modal');\n\n            if (!showModalBtn) {\n                return;\n            }\n\n            showModalBtn.addEventListener('click', this.props.showBulkActionFailedModal.bind(null, modalTableTitle, failedItemsData));\n        }, rawPlaceholdersMap);\n    }\n\n    refreshContentTree() {\n        document.body.dispatchEvent(new CustomEvent('ez-content-tree-refresh'));\n    }\n\n    renderConfirmationPopupFooter() {\n        const cancelLabel = Translator.trans(/*@Desc(\"Cancel\")*/ 'bulk_delete.popup.cancel', {}, 'sub_items');\n        const confirmLabel = Translator.trans(/*@Desc(\"Delete\")*/ 'bulk_delete.popup.confirm', {}, 'sub_items');\n\n        return (\n            <Fragment>\n                <button\n                    onClick={this.closeBulkDeletePopup}\n                    type=\"button\"\n                    className=\"btn btn-secondary btn--no m-sub-items__confirmation-modal-cancel-btn\"\n                    data-dismiss=\"modal\">\n                    {cancelLabel}\n                </button>\n                <button onClick={this.onBulkDeletePopupConfirm} type=\"button\" className=\"btn btn-danger font-weight-bold btn--trigger\">\n                    {confirmLabel}\n                </button>\n            </Fragment>\n        );\n    }\n\n    renderConfirmationPopup() {\n        const { isBulkDeletePopupVisible } = this.state;\n\n        if (!isBulkDeletePopupVisible) {\n            return null;\n        }\n\n        const confirmationMessage = Translator.trans(\n            /*@Desc(\"Are you sure you want to delete the selected content item(s)?\")*/ 'bulk_delete.popup.message',\n            {},\n            'sub_items'\n        );\n\n        return ReactDOM.createPortal(\n            <Popup\n                onClose={this.closeBulkDeletePopup}\n                isVisible={isBulkDeletePopupVisible}\n                isLoading={false}\n                size=\"medium\"\n                footerChildren={this.renderConfirmationPopupFooter()}\n                noHeader={true}>\n                <div className=\"m-sub-items__confirmation-modal-body\">{confirmationMessage}</div>\n            </Popup>,\n            this.bulkDeleteModalContainer\n        );\n    }\n\n    changePage(pageIndex) {\n        this.updateListViewHeight();\n        this.setState(() => ({\n            activePageIndex: pageIndex,\n            activePageItems: null,\n        }));\n    }\n\n    getPageSelectedLocationsIds() {\n        const { selectedItems, activePageItems } = this.state;\n        const selectedLocationsIds = [...selectedItems.keys()];\n        const pageLocationsIds = [...activePageItems.map((item) => item.location.id)];\n        const selectedPageLocationsIds = new Set(pageLocationsIds.filter((locationId) => selectedLocationsIds.includes(locationId)));\n\n        return selectedPageLocationsIds;\n    }\n\n    /**\n     * Renders extra actions\n     *\n     * @method renderExtraActions\n     * @param {Object} action\n     * @returns {JSX.Element}\n     * @memberof SubItemsModule\n     */\n    renderExtraActions(action, index) {\n        const Action = action.component;\n\n        return <Action key={index} className=\"m-sub-items__action\" {...action.attrs} />;\n    }\n\n    /**\n     * Renders pagination info,\n     * which is information about how many items of all user is\n     * viewing at the moment\n     *\n     * @method renderPaginationInfo\n     * @returns {JSX.Element}\n     */\n    renderPaginationInfo() {\n        const { totalCount, activePageItems } = this.state;\n        const viewingCount = activePageItems ? activePageItems.length : 0;\n\n        const message = Translator.trans(\n            /*@Desc(\"Viewing <strong>%viewingCount%</strong> out of <strong>%totalCount%</strong> sub-items\")*/ 'viewing_message',\n            {\n                viewingCount,\n                totalCount,\n            },\n            'sub_items'\n        );\n\n        return <div className=\"m-sub-items__pagination-info\" dangerouslySetInnerHTML={{ __html: message }} />;\n    }\n\n    /**\n     * Renders pagination\n     *\n     * @method renderPagination\n     * @returns {JSX.Element|null}\n     * @memberof SubItemsModule\n     */\n    renderPagination() {\n        const { limit: itemsPerPage } = this.props;\n        const { totalCount } = this.state;\n        const lessThanOnePage = totalCount <= itemsPerPage;\n\n        if (lessThanOnePage) {\n            return null;\n        }\n\n        const { activePageIndex, activePageItems, isDuringBulkOperation } = this.state;\n        const isActivePageLoaded = !!activePageItems;\n        const isPaginationDisabled = !isActivePageLoaded || isDuringBulkOperation;\n\n        return (\n            <PaginationComponent\n                proximity={1}\n                itemsPerPage={itemsPerPage}\n                activePageIndex={activePageIndex}\n                totalCount={totalCount}\n                onPageChange={this.changePage}\n                disabled={isPaginationDisabled}\n            />\n        );\n    }\n\n    renderBulkMoveBtn(disabled) {\n        const label = Translator.trans(/*@Desc(\"Move selected items\")*/ 'move_btn.label', {}, 'sub_items');\n\n        return <ActionButton disabled={disabled} onClick={this.onMoveBtnClick} label={label} type=\"move\" />;\n    }\n\n    renderBulkDeleteBtn(disabled) {\n        const label = Translator.trans(/*@Desc(\"Delete selected items\")*/ 'trash_btn.label', {}, 'sub_items');\n\n        return <ActionButton disabled={disabled} onClick={this.onDeleteBtnClick} label={label} type=\"trash\" />;\n    }\n\n    renderSpinner() {\n        const { activePageItems } = this.state;\n        const isActivePageLoaded = !!activePageItems;\n\n        if (isActivePageLoaded) {\n            return null;\n        }\n\n        const { listViewHeight } = this.state;\n        const spinnerMinHeight = 90;\n        const style = {\n            height: listViewHeight && listViewHeight > spinnerMinHeight ? listViewHeight : spinnerMinHeight,\n        };\n\n        return (\n            <div style={style}>\n                <div className=\"m-sub-items__spinner-wrapper\">\n                    <Icon name=\"spinner\" extraClasses=\"m-sub-items__spinner ez-icon--medium ez-spin\" />\n                </div>\n            </div>\n        );\n    }\n\n    renderNoItems() {\n        if (this.state.totalCount) {\n            return null;\n        }\n\n        return <NoItemsComponent />;\n    }\n\n    renderListView() {\n        const { activePageItems, sortClause, sortOrder } = this.state;\n        const pageLoaded = !!activePageItems;\n\n        if (!pageLoaded) {\n            return null;\n        }\n\n        const selectedPageLocationsIds = this.getPageSelectedLocationsIds();\n\n        return (\n            <SubItemsListComponent\n                activeView={this.state.activeView}\n                contentTypesMap={this.state.contentTypesMap}\n                handleItemPriorityUpdate={this.handleItemPriorityUpdate}\n                items={activePageItems}\n                languages={this.props.languages}\n                handleEditItem={this.props.handleEditItem}\n                generateLink={this.props.generateLink}\n                onItemSelect={this.toggleItemSelection}\n                toggleAllItemsSelect={this.toggleAllPageItemsSelection}\n                selectedLocationsIds={selectedPageLocationsIds}\n                onSortChange={this.changeSorting}\n                sortClause={sortClause}\n                sortOrder={sortOrder}\n            />\n        );\n    }\n\n    render() {\n        const listTitle = Translator.trans(/*@Desc(\"Sub-items\")*/ 'items_list.title', {}, 'sub_items');\n        const { selectedItems, activeView, totalCount, isDuringBulkOperation, activePageItems } = this.state;\n        const nothingSelected = !selectedItems.size;\n        const isTableViewActive = activeView === 'table';\n        const pageLoaded = !!activePageItems;\n        const bulkBtnDisabled = nothingSelected || !isTableViewActive || !pageLoaded;\n        let listClassName = 'm-sub-items__list';\n\n        if (isDuringBulkOperation) {\n            listClassName = `${listClassName} ${listClassName}--processing`;\n        }\n\n        return (\n            <div className=\"m-sub-items\">\n                <div className=\"m-sub-items__header\">\n                    <div className=\"m-sub-items__title\">\n                        {listTitle} ({this.state.totalCount})\n                    </div>\n                    <div className=\"m-sub-items__actions\">\n                        {this.props.extraActions.map(this.renderExtraActions)}\n                        {this.renderBulkMoveBtn(bulkBtnDisabled)}\n                        {this.renderBulkDeleteBtn(bulkBtnDisabled)}\n                    </div>\n                    <ViewSwitcherComponent onViewChange={this.switchView} activeView={activeView} isDisabled={!totalCount} />\n                </div>\n                <div ref={this._refListViewWrapper} className={listClassName}>\n                    {this.renderSpinner()}\n                    {this.renderListView()}\n                    {this.renderNoItems()}\n                </div>\n                {this.renderPaginationInfo()}\n                {this.renderPagination()}\n                {this.renderUdw()}\n                {this.renderConfirmationPopup()}\n            </div>\n        );\n    }\n}\n\neZ.addConfig('modules.SubItems', SubItemsModule);\n\nSubItemsModule.propTypes = {\n    parentLocationId: PropTypes.number.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    loadContentInfo: PropTypes.func,\n    loadContentType: PropTypes.func,\n    loadContentTypes: PropTypes.func,\n    loadLocation: PropTypes.func,\n    sortClauses: PropTypes.object,\n    updateLocationPriority: PropTypes.func,\n    activeView: PropTypes.string,\n    extraActions: PropTypes.arrayOf(\n        PropTypes.shape({\n            component: PropTypes.func,\n            attrs: PropTypes.object,\n        })\n    ),\n    items: PropTypes.arrayOf(PropTypes.object),\n    limit: PropTypes.number,\n    offset: PropTypes.number,\n    handleEditItem: PropTypes.func.isRequired,\n    generateLink: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object,\n    totalCount: PropTypes.number,\n    languages: PropTypes.object,\n    udwConfigBulkMoveItems: PropTypes.object.isRequired,\n    showBulkActionFailedModal: PropTypes.func.isRequired,\n};\n\nSubItemsModule.defaultProps = {\n    loadContentInfo,\n    loadContentType,\n    loadContentTypes,\n    loadLocation,\n    sortClauses: {},\n    updateLocationPriority,\n    activeView: 'table',\n    extraActions: [],\n    languages: window.eZ.adminUiConfig.languages,\n    items: [],\n    limit: parseInt(window.eZ.adminUiConfig.subItems.limit, 10),\n    offset: 0,\n    contentTypesMap: {},\n    totalCount: 0,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/sub.items.module.js","module.exports = __WEBPACK_EXTERNAL_MODULE_15__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"ReactDOM\",\"commonjs2\":\"react-dom\",\"commonjs\":\"react-dom\",\"amd\":\"react-dom\"}\n// module id = 15\n// module chunks = 1","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ViewSwitcherButton from './view.switcher.button.component';\n\nconst ViewSwitcherComponent = ({ onViewChange, activeView, isDisabled }) => {\n    let componentClassName = 'c-view-switcher';\n\n    if (isDisabled) {\n        componentClassName = `${componentClassName} ${componentClassName}--disabled`;\n    }\n\n    const listViewBtnLabel = Translator.trans(/*@Desc(\"View as list\")*/ 'switch_to_list_view.btn.label', {}, 'sub_items');\n    const gridViewBtnLabel = Translator.trans(/*@Desc(\"View as grid\")*/ 'switch_to_grid_view.btn.label', {}, 'sub_items');\n\n    return (\n        <div className={componentClassName}>\n            <ViewSwitcherButton\n                id=\"table\"\n                icon=\"view-list\"\n                title={listViewBtnLabel}\n                onClick={onViewChange}\n                activeView={activeView}\n                isDisabled={isDisabled}\n            />\n            <ViewSwitcherButton\n                id=\"grid\"\n                icon=\"view-grid\"\n                title={gridViewBtnLabel}\n                onClick={onViewChange}\n                activeView={activeView}\n                isDisabled={isDisabled}\n            />\n        </div>\n    );\n};\n\nViewSwitcherComponent.propTypes = {\n    onViewChange: PropTypes.func.isRequired,\n    activeView: PropTypes.string.isRequired,\n    isDisabled: PropTypes.bool.isRequired,\n};\n\nexport default ViewSwitcherComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/view-switcher/view.switcher.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst ViewSwitcherButton = ({ id, icon, title, onClick, activeView, isDisabled }) => {\n    const baseClassName = 'c-view-switcher-btn';\n    const attrs = {\n        id,\n        onClick: () => onClick(id),\n        className: baseClassName,\n        title,\n        tabIndex: '-1',\n    };\n    const iconAttrs = {\n        name: icon,\n        extraClasses: 'ez-icon--secondary ez-icon--small',\n    };\n\n    if (activeView === id) {\n        attrs.className = `${baseClassName} ${baseClassName}--active`;\n        iconAttrs.extraClasses = 'ez-icon--light ez-icon--small';\n    }\n\n    if (isDisabled) {\n        attrs.className = `${attrs.className} ${baseClassName}--disabled`;\n    }\n\n    return (\n        <div {...attrs}>\n            <Icon {...iconAttrs} />\n        </div>\n    );\n};\n\nViewSwitcherButton.propTypes = {\n    id: PropTypes.string.isRequired,\n    activeView: PropTypes.string.isRequired,\n    isDisabled: PropTypes.bool.isRequired,\n    icon: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n\nexport default ViewSwitcherButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/view-switcher/view.switcher.button.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TableViewComponent from '../table-view/table.view.component.js';\nimport GridViewComponent from '../grid-view/grid.view.component.js';\n\nconst views = {\n    table: TableViewComponent,\n    grid: GridViewComponent,\n};\n\nconst SubItemsListComponent = (props) => {\n    const Component = views[props.activeView];\n\n    return <Component {...props} />;\n};\n\nSubItemsListComponent.propTypes = {\n    activeView: PropTypes.string.isRequired,\n    items: PropTypes.arrayOf(PropTypes.object),\n    contentTypesMap: PropTypes.object.isRequired,\n    handleItemPriorityUpdate: PropTypes.func.isRequired,\n    languages: PropTypes.object.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    toggleAllItemsSelect: PropTypes.func.isRequired,\n    selectedLocationsIds: PropTypes.instanceOf(Set).isRequired,\n    onSortChange: PropTypes.func.isRequired,\n    sortClause: PropTypes.string.isRequired,\n    sortOrder: PropTypes.string.isRequired,\n};\n\nexport default SubItemsListComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/sub-items-list/sub.items.list.component.js","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nexport default class TableViewItemComponent extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.storePriorityValue = this.storePriorityValue.bind(this);\n        this.enablePriorityInput = this.enablePriorityInput.bind(this);\n        this.handleSubmit = this.handleSubmit.bind(this);\n        this.handleCancel = this.handleCancel.bind(this);\n        this.handleEdit = this.handleEdit.bind(this);\n        this.onSelectCheckboxChange = this.onSelectCheckboxChange.bind(this);\n        this.setPriorityInputRef = this.setPriorityInputRef.bind(this);\n\n        this._refPriorityInput = null;\n\n        this.state = {\n            priorityValue: props.location.priority,\n            priorityInputEnabled: false,\n            startingPriorityValue: props.location.priority,\n        };\n    }\n\n    /**\n     * Enables priority input field\n     *\n     * @method enablePriorityInput\n     * @memberof TableViewItemComponent\n     */\n    enablePriorityInput() {\n        this.setState(() => ({ priorityInputEnabled: true }));\n    }\n\n    /**\n     * Handles priority update cancel action.\n     * Restores previous value and blocks the priority input.\n     *\n     * @method handleCancel\n     * @param {Event} event\n     * @memberof TableViewItemComponent\n     */\n    handleCancel(event) {\n        event.preventDefault();\n\n        this.setState((state) => ({\n            priorityInputEnabled: false,\n            priorityValue: state.startingPriorityValue,\n        }));\n    }\n\n    /**\n     * Handles submit action.\n     * Updates priority value.\n     *\n     * @method handleSubmit\n     * @param {Event} event\n     * @memberof TableViewItemComponent\n     */\n    handleSubmit(event) {\n        event.preventDefault();\n\n        this.props.onItemPriorityUpdate({\n            location: this.props.location._href,\n            priority: this._refPriorityInput.value,\n        });\n\n        this.setState(() => ({\n            priorityValue: this._refPriorityInput.value,\n            priorityInputEnabled: false,\n            startingPriorityValue: this._refPriorityInput.value,\n        }));\n    }\n\n    /**\n     * Stores priority value\n     *\n     * @method storePriorityValue\n     * @param {Event} event\n     * @memberof TableViewItemComponent\n     */\n    storePriorityValue(event) {\n        event.preventDefault();\n\n        this.setState(() => ({ priorityValue: this._refPriorityInput.value }));\n    }\n\n    /**\n     * Handles edit action.\n     *\n     * @method handleEdit\n     * @memberof TableViewItemComponent\n     */\n    handleEdit() {\n        this.props.handleEditItem(this.props.content);\n    }\n\n    setPriorityInputRef(ref) {\n        this._refPriorityInput = ref;\n    }\n\n    /**\n     * Renders a priority cell with input field\n     *\n     * @method renderPriorityCell\n     * @returns {JSX.Element}\n     * @memberof TableViewItemComponent\n     */\n    renderPriorityCell() {\n        const inputAttrs = {\n            type: 'number',\n            defaultValue: this.state.priorityValue,\n            onChange: this.storePriorityValue,\n        };\n        const priorityWrapperAttrs = {};\n        const innerWrapperAttrs = {};\n\n        if (!this.props.columnsVisibility.priority) {\n            return null;\n        }\n\n        if (!this.state.priorityInputEnabled) {\n            inputAttrs.disabled = true;\n            delete inputAttrs.defaultValue;\n            inputAttrs.value = this.state.priorityValue;\n            priorityWrapperAttrs.onClick = this.enablePriorityInput;\n            priorityWrapperAttrs.className = 'c-table-view-item__inner-wrapper c-table-view-item__inner-wrapper--disabled';\n            innerWrapperAttrs.hidden = true;\n        }\n\n        return (\n            <td className=\"c-table-view-item__cell c-table-view-item__cell--priority\">\n                <div className=\"c-table-view-item__priority-wrapper\" {...priorityWrapperAttrs}>\n                    <div className=\"c-table-view-item__inner-wrapper c-table-view-item__inner-wrapper--input\">\n                        <input className=\"c-table-view-item__priority-value\" ref={this.setPriorityInputRef} {...inputAttrs} />\n                    </div>\n                    <div className=\"c-table-view-item__priority-actions\" {...innerWrapperAttrs}>\n                        <button type=\"button\" className=\"c-table-view-item__btn c-table-view-item__btn--cancel\" onClick={this.handleCancel}>\n                            <Icon name=\"discard\" extraClasses=\"ez-icon--medium ez-icon--light\" />\n                        </button>\n                        <button type=\"button\" className=\"c-table-view-item__btn c-table-view-item__btn--submit\" onClick={this.handleSubmit}>\n                            <Icon name=\"checkmark\" extraClasses=\"ez-icon--medium ez-icon--light\" />\n                        </button>\n                    </div>\n                </div>\n            </td>\n        );\n    }\n\n    renderModifiedCell() {\n        if (!this.props.columnsVisibility.modified) {\n            return null;\n        }\n\n        const { content } = this.props;\n        const { formatShortDateTime } = window.eZ.helpers.timezone;\n\n        return (\n            <td className=\"c-table-view-item__cell c-table-view-item__cell--modified\">\n                <div className=\"c-table-view-item__text-wrapper\">{formatShortDateTime(new Date(content.lastModificationDate))}</div>\n            </td>\n        );\n    }\n\n    renderContentTypeCell() {\n        if (!this.props.columnsVisibility.contentType) {\n            return null;\n        }\n\n        const { content, contentTypesMap } = this.props;\n        const notAvailableLabel = Translator.trans(/*@Desc(\"N/A\")*/ 'content_type.not_available.label', {}, 'sub_items');\n        const contentType = contentTypesMap[content.ContentType._href];\n        const contentTypeIdentifier = contentType ? contentType.identifier : null;\n        const contentTypeName = contentTypeIdentifier ? window.eZ.adminUiConfig.contentTypeNames[contentTypeIdentifier] : notAvailableLabel;\n\n        return (\n            <td className=\"c-table-view-item__cell c-table-view-item__cell--content-type\">\n                <div className=\"c-table-view-item__text-wrapper\">{contentTypeName}</div>\n            </td>\n        );\n    }\n\n    renderTranslationsCell() {\n        if (!this.props.columnsVisibility.translations) {\n            return null;\n        }\n\n        const { content, languages } = this.props;\n        const translations = content.CurrentVersion.Version.VersionInfo.VersionTranslationInfo.Language.map((langauge) => {\n            return languages.mappings[langauge.languageCode].name;\n        });\n\n        return (\n            <td className=\"c-table-view-item__cell c-table-view-item__cell--translations\">{translations.map(this.renderTranslation)}</td>\n        );\n    }\n\n    /**\n     * Renders a translation item\n     *\n     * @method renderTranslation\n     * @returns {JSX.Element}\n     * @memberof TableViewItemComponent\n     */\n    renderTranslation(translation, index) {\n        return (\n            <span key={index} className=\"c-table-view-item__translation\">\n                {translation}\n            </span>\n        );\n    }\n\n    /**\n     * Calls onItemSelect callback for given item\n     *\n     * @param {Event} event\n     */\n    onSelectCheckboxChange(event) {\n        const { location, content, onItemSelect } = this.props;\n        const isSelected = event.target.checked;\n\n        onItemSelect({ content, location }, isSelected);\n    }\n\n    render() {\n        const { content, location, isSelected, contentTypesMap, generateLink } = this.props;\n        const editLabel = Translator.trans(/*@Desc(\"Edit\")*/ 'edit_item_btn.label', {}, 'sub_items');\n        const contentType = contentTypesMap[content.ContentType._href];\n        const contentTypeIdentifier = contentType ? contentType.identifier : null;\n        const linkAttrs = {\n            className: 'c-table-view-item__link c-table-view-item__text-wrapper',\n            title: content.Name,\n            href: generateLink(location.id),\n        };\n        const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n\n        return (\n            <tr className=\"c-table-view-item\">\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--checkbox\">\n                    <input type=\"checkbox\" checked={isSelected} onChange={this.onSelectCheckboxChange} />\n                </td>\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--icon\">\n                    <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--small\" />\n                </td>\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--name\">\n                    <a {...linkAttrs}>{content.Name}</a>\n                </td>\n                {this.renderModifiedCell()}\n                {this.renderContentTypeCell()}\n                {this.renderPriorityCell()}\n                {this.renderTranslationsCell()}\n                <td className=\"c-table-view-item__cell c-table-view-item__cell--actions\">\n                    <span\n                        title={editLabel}\n                        onClick={this.handleEdit}\n                        className=\"c-table-view-item__btn c-table-view-item__btn--edit\"\n                        tabIndex=\"-1\">\n                        <div className=\"c-table-view-item__btn-inner\">\n                            <Icon name=\"edit\" extraClasses=\"ez-icon--medium\" />\n                        </div>\n                    </span>\n                </td>\n            </tr>\n        );\n    }\n}\n\nTableViewItemComponent.propTypes = {\n    content: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    onItemPriorityUpdate: PropTypes.func.isRequired,\n    handleEditItem: PropTypes.func.isRequired,\n    generateLink: PropTypes.func.isRequired,\n    languages: PropTypes.object.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    columnsVisibility: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/table-view/table.view.item.component.js","import React, { Component, createRef } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Icon from '../../../common/icon/icon';\nimport TableViewColumnsTogglerListElement from './table.view.columns.toggler.list.element';\nimport { headerLabels } from './table.view.component';\n\nconst DEFAULT_PANEL_HEIGHT = 200;\n\nexport default class TableViewColumnsTogglerComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.togglePanel = this.togglePanel.bind(this);\n        this.hidePanel = this.hidePanel.bind(this);\n\n        this._refTogglerButton = createRef();\n        this._refPanel = createRef();\n\n        this.state = {\n            isOpen: false,\n            buttonBottomDocumentOffset: null,\n            panelHeight: null,\n        };\n    }\n\n    componentDidMount() {\n        document.addEventListener('click', this.hidePanel, false);\n\n        this.setState(() => ({\n            buttonBottomDocumentOffset: this.getBtnBottomDocumentOffset(),\n        }));\n    }\n\n    componentDidUpdate() {\n        const { isOpen, panelHeight } = this.state;\n\n        if (isOpen && panelHeight === null) {\n            this.setState({\n                panelHeight: this._refPanel.offsetHeight,\n            });\n        }\n    }\n\n    componentWillUnmount() {\n        document.removeEventListener('click', this.hidePanel);\n    }\n\n    getBtnBottomDocumentOffset() {\n        const buttonTopOffset = this._refTogglerButton.current.getBoundingClientRect().top + window.scrollY;\n\n        return document.documentElement.scrollHeight - buttonTopOffset;\n    }\n\n    hidePanel({ target }) {\n        if (!this.state.isOpen) {\n            return;\n        }\n\n        const isClickInsideToggler = target.closest('.c-table-view-columns-toggler');\n\n        if (!isClickInsideToggler) {\n            this.setState(() => ({\n                isOpen: false,\n            }));\n        }\n    }\n\n    togglePanel() {\n        this.setState((state) => ({\n            isOpen: !state.isOpen,\n        }));\n    }\n\n    renderPanel() {\n        if (!this.state.isOpen) {\n            return null;\n        }\n\n        const { columnsVisibility, toggleColumnVisibility } = this.props;\n        const { buttonBottomDocumentOffset, panelHeight: measuredPanelHeight } = this.state;\n        const panelHeight = measuredPanelHeight ? measuredPanelHeight : DEFAULT_PANEL_HEIGHT;\n        const panelAttrs = { className: 'c-table-view-columns-toggler__panel', ref: this._refPanel };\n\n        if (buttonBottomDocumentOffset < panelHeight) {\n            panelAttrs.className = `${panelAttrs.className} ${panelAttrs.className}--above-btn`;\n        }\n\n        return (\n            <div {...panelAttrs}>\n                <ul className=\"c-table-view-columns-toggler__list\">\n                    {Object.entries(columnsVisibility).map(([columnKey, isColumnVisible]) => {\n                        const label = headerLabels[columnKey];\n\n                        return (\n                            <TableViewColumnsTogglerListElement\n                                key={columnKey}\n                                label={label}\n                                columnKey={columnKey}\n                                isColumnVisible={isColumnVisible}\n                                toggleColumnVisibility={toggleColumnVisibility}\n                            />\n                        );\n                    })}\n                </ul>\n            </div>\n        );\n    }\n\n    render() {\n        return (\n            <div className=\"c-table-view-columns-toggler\">\n                <button\n                    ref={this._refTogglerButton}\n                    type=\"button\"\n                    className=\"btn btn-dark c-table-view-columns-toggler__btn\"\n                    onClick={this.togglePanel}>\n                    <Icon name=\"filters\" extraClasses=\"ez-icon--small ez-icon--light\" />\n                </button>\n                {this.renderPanel()}\n            </div>\n        );\n    }\n}\n\nTableViewColumnsTogglerComponent.propTypes = {\n    columnsVisibility: PropTypes.object.isRequired,\n    toggleColumnVisibility: PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/table-view/table.view.columns.toggler.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TableViewColumnsTogglerListElement = ({ label, isColumnVisible, toggleColumnVisibility, columnKey }) => {\n    return (\n        <li className=\"c-table-view-columns-toggler-list-element\" onClick={() => toggleColumnVisibility(columnKey)}>\n            <div className=\"form-check form-check-inline\">\n                <input className=\"form-check-input\" type=\"checkbox\" checked={isColumnVisible} readOnly={true} />\n                <label className=\"c-table-view-columns-toggler-list-element__label form-check-label\">{label}</label>\n            </div>\n        </li>\n    );\n};\n\nTableViewColumnsTogglerListElement.propTypes = {\n    label: PropTypes.string.isRequired,\n    columnKey: PropTypes.string.isRequired,\n    isColumnVisible: PropTypes.bool.isRequired,\n    toggleColumnVisibility: PropTypes.func.isRequired,\n};\n\nexport default TableViewColumnsTogglerListElement;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/table-view/table.view.columns.toggler.list.element.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport GridViewItemComponent from './grid.view.item.component';\n\nconst GridViewComponent = (props) => {\n    const { items, contentTypesMap, generateLink } = props;\n\n    return (\n        <div className=\"c-grid-view\">\n            {items.map((data) => (\n                <GridViewItemComponent key={data.location.id} {...data} contentTypesMap={contentTypesMap} generateLink={generateLink} />\n            ))}\n        </div>\n    );\n};\nGridViewComponent.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object),\n    contentTypesMap: PropTypes.object,\n    generateLink: PropTypes.func.isRequired,\n};\n\nexport default GridViewComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/grid-view/grid.view.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst GridViewItemComponent = ({ content, location, generateLink, contentTypesMap }) => {\n    const imageField = content.CurrentVersion.Version.Fields.field.find((item) => item.fieldTypeIdentifier === 'ezimage');\n    const imageClassName = 'c-grid-view-item__image';\n    const hasImage = imageField && imageField.fieldValue && imageField.fieldValue.uri && imageField.fieldValue.path;\n    const contentType = contentTypesMap ? contentTypesMap[content.ContentType._href] : null;\n    const contentTypeIdentifier = contentType ? contentType.identifier : null;\n    const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n    let image = (\n        <div className={`${imageClassName} ${imageClassName}--none`}>\n            <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--extra-large\" />\n        </div>\n    );\n    let contentTypeIcon = '';\n\n    if (hasImage) {\n        image = <img className={imageClassName} src={imageField.fieldValue.uri} alt={`${imageField.fieldValue.path}`} />;\n        contentTypeIcon = (\n            <div className=\"c-grid-view-item__content-type\">\n                <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--small\" />\n            </div>\n        );\n    }\n\n    return (\n        <a className=\"c-grid-view-item\" href={generateLink(location.id)}>\n            {contentTypeIcon}\n            <div className=\"c-grid-view-item__image-wrapper\">{image}</div>\n            <div className=\"c-grid-view-item__title\">{content.Name}</div>\n        </a>\n    );\n};\n\nGridViewItemComponent.propTypes = {\n    content: PropTypes.object.isRequired,\n    location: PropTypes.object.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    generateLink: PropTypes.func.isRequired,\n};\n\nexport default GridViewItemComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/grid-view/grid.view.item.component.js","import React, { Component } from 'react';\nimport $ from 'jquery';\nimport PropTypes from 'prop-types';\nimport Icon from '../icon/icon';\n\nconst CLASS_NON_SCROLLABLE = 'ezs-non-scrollable';\nconst CLASS_MODAL_OPEN = 'modal-open';\nconst MODAL_CONFIG = {\n    backdrop: 'static',\n    keyboard: true,\n};\nconst MODAL_SIZE_CLASS = {\n    small: 'modal-sm',\n    medium: '',\n    large: 'modal-lg',\n};\n\nclass Popup extends Component {\n    constructor(props) {\n        super(props);\n\n        this._refModal = null;\n\n        this.setModalRef = this.setModalRef.bind(this);\n        this.onKeyUp = this.onKeyUp.bind(this);\n\n        this.state = { isVisible: props.isVisible, isLoading: props.isLoading };\n    }\n\n    componentDidMount() {\n        const { isVisible: show } = this.state;\n\n        if (show) {\n            $(this._refModal).modal({ ...MODAL_CONFIG, show, focus: this.props.hasFocus });\n\n            this.attachModalEventHandlers();\n        }\n    }\n\n    componentDidUpdate() {\n        const { isVisible: show } = this.state;\n\n        $(this._refModal).modal({ ...MODAL_CONFIG, show, focus: this.props.hasFocus });\n\n        if (show) {\n            this.attachModalEventHandlers();\n        }\n    }\n\n    componentWillUnmount() {\n        $(this._refModal).modal('hide');\n        document.body.classList.remove(CLASS_MODAL_OPEN, CLASS_NON_SCROLLABLE);\n    }\n\n    UNSAFE_componentWillReceiveProps({ isVisible, onConfigIframeLoad, isLoading }) {\n        this.setState((state) => ({ ...state, isVisible, onConfigIframeLoad, isLoading }));\n    }\n\n    attachModalEventHandlers() {\n        const modal = $(this._refModal);\n\n        modal.on('keyup', this.onKeyUp);\n        modal.one('hidden.bs.modal', this.props.onClose);\n    }\n\n    onKeyUp(event) {\n        const { originalEvent } = event;\n        const escKeyCode = 27;\n        const escKeyPressed = originalEvent && (originalEvent.which === escKeyCode || originalEvent.keyCode === escKeyCode);\n\n        if (escKeyPressed) {\n            this.props.onClose();\n        }\n    }\n\n    setModalRef(component) {\n        this._refModal = component;\n    }\n\n    renderHeader() {\n        const closeBtnLabel = Translator.trans(/*@Desc(\"Close\")*/ 'popup.close.label', {}, 'universal_discovery_widget');\n\n        return (\n            <div className={'modal-header c-popup__header'}>\n                {this.renderHeadline()}\n                <button\n                    type=\"button\"\n                    className=\"close c-popup__btn--close\"\n                    data-dismiss=\"modal\"\n                    aria-label={closeBtnLabel}\n                    onClick={this.props.onClose}>\n                    <Icon name=\"discard\" extraClasses=\"ez-icon--medium\" />\n                </button>\n            </div>\n        );\n    }\n\n    renderHeadline() {\n        const { title } = this.props;\n\n        if (!title) {\n            return null;\n        }\n\n        return (\n            <h3 className=\"modal-title c-popup__headline\" title={this.props.title}>\n                <span className=\"c-popup__title\">{this.props.title}</span>\n                {this.renderSubtitle()}\n            </h3>\n        );\n    }\n\n    renderSubtitle() {\n        const { subtitle } = this.props;\n\n        if (!subtitle) {\n            return null;\n        }\n\n        return <span className=\"c-popup__subtitle\">{subtitle}</span>;\n    }\n\n    renderFooter() {\n        const { footerChildren } = this.props;\n\n        if (!footerChildren) {\n            return;\n        }\n\n        return <div className={'modal-footer c-popup__footer'}>{footerChildren}</div>;\n    }\n\n    render() {\n        const { isVisible } = this.state;\n        const { additionalClasses, size, noHeader } = this.props;\n        const modalAttrs = {\n            className: 'c-popup modal fade',\n            ref: this.setModalRef,\n            tabIndex: this.props.hasFocus ? -1 : undefined,\n        };\n\n        document.body.classList.toggle(CLASS_MODAL_OPEN, isVisible);\n        document.body.classList.toggle(CLASS_NON_SCROLLABLE, isVisible);\n\n        if (additionalClasses) {\n            modalAttrs.className = `${modalAttrs.className} ${additionalClasses}`;\n        }\n\n        if (noHeader) {\n            modalAttrs.className = `${modalAttrs.className} c-popup--no-header`;\n        }\n\n        return (\n            <div {...modalAttrs}>\n                <div className={`modal-dialog c-popup__dialog ${MODAL_SIZE_CLASS[size]}`} role=\"dialog\">\n                    <div className=\"modal-content c-popup__content\">\n                        {this.renderHeader()}\n                        <div className=\"modal-body c-popup__body\">{this.props.children}</div>\n                        {this.renderFooter()}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nPopup.propTypes = {\n    isVisible: PropTypes.bool,\n    isLoading: PropTypes.bool,\n    onClose: PropTypes.func.isRequired,\n    onConfigIframeLoad: PropTypes.func,\n    children: PropTypes.element.isRequired,\n    title: PropTypes.string,\n    subtitle: PropTypes.string,\n    hasFocus: PropTypes.bool,\n    additionalClasses: PropTypes.string,\n    footerChildren: PropTypes.element,\n    size: PropTypes.string,\n    noHeader: PropTypes.bool,\n};\n\nPopup.defaultProps = {\n    isVisible: false,\n    isLoading: true,\n    hasFocus: true,\n    size: 'large',\n    noHeader: false,\n    onConfigIframeLoad: () => {},\n};\n\nexport default Popup;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/popup/popup.component.js","module.exports = __WEBPACK_EXTERNAL_MODULE_25__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"jQuery\",\"commonjs2\":\"jquery\",\"commonjs\":\"jquery\",\"amd\":\"jquery\"}\n// module id = 25\n// module chunks = 1","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst ActionButton = (props) => {\n    const { disabled, onClick, label, type } = props;\n    const baseClassName = 'c-action-btn';\n    const handleClick = () => {\n        if (!disabled) {\n            onClick();\n        }\n    };\n    const attrs = {\n        className: `${baseClassName}`,\n        title: label,\n        tabIndex: '-1',\n        onClick: handleClick,\n    };\n\n    attrs.className = disabled ? `${attrs.className} ${baseClassName}--disabled` : attrs.className;\n    attrs.className = type ? `${attrs.className} ${baseClassName}--${type}` : attrs.className;\n\n    return (\n        <div {...attrs}>\n            <Icon name={type} extraClasses=\"ez-icon--light ez-icon--medium\" />\n        </div>\n    );\n};\n\nActionButton.propTypes = {\n    label: PropTypes.string.isRequired,\n    disabled: PropTypes.bool.isRequired,\n    type: PropTypes.string.isRequired,\n    onClick: PropTypes.func.isRequired,\n};\n\nexport default ActionButton;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/action-btn/action.btn.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PaginationButtonComponent from './pagination.button.component';\n\nconst DOTS = '...';\n\n/**\n * Computes array with pagination pages.\n *\n * Example 1: [ 1, \"...\", 5, 6, 7, 8, 9, 10 ] (for: proximity = 2; pagesNumber = 10; activePageIndex = 7)\n * Example 2: [ 1, \"...\", 3, 4, 5, 6, 7, \"...\", 10 ] (for: proximity = 2; pagesNumber = 10; activePageIndex = 5)\n * Example 3: [ 1, \"...\", 8, 9, 10, 11, 12, \"...\", 20 ] (for: proximity = 2; pagesNumber = 20; activePageIndex = 10)\n *\n * @param {Object} params\n * @param {Number} params.proximity\n * @param {Number} params.activePageIndex\n * @param {Number} params.pagesCount\n *\n * @returns {Array}\n */\nconst computePages = ({ proximity, activePageIndex, pagesCount }) => {\n    const pages = [];\n    let wereDots = false;\n\n    for (let i = 1; i <= pagesCount; i++) {\n        const isFirstPage = i === 1;\n        const isLastPage = i === pagesCount;\n        const isInRange = i >= activePageIndex + 1 - proximity && i <= activePageIndex + 1 + proximity;\n\n        if (isFirstPage || isLastPage || isInRange) {\n            pages.push(i);\n            wereDots = false;\n        } else if (!wereDots) {\n            pages.push(DOTS);\n            wereDots = true;\n        }\n    }\n\n    return pages;\n};\n\nconst PaginationComponent = ({ totalCount, itemsPerPage, proximity, activePageIndex, onPageChange, disabled: paginationDisabled }) => {\n    const pagesCount = Math.ceil(totalCount / itemsPerPage);\n    const backLabel = Translator.trans(/*@Desc(\"Back\")*/ 'pagination.back', {}, 'sub_items');\n    const nextLabel = Translator.trans(/*@Desc(\"Next\")*/ 'pagination.next', {}, 'sub_items');\n    const previousPage = activePageIndex - 1;\n    const nextPage = activePageIndex + 1;\n    const isFirstPage = activePageIndex === 0;\n    const isLastPage = activePageIndex + 1 === pagesCount;\n    const pages = computePages({ proximity, activePageIndex, pagesCount });\n    const paginationButtons = pages.map((page, index) => {\n        if (page === DOTS) {\n            return <PaginationButtonComponent key={`dots-${index}`} label={DOTS} disabled={true} />;\n        }\n\n        const isCurrentPage = page === activePageIndex + 1;\n        const additionalClasses = isCurrentPage ? 'active' : '';\n        const label = '' + page;\n\n        return (\n            <PaginationButtonComponent\n                key={page}\n                pageIndex={page - 1}\n                label={label}\n                additionalClasses={additionalClasses}\n                onPageChange={onPageChange}\n                disabled={paginationDisabled}\n            />\n        );\n    });\n\n    return (\n        <ul className=\"c-pagination pagination row justify-content-center\">\n            <PaginationButtonComponent\n                pageIndex={previousPage}\n                label={backLabel}\n                additionalClasses=\"prev\"\n                disabled={isFirstPage || paginationDisabled}\n                onPageChange={onPageChange}\n            />\n            {paginationButtons}\n            <PaginationButtonComponent\n                pageIndex={nextPage}\n                label={nextLabel}\n                additionalClasses=\"next\"\n                disabled={isLastPage || paginationDisabled}\n                onPageChange={onPageChange}\n            />\n        </ul>\n    );\n};\n\nPaginationComponent.propTypes = {\n    proximity: PropTypes.number.isRequired,\n    itemsPerPage: PropTypes.number.isRequired,\n    activePageIndex: PropTypes.number.isRequired,\n    totalCount: PropTypes.number.isRequired,\n    onPageChange: PropTypes.func.isRequired,\n    disabled: PropTypes.bool,\n};\n\nexport default PaginationComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/pagination/pagination.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst PaginationButtonComponent = ({ label, disabled, additionalClasses, onPageChange, pageIndex }) => {\n    const handleClick = () => {\n        if (!disabled && Number.isInteger(pageIndex)) {\n            onPageChange(pageIndex);\n        }\n    };\n\n    let className = `c-pagination-button page-item ${additionalClasses}`;\n\n    className = disabled ? `${className} disabled` : className;\n\n    return (\n        <li className={className}>\n            <button className=\"page-link\" onClick={handleClick} type=\"button\">\n                {label}\n            </button>\n        </li>\n    );\n};\n\nPaginationButtonComponent.propTypes = {\n    label: PropTypes.string.isRequired,\n    disabled: PropTypes.bool,\n    onPageChange: PropTypes.func,\n    pageIndex: PropTypes.number,\n    additionalClasses: PropTypes.string,\n};\n\nPaginationButtonComponent.defaultProps = {\n    disabled: false,\n    additionalClasses: '',\n    onPageChange: () => {},\n};\n\nexport default PaginationButtonComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/pagination/pagination.button.component.js","import React from 'react';\n\nconst NoItemsComponent = () => {\n    const noItemsMessage = Translator.trans(/*@Desc(\"This location has no sub-items\")*/ 'no_items.message', {}, 'sub_items');\n\n    return <div className=\"c-no-items\">{noItemsMessage}</div>;\n};\n\nexport default NoItemsComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/components/no-items/no.items.component.js","import { handleRequestResponse } from '../../common/helpers/request.helper.js';\n\nconst HEADERS_CREATE_VIEW = {\n    Accept: 'application/vnd.ez.api.View+json; version=1.1',\n    'Content-Type': 'application/vnd.ez.api.ViewInput+json; version=1.1',\n};\nconst ENDPOINT_CREATE_VIEW = '/api/ezp/v2/views';\n\n/**\n * Loads location struct\n *\n * @function loadLocation\n * @param {Object} restInfo - contains:\n * @param {String} restInfo.token\n * @param {String} restInfo.siteaccess\n * @param {Object} queryConfig - contains:\n * @param {Number} queryConfig.locationId\n * @param {Number} queryConfig.limit\n * @param {Number} queryConfig.offset\n * @param {Object} queryConfig.sortClauses\n * @param {Function} callback\n */\nexport const loadLocation = ({ token, siteaccess }, { locationId = 2, limit = 10, offset = 0, sortClauses }, callback) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `subitems-load-location-${locationId}`,\n            public: false,\n            LocationQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: sortClauses,\n                Filter: { ParentLocationIdCriterion: locationId },\n                limit,\n                offset,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: {\n            ...HEADERS_CREATE_VIEW,\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        body,\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load location'));\n};\n\n/**\n * Loads content info\n *\n * @function loadContentInfo\n * @param {Array} contentIds\n * @param {Function} callback\n */\nexport const loadContentInfo = ({ token, siteaccess }, contentIds, callback) => {\n    const ids = contentIds.join();\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `subitems-load-content-info-${ids}`,\n            public: false,\n            ContentQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: {},\n                Filter: { ContentIdCriterion: `${ids}` },\n                limit: contentIds.length,\n                offset: 0,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: {\n            ...HEADERS_CREATE_VIEW,\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        body,\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load content info'));\n};\n\n/**\n * Loads content types\n *\n * @function loadContentTypes\n * @param {Function} callback\n */\nexport const loadContentTypes = ({ token, siteaccess }, callback) => {\n    const request = new Request('/api/ezp/v2/content/types', {\n        method: 'GET',\n        headers: {\n            Accept: 'application/vnd.ez.api.ContentTypeInfoList+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load content types'));\n};\n\n/**\n * Loads content types\n *\n * @function loadContentType\n * @param {Function} callback\n */\nexport const loadContentType = (id, { token, siteaccess }, callback) => {\n    const request = new Request(id, {\n        method: 'GET',\n        headers: {\n            Accept: 'application/vnd.ez.api.ContentType+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'cors',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot load a content type'));\n};\n\n/**\n * Updates location priority\n *\n * @function updateLocationPriority\n * @param {Object} params params hash containing: priority, location, token, siteaccess properties\n * @param {Function} callback\n */\nexport const updateLocationPriority = ({ priority, location, token, siteaccess }, callback) => {\n    const request = new Request(location, {\n        method: 'POST',\n        headers: {\n            Accept: 'application/vnd.ez.api.Location+json',\n            'Content-Type': 'application/vnd.ez.api.LocationUpdate+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n            'X-HTTP-Method-Override': 'PATCH',\n        },\n        credentials: 'same-origin',\n        mode: 'cors',\n        body: JSON.stringify({\n            LocationUpdate: {\n                priority: priority,\n                sortField: 'PATH',\n                sortOrder: 'ASC',\n            },\n        }),\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => window.eZ.helpers.notification.showErrorNotification('An error occurred while updating location priority'));\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/services/sub.items.service.js","import { handleRequestResponse } from '../../common/helpers/request.helper.js';\n\nconst HEADERS_BULK = {\n    Accept: 'application/vnd.ez.api.BulkOperationResponse+json',\n    'Content-Type': 'application/vnd.ez.api.BulkOperation+json',\n};\nconst TRASH_FAKE_LOCATION = '/api/ezp/v2/content/trash';\nconst USER_ENDPOINT = '/api/ezp/v2/user/users';\nconst ENDPOINT_BULK = '/api/ezp/v2/bulk';\n\nexport const bulkMoveLocations = (restInfo, locations, newLocationHref, callback) => {\n    const requestBodyOperations = {};\n\n    locations.forEach((location) => {\n        requestBodyOperations[location.id] = getBulkMoveRequestOperation(location, newLocationHref);\n    });\n\n    makeBulkRequest(restInfo, requestBodyOperations, processBulkResponse.bind(null, locations, callback));\n};\n\nexport const bulkMoveLocationsToTrash = (restInfo, locations, callback) => {\n    console.warn('[DEPRECATED] bulkMoveLocationsToTrash function is deprecated');\n    console.warn('[DEPRECATED] it will be removed from ezplatform-admin-ui-modules 2.0');\n    console.warn('[DEPRECATED] use bulkDeleteItems instead');\n\n    bulkMoveLocations(restInfo, locations, TRASH_FAKE_LOCATION, callback);\n};\n\nexport const bulkDeleteItems = (restInfo, items, contentTypesMap, callback) => {\n    const locations = items.map(({ location }) => location);\n    const requestBodyOperations = {};\n\n    items.forEach(({ location, content }) => {\n        const contentType = contentTypesMap[content.ContentType._href];\n        const contentTypeIdentifier = contentType.identifier;\n        const isUserContentItem = window.eZ.adminUiConfig.userContentTypes.includes(contentTypeIdentifier);\n\n        if (isUserContentItem) {\n            requestBodyOperations[location.id] = getBulkDeleteUserRequestOperation(content);\n        } else {\n            requestBodyOperations[location.id] = getBulkMoveRequestOperation(location, TRASH_FAKE_LOCATION);\n        }\n    });\n\n    makeBulkRequest(restInfo, requestBodyOperations, processBulkResponse.bind(null, locations, callback));\n};\n\nconst getBulkDeleteUserRequestOperation = (content) => ({\n    uri: `${USER_ENDPOINT}/${content._id}`,\n    method: 'DELETE',\n});\n\nconst getBulkMoveRequestOperation = (location, destination) => ({\n    uri: location._href,\n    method: 'MOVE',\n    headers: {\n        Destination: destination,\n    },\n});\n\nconst processBulkResponse = (locations, callback, response) => {\n    const { operations } = response.BulkOperationResponse;\n    const locationsMatches = Object.entries(operations).reduce(\n        (locationsMatches, [locationId, response]) => {\n            const respectiveItem = locations.find((location) => location.id === parseInt(locationId, 10));\n            const isSuccess = 200 <= response.statusCode && response.statusCode <= 299;\n\n            if (isSuccess) {\n                locationsMatches.success.push(respectiveItem);\n            } else {\n                locationsMatches.fail.push(respectiveItem);\n            }\n\n            return locationsMatches;\n        },\n        { success: [], fail: [] }\n    );\n\n    callback(locationsMatches.success, locationsMatches.fail);\n};\n\nconst makeBulkRequest = ({ token, siteaccess }, requestBodyOperations, callback) => {\n    const request = new Request(ENDPOINT_BULK, {\n        method: 'POST',\n        headers: {\n            ...HEADERS_BULK,\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        body: JSON.stringify({\n            bulkOperations: {\n                operations: requestBodyOperations,\n            },\n        }),\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(() => {\n            const message = Translator.trans(\n                /*@Desc(\"An unexpected error occurred while deleting the content item(s). Please try again later.\")*/ 'bulk_request.error.message',\n                {},\n                'sub_items'\n            );\n\n            window.eZ.helpers.notification.showErrorNotification(message);\n        });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/sub-items/services/bulk.service.js"],"sourceRoot":""}