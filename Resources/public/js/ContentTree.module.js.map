{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e4537ecd724068b83142","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack:///./src/modules/content-tree/content.tree.module.js","webpack:///./src/modules/content-tree/components/list/list.component.js","webpack:///./src/modules/content-tree/components/list-item/list.item.component.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_react","CLASS_IS_TREE_RESIZING","ContentTreeModule","Component","constructor","props","super","changeContainerWidth","bind","addWidthChangeListener","removeWidthChangeListener","_refTreeContainer","React","createRef","state","selectedLocationId","locations","preloadedLocations","resizeStartPositionX","containerWidth","resizedContainerWidth","isResizing","componentWillUnmount","clearDocumentResizingState","clientX","currentPositionX","setState","nativeEvent","parseInt","window","getComputedStyle","current","width","document","addEventListener","body","classList","add","removeEventListener","remove","render","_state","containerAttrs","className","ref","style","_react2","default","createElement","_list2","items","onMouseDown","propTypes","PropTypes","number","arrayOf","defaultProps","List","map","item","_listItem2","_extends","key","subItems","length","isRequired","ListItem","toggleExpandedState","isExpanded","_props","totalSubItems","children","attrs","onClick","id","href","string","contentTypeIdentifier","array","element"],"mappings":"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","file":"ContentTree.module.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ContentTree\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"eZ\"] = root[\"eZ\"] || {}, root[\"eZ\"][\"modules\"] = root[\"eZ\"][\"modules\"] || {}, root[\"eZ\"][\"modules\"][\"ContentTree\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 60);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e4537ecd724068b83142","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0 1 2 3","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}\n// module id = 1\n// module chunks = 0 1 2 3","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport List from './components/list/list.component';\n\nconst CLASS_IS_TREE_RESIZING = 'ez-is-tree-resizing';\n\nexport default class ContentTreeModule extends Component {\n    constructor(props) {\n        super(props);\n\n        this.changeContainerWidth = this.changeContainerWidth.bind(this);\n        this.addWidthChangeListener = this.addWidthChangeListener.bind(this);\n        this.removeWidthChangeListener = this.removeWidthChangeListener.bind(this);\n        this._refTreeContainer = React.createRef();\n\n        this.state = {\n            selectedLocationId: props.selectedLocationId,\n            locations: props.preloadedLocations,\n            resizeStartPositionX: 0,\n            containerWidth: 0,\n            resizedContainerWidth: 0,\n            isResizing: false,\n        };\n    }\n\n    componentWillUnmount() {\n        this.clearDocumentResizingState();\n    }\n\n    changeContainerWidth({ clientX }) {\n        const currentPositionX = clientX;\n\n        this.setState((state) => ({\n            resizedContainerWidth: state.containerWidth + (currentPositionX - state.resizeStartPositionX),\n        }));\n    }\n\n    addWidthChangeListener({ nativeEvent }) {\n        const resizeStartPositionX = nativeEvent.clientX;\n        const containerWidth = parseInt(window.getComputedStyle(this._refTreeContainer.current).width, 10);\n\n        window.document.addEventListener('mousemove', this.changeContainerWidth, false);\n        window.document.addEventListener('mouseup', this.removeWidthChangeListener, false);\n        window.document.body.classList.add(CLASS_IS_TREE_RESIZING);\n\n        this.setState(() => ({ resizeStartPositionX, containerWidth, isResizing: true }));\n    }\n\n    removeWidthChangeListener() {\n        this.clearDocumentResizingState();\n\n        this.setState((state) => ({\n            resizeStartPositionX: 0,\n            containerWidth: state.resizedContainerWidth,\n            isResizing: false,\n        }));\n    }\n\n    clearDocumentResizingState() {\n        window.document.removeEventListener('mousemove', this.changeContainerWidth);\n        window.document.removeEventListener('mouseup', this.removeWidthChangeListener);\n        window.document.body.classList.remove(CLASS_IS_TREE_RESIZING);\n    }\n\n    render() {\n        const { isResizing, containerWidth, resizedContainerWidth } = this.state;\n        const width = isResizing ? resizedContainerWidth : containerWidth;\n        const containerAttrs = { className: 'm-tree', ref: this._refTreeContainer };\n\n        if (width) {\n            containerAttrs.style = { width: `${width}px` };\n        }\n\n        return (\n            <div {...containerAttrs}>\n                <List items={this.state.locations} />\n                <div className=\"m-tree__resize-handler\" onMouseDown={this.addWidthChangeListener} />\n            </div>\n        );\n    }\n}\n\nContentTreeModule.propTypes = {\n    selectedLocationId: PropTypes.number,\n    preloadedLocations: PropTypes.arrayOf(PropTypes.object),\n};\n\nContentTreeModule.defaultProps = {\n    preloadedLocations: [],\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/content-tree/content.tree.module.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ListItem from '../list-item/list.item.component';\n\nconst List = (props) => {\n    const listAttrs = {\n        className: 'c-list',\n    };\n\n    return (\n        <ul {...listAttrs}>\n            {props.items.map((item) => (\n                <ListItem key {...item}>\n                    {item.subItems.length && <List items={item.subItems} />}\n                </ListItem>\n            ))}\n        </ul>\n    );\n};\n\nList.propTypes = {\n    items: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n\nexport default List;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/content-tree/components/list/list.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nclass ListItem extends Component {\n    constructor(props) {\n        super(props);\n\n        this.toggleExpandedState = this.toggleExpandedState.bind(this);\n\n        this.state = { isExpanded: false };\n    }\n\n    toggleExpandedState() {\n        this.setState((state) => ({ isExpanded: !state.isExpanded }));\n    }\n\n    render() {\n        const { subItems, totalSubItems, name, children } = this.props;\n        const itemClassName = 'c-list-item';\n        const attrs = { className: itemClassName };\n\n        if (subItems.length) {\n            attrs.className = `${attrs.className} ${itemClassName}--has-sub-items`;\n        }\n\n        if (subItems.length < totalSubItems) {\n            attrs.className = `${attrs.className} ${itemClassName}--can-load-more`;\n        }\n\n        if (this.state.isExpanded) {\n            attrs.className = `${attrs.className} ${itemClassName}--is-expanded`;\n        }\n\n        return (\n            <li {...attrs}>\n                <div className=\"c-list-item__label\">\n                    {name} <span className=\"c-list-item__toggler\" onClick={this.toggleExpandedState} />\n                </div>\n                {children}\n            </li>\n        );\n    }\n}\n\nListItem.propTypes = {\n    id: PropTypes.number.isRequired,\n    href: PropTypes.string.isRequired,\n    name: PropTypes.string.isRequired,\n    contentTypeIdentifier: PropTypes.string.isRequired,\n    totalSubItems: PropTypes.number.isRequired,\n    subItems: PropTypes.array.isRequired,\n    children: PropTypes.element,\n};\n\nexport default ListItem;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/content-tree/components/list-item/list.item.component.js"],"sourceRoot":""}