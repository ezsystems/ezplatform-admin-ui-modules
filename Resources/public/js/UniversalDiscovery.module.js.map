{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b6c8ba2c82ec40ff0d4c","webpack:///external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}","webpack:///external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}","webpack:///./src/modules/common/icon/icon.js","webpack:///./src/modules/common/helpers/request.helper.js","webpack:///./src/modules/common/services/notification.service.js","webpack:///./src/modules/common/helpers/deep.clone.helper.js","webpack:///./src/modules/universal-discovery/components/tab-content/tab.content.panel.component.js","webpack:///./src/modules/universal-discovery/services/universal.discovery.service.js","webpack:///./src/modules/common/tooltip-popup/tooltip.popup.component.js","webpack:///./src/modules/universal-discovery/components/finder/finder.component.js","webpack:///./src/modules/universal-discovery/components/select-content-button/select.content.button.component.js","webpack:///./src/modules/universal-discovery/components/content-table/content.table.component.js","webpack:///./src/modules/universal-discovery/universal.discovery.module.js","webpack:///./src/modules/universal-discovery/components/tab-nav/tab.nav.item.component.js","webpack:///./src/modules/universal-discovery/components/tab-content/finder.panel.component.js","webpack:///./src/modules/universal-discovery/components/finder/finder.tree.branch.component.js","webpack:///./src/modules/universal-discovery/components/finder/finder.tree.leaf.component.js","webpack:///./src/modules/universal-discovery/components/tab-content/search.panel.component.js","webpack:///./src/modules/universal-discovery/components/search/search.component.js","webpack:///./src/modules/universal-discovery/components/content-table/content.table.pagination.component.js","webpack:///./src/modules/universal-discovery/components/content-table/content.table.item.component.js","webpack:///./src/modules/universal-discovery/components/content-table/content.table.header.component.js","webpack:///./src/modules/universal-discovery/components/tab-content/create.panel.component.js","webpack:///./src/modules/universal-discovery/components/create/create.component.js","webpack:///./src/modules/universal-discovery/components/create/choose.language.component.js","webpack:///./src/modules/universal-discovery/components/create/choose.content.type.component.js","webpack:///./src/modules/universal-discovery/components/tab-content/bookmarks.panel.component.js","webpack:///./src/modules/universal-discovery/components/bookmarks/bookmarks.component.js","webpack:///./src/modules/universal-discovery/components/content-creator/content.creator.component.js","webpack:///./src/modules/universal-discovery/components/selected-content/selected.content.component.js","webpack:///./src/modules/universal-discovery/components/selected-content/selected.content.item.component.js","webpack:///./src/modules/universal-discovery/components/selected-content/selected.content.popup.component.js","webpack:///./src/modules/universal-discovery/components/content-meta-preview/content.meta.preview.component.js","webpack:///./src/modules/universal-discovery/services/bookmark.service.js","webpack:///./src/modules/common/helpers/compare.helper.js"],"names":["root","factory","exports","module","require","define","amd","self","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","Icon","props","linkHref","customPath","className","extraClasses","_react2","default","createElement","xlinkHref","propTypes","PropTypes","string","isRequired","defaultProps","getBasicRequestInit","token","siteaccess","headers","X-Siteaccess","X-CSRF-Token","mode","credentials","handleRequestError","response","ok","Error","statusText","handleRequestResponse","json","handleRequestResponseStatus","status","NOTIFICATION_INFO_LABEL","NOTIFICATION_SUCCESS_LABEL","NOTIFICATION_WARNING_LABEL","NOTIFICATION_ERROR_LABEL","showNotification","detail","event","CustomEvent","document","body","dispatchEvent","showInfoNotification","message","label","showSuccessNotification","showWarningNotification","showErrorNotification","error","deepClone","data","clonedData","toString","apply","length","TabContentPanelComponent","attrs","id","isVisible","hidden","children","bool","node","_notification","_requestHelper","HEADERS_CREATE_VIEW","Accept","Content-Type","QUERY_LIMIT","loadPreselectedLocationData","startingLocationId","locationId","limit","callback","endpoint","window","Routing","generate","request","Request","fetch","then","catch","loadContentInfo","contentId","JSON","stringify","ViewInput","identifier","public","ContentQuery","Criteria","FacetBuilders","SortClauses","Filter","ContentIdCriterion","offset","method","assign","loadLocation","LocationQuery","LocationIdCriterion","checkCreatePermission","contentTypeIdentifier","languageCode","findLocationsByParentLocationId","parentLocationId","sortClauses","SectionIdentifier","ParentLocationIdCriterion","findContentBySearchQuery","query","Query","FullTextCriterion","loadContentTypes","TooltipPopupComponent","visible","title","onClick","onClose","tabIndex","_icon2","func","_react","_universalDiscovery","ROOT_LOCATION_OBJECT","FinderComponent","Component","constructor","super","state","locationsMap","activeLocations","appendMoreItems","bind","updateLocationsData","findLocationChildren","loadBranchLeaves","onLoadMore","renderBranch","setBranchContainerRef","setPreselectedState","getPreselectedState","preselectedItem","componentDidMount","isForcedLocation","allowedLocations","allowedIncludesPreselected","includes","preselectedLocation","isPreselectedLocation","loadPreselectedData","setDefaultActiveLocations","_extends","restInfo","componentDidUpdate","updateBranchesContainerScroll","UNSAFE_componentWillReceiveProps","nextProps","isShowingUp","setState","onItemSelect","Promise","resolve","createPreselectedLocationData","locations","Location","setPreselectedLocationData","subitems","createItem","location","items","map","value","createData","count","totalCount","childCount","item","entries","forEach","key","depth","setLocationData","View","Result","searchHits","searchHit","locationData","_deepClone2","[object Object]","container","_refBranchesContainer","scrollLeft","scrollWidth","clientWidth","parentLocation","getLocationSortClauses","_props","_props2","sortFieldMappings","sortOrderMappings","sortField","sortOrder","updateSelectedBranches","updateActiveLocations","locationDepth","parseInt","slice","branchActiveLocationId","isBranchActiveLocationLoading","childrenData","_finderTreeBranch2","total","activeLocationId","isActiveLocationLoading","onItemClick","onBranchClick","maxHeight","allowContainersOnly","contentTypesMap","multiple","selectedContent","onSelectContent","canSelectContent","onItemRemove","ref","render","style","height","index","branchActiveLocation","number","shape","array","SelectContentButtonComponent","toggleEnabledState","handleSelect","handleUnselect","selectContentEnabled","checkCanSelectContent","stopPropagation","isSelected","iconId","type","onPreview","labels","contentTableItem","notAvailable","ContentTableComponent","perPage","activePage","pages","splitToPages","setActivePage","renderItem","UNSAFE_componentWillMount","ensurePageItemsLoaded","maxPage","Math","floor","reduce","pageIndex","push","requireItemsCount","_state","min","renderNoItemsMessage","noItemsMessage","_contentTableItem2","renderHeader","_contentTableHeader2","renderPagination","_state2","pagesCount","paginationAttrs","minIndex","maxIndex","activeIndex","onChange","_contentTablePagination2","renderPageSpinner","renderPage","_state3","itemsCount","_props3","_bookmark","_compare","TAB_BROWSE","TAB_SEARCH","TAB_CREATE","TAB_BOOKMARKS","CLASS_SCROLL_DISABLED","CONTENT_META_PREVIEW_BASE_STATE","contentMeta","isPreviewMetaReady","isLocationAllowed","UniversalDiscoveryModule","selectedContentType","isForcedLanguage","cotfAllowedLanguages","cotfForcedLanguage","isForcedContentType","cotfAllowedContentTypes","cotfAllowedLocations","onLanguageSelected","onContentTypeSelected","handlePublish","togglePanel","setContentTypesMap","updateSelectedContent","renderSinglePanel","renderSingleTab","handleConfirm","handleSingleConfirm","setCreateModeState","updateContentMetaWithCurrentVersion","toggleBookmark","onBookmarkAdded","onBookmarkRemoved","setBookmarkLoadingStatus","requireBookmarksCount","onBookmarksLoaded","updatePermissionsState","setCanSelectContentState","updateMaxHeightState","setMainContainerRef","setContentContainerRef","loadingBookmarksLocationsIds","_refMainContainer","_refContentContainer","findContentType","tabsLabels","browse","Translator","trans","search","create","bookmarks","activeTab","mainContainerRestHeight","selectedLanguage","isCreateMode","hasPermission","userBookmarksCount","userBookmarksItems","bookmarksRequiredCount","bookmarksDuringLoadingCount","bookmarked","classList","add","addEventListener","initializeBookmarks","clientHeight","componentWillUnmount","remove","removeEventListener","prevProps","prevState","ContentInfo","Content","_id","loadBookmarks","BookmarkList","updatedContentMeta","currentVersion","CurrentVersion","contentType","values","contentTypes","group","result","find","onConfirm","addContentTypeInfo","clonedItem","ContentType","ContentTypeInfo","_href","filter","contentMetaWithContentTypeInfo","dispatchBookmarkChangeEvent","isLoading","isBookmarkLoading","fetchBookmarkStatus","checkIsBookmarked","isBookmarked","setIsBookmarked","removeBookmark","addBookmark","onBookmarkToggled","itemToRemoveLocation","areSameLocations","closeContentMetaPreview","addedBookmarkLocation","bookmarkLocation","itemsToLoadCount","loadedBookmarksCount","newBookmarksRequiredCount","max","bookmarksToLoadCount","allowedContentTypes","isAlreadySelected","isOverLimit","selectedItemsLimit","contentTypeInfo","isAllowedContentType","ContentTypeInfoList","renderContentMetaPreview","languages","isContentBookmarked","_contentMetaPreview2","ready","renderSelectedContent","_selectedContent2","itemsLimit","getTabConfig","iconIdentifier","renderTabs","extraTabs","visibleTabs","onlyContentOnTheFly","tabsToRender","tab","config","_tabNavItem2","renderPanels","_props4","cotfPreselectedContentType","cotfPreselectedLanguage","cotfPreselectedLocation","_state4","browsePanelConfig","panel","FinderPanelComponent","searchPanelConfig","SearchPanelComponent","bookmarksPanelConfig","BookmarksPanelComponent","createPanelConfig","CreatePanelComponent","forcedLanguage","preselectedLanguage","allowedLanguages","preselectedContentType","panelsToRender","keys","console","warn","Panel","_props5","searchResultsPerPage","searchResultsLimit","bookmarksPerPage","_state5","renderConfirmBtn","_state6","disabled","confirmBtnLabel","checkPermission","access","renderCreateBtn","isDataSelected","createContentLabel","renderPermissionError","noPermissionMessage","renderNotAllowedLocationError","locationNotAllowedMessage","metaPreviewClassName","containerClassName","_contentCreator2","selectedLocationId","onCancel","cancelBtnLabel","eZ","addConfig","arrayOf","adminUiConfig","universalDiscoveryWidget","TabNavItemComponent","wrapperAttrs","_tabContentPanel2","_finder2","FinderTreeBranchComponent","expandBranch","renderLeaf","contentTypeHref","isContainer","isSelectable","active","isLoadingChildren","_finderTreeLeaf2","remoteId","selected","renderLoadMore","loadMoreLabel","FinderTreeLeafComponent","handleClick","target","closest","getContentTypeIdentifier","renderIcon","contentTypeIconUrl","helpers","getContentTypeIconUrl","renderLoadingIcon","renderSelectContentBtn","_selectContentButton2","content","componentClassName","isNotSelectableClassName","join","Name","searchAttrs","_search2","SearchComponent","lastSearchText","isSearching","submitDisabled","updateItemsState","searchContent","onRequireItemsCount","toggleSubmitButtonState","setSearchInputRef","isClickEvent","nativeEvent","isEnterKeyEvent","keyCode","searchText","_refSearchInput","notification","renderSubmitBtn","btnAttrs","svgExtraClasses","btnLabel","trim","renderSearchTips","searchTipsTitle","searchTipCheckSpelling","searchTipDifferentKeywords","searchTipMoreGeneralKeywords","searchTipFewerKeywords","renderResultsTable","tableTitle","_contentTable2","onKeyUp","ContentTablePaginationComponent","btnFirstLabel","btnPrevLabel","btnNextLabel","btnLastLabel","btnClass","firstAttrs","prevAttrs","nextAttrs","lastAttrs","ContentTableItemComponent","notAvailableLabel","contentTypeName","contentTypeNames","nameLabel","typeLabel","componentProps","finderProps","chooseLanguageAndContentTypeTitle","selectLocationTitle","_create2","CreateComponent","_chooseLanguage2","_chooseContentType2","ChooseLanguageComponent","updateSelection","renderOption","selectedLanguageCode","priority","mappings","language","renderOptions","selectAttrs","selectLanguageTitle","ChooseContentTypeComponent","hasPreselectedAllowedContentType","isPreselectedContentType","_filterTimeout","updateFilterQuery","renderGroup","filterQuery","updateSelectedItem","toLowerCase","clearTimeout","setTimeout","isNotSelectable","groupName","groupAttrs","every","selectContentTypeTitle","typeToRefinePlaceholder","placeholder","getBookmarksAttrs","getWrapperAttrs","bookmarksAttrs","_bookmarks2","BookmarksComponent","renderTable","renderSpinner","renderNoBookmarksInfo","noBookmarksMessage","ContentCreatorComponent","handleIframeLoad","enablePublishBtn","disablePublishBtn","renderPublishBtn","_refIframe","iframeLoading","publishBtnDisabled","contentWindow","onbeforeunload","submitForm","submit","querySelector","click","iframeWindow","iframeDoc","iframeUrl","generateIframeUrl","pathname","loadLocationInfo","onunload","setAttribute","renderLoadingSpinner","publishLabel","cancelLabel","contentClass","src","onLoad","SelectedContentComponent","PureComponent","isPopupVisible","hidePopup","togglePopup","renderSelectedItem","_selectedContentItem2","onRemove","renderLimitLabel","limitLabel","limitLabelText","renderSelectedItems","_selectedContentPopup2","getTitle","titles","infoCssClasses","noConfirmedContentTitle","SelectedContentItemComponent","names","icon","SelectedContentPopupComponent","_tooltipPopup2","any","ContentMetaPreviewComponent","imageUri","translations","getImageUri","imageField","Version","Fields","field","fieldTypeIdentifier","fieldValue","uri","getTranslations","VersionInfo","VersionTranslationInfo","Language","renderTranslation","translation","renderImagePreview","imagePreviewNotAvailableLabel","alt","Fragment","renderBookmarkIcon","bookmarkIconId","wrapperClassName","formatShortDateTime","timezone","lastModifiedLabel","creationDateLabel","translationsLabel","Date","lastModificationDate","publishedDate","basicRequestInit","location1","location2"],"mappings":"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","file":"UniversalDiscovery.module.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"), require(\"prop-types\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\", \"prop-types\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"UniversalDiscovery\"] = factory(require(\"react\"), require(\"prop-types\"));\n\telse\n\t\troot[\"eZ\"] = root[\"eZ\"] || {}, root[\"eZ\"][\"modules\"] = root[\"eZ\"][\"modules\"] || {}, root[\"eZ\"][\"modules\"][\"UniversalDiscovery\"] = factory(root[\"React\"], root[\"PropTypes\"]);\n})(typeof self !== 'undefined' ? self : this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 32);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b6c8ba2c82ec40ff0d4c","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"React\",\"commonjs2\":\"react\",\"commonjs\":\"react\",\"amd\":\"react\"}\n// module id = 0\n// module chunks = 0 1 2 3","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external {\"root\":\"PropTypes\",\"commonjs2\":\"prop-types\",\"commonjs\":\"prop-types\",\"amd\":\"prop-types\"}\n// module id = 1\n// module chunks = 0 1 2 3","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Icon = (props) => {\n    const linkHref = props.customPath ? props.customPath : `/bundles/ezplatformadminui/img/ez-icons.svg#${props.name}`;\n    let className = 'ez-icon';\n\n    if (props.extraClasses) {\n        className = `${className} ${props.extraClasses}`;\n    }\n\n    return (\n        <svg className={className}>\n            <use xlinkHref={linkHref} />\n        </svg>\n    );\n};\n\nIcon.propTypes = {\n    extraClasses: PropTypes.string.isRequired,\n    name: PropTypes.string,\n    customPath: PropTypes.string,\n};\n\nIcon.defaultProps = {\n    customPath: null,\n    name: null,\n};\n\nexport default Icon;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/icon/icon.js","/**\n * Returns basic RequestInit object for Request\n *\n * @function getBasicRequestInit\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @returns {RequestInit}\n */\nexport const getBasicRequestInit = ({ token, siteaccess }) => {\n    return {\n        headers: {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    };\n};\n\n/**\n * Handles request error\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Response}\n */\nexport const handleRequestError = (response) => {\n    if (!response.ok) {\n        throw Error(response.statusText);\n    }\n\n    return response;\n};\n\n/**\n * Handles request response\n *\n * @function handleRequestResponse\n * @param {Response} response\n * @returns {Error|Promise}\n */\nexport const handleRequestResponse = (response) => {\n    return handleRequestError(response).json();\n};\n\n/**\n * Handles request response; returns status if response is OK\n *\n * @function handleRequestResponseStatus\n * @param {Response} response\n * @returns {number}\n */\nexport const handleRequestResponseStatus = (response) => {\n    return handleRequestError(response).status;\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/request.helper.js","export const NOTIFICATION_INFO_LABEL = 'info';\nexport const NOTIFICATION_SUCCESS_LABEL = 'success';\nexport const NOTIFICATION_WARNING_LABEL = 'warning';\nexport const NOTIFICATION_ERROR_LABEL = 'danger';\n\n/**\n * Dispatches notification event\n *\n * @method showNotification\n * @param {{message: string, label: string}} detail\n */\nexport const showNotification = (detail) => {\n    const event = new CustomEvent('ez-notify', {\n        detail,\n    });\n\n    document.body.dispatchEvent(event);\n};\n\n/**\n * Dispatches info notification event\n *\n * @method showInfoNotification\n * @param {String} message\n */\nexport const showInfoNotification = (message) => {\n    showNotification({\n        message,\n        label: NOTIFICATION_INFO_LABEL,\n    });\n};\n\n/**\n * Dispatches success notification event\n *\n * @method showSuccessNotification\n * @param {String} message\n */\nexport const showSuccessNotification = (message) => {\n    showNotification({\n        message,\n        label: NOTIFICATION_SUCCESS_LABEL,\n    });\n};\n\n/**\n * Dispatches warning notification event\n *\n * @method showWarningNotification\n * @param {String} message\n */\nexport const showWarningNotification = (message) => {\n    showNotification({\n        message,\n        label: NOTIFICATION_WARNING_LABEL,\n    });\n};\n\n/**\n * Dispatches error notification event\n *\n * @method showErrorNotification\n * @param {(string|Error)} error\n */\nexport const showErrorNotification = (error) => {\n    const isErrorObj = error instanceof Error;\n    const message = isErrorObj ? error.message : error;\n\n    showNotification({\n        message,\n        label: NOTIFICATION_ERROR_LABEL,\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/services/notification.service.js","/**\n * Clones any object. Faster alternative to `JSON.parse(JSON.stringify)`\n *\n * @function deepClone\n * @param {Any} data\n * @returns {Any} cloned data\n */\nconst deepClone = (data) => {\n    let clonedData;\n\n    if (typeof data !== 'object') {\n        return data;\n    }\n\n    if (!data) {\n        return data;\n    }\n\n    if (Object.prototype.toString.apply(data) === '[object Array]') {\n        clonedData = [];\n\n        for (let i = 0; i < data.length; i++) {\n            clonedData[i] = deepClone(data[i]);\n        }\n\n        return clonedData;\n    }\n\n    clonedData = {};\n\n    for (let i in data) {\n        if (data.hasOwnProperty(i)) {\n            clonedData[i] = deepClone(data[i]);\n        }\n    }\n\n    return clonedData;\n};\n\nexport default deepClone;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/deep.clone.helper.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst TabContentPanelComponent = (props) => {\n    const attrs = {\n        id: props.id,\n        className: 'c-tab-content-panel',\n    };\n\n    if (!props.isVisible) {\n        attrs.hidden = true;\n    }\n\n    return <div {...attrs}>{props.children}</div>;\n};\n\nTabContentPanelComponent.propTypes = {\n    id: PropTypes.string.isRequired,\n    isVisible: PropTypes.bool.isRequired,\n    children: PropTypes.node.isRequired,\n};\n\nexport default TabContentPanelComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/tab-content/tab.content.panel.component.js","import { showErrorNotification } from '../../common/services/notification.service';\nimport { handleRequestResponse } from '../../common/helpers/request.helper.js';\n\nconst HEADERS_CREATE_VIEW = {\n    Accept: 'application/vnd.ez.api.View+json; version=1.1',\n    'Content-Type': 'application/vnd.ez.api.ViewInput+json; version=1.1',\n};\nexport const QUERY_LIMIT = 50;\nconst ENDPOINT_CREATE_VIEW = '/api/ezp/v2/views';\n\n/**\n * Loads preselected location data\n *\n * @function loadPreselectedLocationData\n * @param {Object} params\n * @param {String} params.startingLocationId\n * @param {String} params.locationId\n * @param {Number} [params.limit]\n * @param {Function} callback\n */\nexport const loadPreselectedLocationData = ({ startingLocationId, locationId, limit = QUERY_LIMIT }, callback) => {\n    const endpoint = window.Routing.generate('ezplatform.udw.preselected_location.data', {\n        startingLocationId,\n        locationId,\n        limit,\n    });\n    const request = new Request(endpoint, {\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Loads content info\n *\n * @function loadContentInfo\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @param {String} contentId\n * @param {Function} callback\n */\nexport const loadContentInfo = ({ token, siteaccess }, contentId, callback) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `udw-load-content-info-${contentId}`,\n            public: false,\n            ContentQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: {},\n                Filter: { ContentIdCriterion: `${contentId}` },\n                limit: 1,\n                offset: 0,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: Object.assign({}, HEADERS_CREATE_VIEW, {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        }),\n        body,\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Loads location\n *\n * @function loadLocation\n * @param {Object} params params hash containing REST config: token and siteaccess properties; locationId and offset\n * @param {Function} callback\n */\nexport const loadLocation = ({ token, siteaccess, locationId, limit = QUERY_LIMIT, offset = 0 }, callback) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `udw-location-by-id-${locationId}`,\n            public: false,\n            LocationQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: {},\n                Filter: { LocationIdCriterion: locationId },\n                limit,\n                offset,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: Object.assign({}, HEADERS_CREATE_VIEW, {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        }),\n        body,\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Checks if user has permission to create content\n *\n * @function checkCreatePermission\n * @param {Object} params params hash containing REST config: token, siteaccess, contentTypeIdentifier, languageCode, locationId\n * @param {Function} callback\n */\nexport const checkCreatePermission = ({ token, contentTypeIdentifier, languageCode, locationId }, callback) => {\n    const endpoint = window.Routing.generate('ezplatform.content_on_the_fly.has_access', {\n        languageCode: languageCode,\n        contentTypeIdentifier: contentTypeIdentifier,\n        locationId: locationId,\n    });\n    const request = new Request(endpoint, {\n        method: 'GET',\n        headers: { 'X-CSRF-Token': token },\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Finds locations related to the parent location\n *\n * @function findLocationsByParentLocationId\n * @param {Object} params params hash containing REST config: token and siteaccess properties; parentLocationId and offset; sortClauses\n * @param {Function} callback\n */\nexport const findLocationsByParentLocationId = (\n    { token, siteaccess, parentLocationId, limit = QUERY_LIMIT, offset = 0, sortClauses = { SectionIdentifier: 'ascending' } },\n    callback\n) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `udw-locations-by-parent-location-id-${parentLocationId}`,\n            public: false,\n            LocationQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: sortClauses,\n                Filter: { ParentLocationIdCriterion: parentLocationId },\n                limit,\n                offset,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: Object.assign({}, HEADERS_CREATE_VIEW, {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        }),\n        body,\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then((json) =>\n            callback({\n                parentLocationId,\n                offset,\n                data: json,\n            })\n        )\n        .catch(showErrorNotification);\n};\n\n/**\n * Finds content matching a given text query\n *\n * @function findContentBySearchQuery\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @param {String} query\n * @param {Function} callback\n * @param {Number} limit\n */\nexport const findContentBySearchQuery = ({ token, siteaccess }, query, callback, limit = QUERY_LIMIT) => {\n    const body = JSON.stringify({\n        ViewInput: {\n            identifier: `udw-locations-by-search-query-${query}`,\n            public: false,\n            LocationQuery: {\n                Criteria: {},\n                FacetBuilders: {},\n                SortClauses: {},\n                Query: { FullTextCriterion: query },\n                limit,\n                offset: 0,\n            },\n        },\n    });\n    const request = new Request(ENDPOINT_CREATE_VIEW, {\n        method: 'POST',\n        headers: Object.assign({}, HEADERS_CREATE_VIEW, {\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        }),\n        body,\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Loads content types\n *\n * @function loadContentTypes\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @param {Function} callback\n */\nexport const loadContentTypes = ({ token, siteaccess }, callback) => {\n    const request = new Request('/api/ezp/v2/content/types', {\n        method: 'GET',\n        headers: {\n            Accept: 'application/vnd.ez.api.ContentTypeInfoList+json',\n            'X-Siteaccess': siteaccess,\n            'X-CSRF-Token': token,\n        },\n        mode: 'same-origin',\n        credentials: 'same-origin',\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/services/universal.discovery.service.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../icon/icon';\n\nconst TooltipPopupComponent = (props) => {\n    const attrs = {\n        className: 'c-tooltip-popup',\n        hidden: !props.visible,\n    };\n\n    return (\n        <div {...attrs}>\n            <div className=\"c-tooltip-popup__header\">\n                <div className=\"c-tooltip-popup__title\">{props.title}</div>\n                <div className=\"c-tooltip-popup__close\" onClick={props.onClose} tabIndex=\"-1\">\n                    <Icon name=\"discard\" extraClasses=\"ez-icon--medium\" />\n                </div>\n            </div>\n            <div className=\"c-tooltip-popup__content\">{props.children}</div>\n        </div>\n    );\n};\n\nTooltipPopupComponent.propTypes = {\n    title: PropTypes.string.isRequired,\n    children: PropTypes.node.isRequired,\n    visible: PropTypes.bool.isRequired,\n    onClose: PropTypes.func,\n};\n\nTooltipPopupComponent.defaultProps = {\n    onClose: () => {},\n};\n\nexport default TooltipPopupComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/tooltip-popup/tooltip.popup.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport FinderTreeBranchComponent from './finder.tree.branch.component';\nimport { loadPreselectedLocationData, QUERY_LIMIT } from '../../services/universal.discovery.service';\nimport deepClone from '../../../common/helpers/deep.clone.helper';\n\nconst ROOT_LOCATION_OBJECT = null;\n\nexport default class FinderComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            locationsMap: {},\n            activeLocations: [],\n            limit: QUERY_LIMIT,\n        };\n\n        this.appendMoreItems = this.appendMoreItems.bind(this);\n        this.updateLocationsData = this.updateLocationsData.bind(this);\n        this.findLocationChildren = this.findLocationChildren.bind(this);\n        this.loadBranchLeaves = this.loadBranchLeaves.bind(this);\n        this.onLoadMore = this.onLoadMore.bind(this);\n        this.renderBranch = this.renderBranch.bind(this);\n        this.setBranchContainerRef = this.setBranchContainerRef.bind(this);\n        this.setPreselectedState = this.getPreselectedState.bind(this);\n\n        this.locationsMap = {};\n        this.activeLocations = [];\n        this.preselectedItem = null;\n    }\n\n    componentDidMount() {\n        const isForcedLocation = this.props.allowedLocations.length === 1;\n        const allowedIncludesPreselected = this.props.allowedLocations.includes(this.props.preselectedLocation);\n        const isPreselectedLocation = this.props.preselectedLocation && (!this.props.allowedLocations.length || allowedIncludesPreselected);\n\n        if (isForcedLocation) {\n            this.loadPreselectedData(this.props.allowedLocations[0]);\n        } else if (isPreselectedLocation) {\n            this.loadPreselectedData(this.props.preselectedLocation);\n        } else {\n            this.setDefaultActiveLocations();\n            this.props.findLocationsByParentLocationId(\n                { ...this.props.restInfo, parentLocationId: this.props.startingLocationId },\n                this.updateLocationsData\n            );\n        }\n    }\n\n    componentDidUpdate() {\n        this.updateBranchesContainerScroll();\n    }\n\n    UNSAFE_componentWillReceiveProps(nextProps) {\n        const isShowingUp = nextProps.isVisible && nextProps.isVisible !== this.props.isVisible;\n\n        if (this.preselectedItem && this.locationsMap && this.activeLocations && isShowingUp) {\n            this.setState(this.getPreselectedState, () => nextProps.isVisible && this.props.onItemSelect(this.preselectedItem));\n        }\n    }\n\n    getPreselectedState() {\n        return { locationsMap: this.locationsMap, activeLocations: this.activeLocations };\n    }\n\n    /**\n     * Load data of preselected location.\n     *\n     * @method loadPreselectedData\n     * @param {String} locationId\n     * @memberof FinderComponent\n     */\n    loadPreselectedData(locationId) {\n        const promise = new Promise((resolve) =>\n            loadPreselectedLocationData({ startingLocationId: this.props.startingLocationId, locationId }, resolve)\n        );\n\n        promise.then((response) => {\n            this.createPreselectedLocationData(response);\n            this.preselectedItem = response.locations[locationId].Location;\n            this.setPreselectedLocationData();\n        });\n    }\n\n    /**\n     * Create preselected location data.\n     *\n     * @method createPreselectedLocationData\n     * @param {Object} params\n     * @param {Array} params.locations\n     * @param {Array} params.subitems\n     * @memberof FinderComponent\n     */\n    createPreselectedLocationData({ locations, subitems }) {\n        const createItem = ({ offset = 0, children, location }) => {\n            const createData = (items) => {\n                return items.locations.map((value) => {\n                    return { value };\n                });\n            };\n            const data = children ? createData(children) : [];\n            const count = children ? children.totalCount : location.childCount;\n\n            return { count, data, offset, location };\n        };\n\n        if (subitems[1]) {\n            const item = createItem({ children: subitems[1], location: ROOT_LOCATION_OBJECT });\n\n            this.locationsMap[this.props.startingLocationId] = item;\n            this.activeLocations[0] = ROOT_LOCATION_OBJECT;\n        }\n\n        Object.entries(locations).forEach(([key, value]) => {\n            const item = createItem({\n                children: subitems[key],\n                location: value.Location,\n            });\n\n            this.locationsMap[key] = item;\n            this.activeLocations[value.Location.depth] = item.location;\n        });\n    }\n\n    /**\n     * Sets preselected location data.\n     *\n     * @method setPreselectedLocationData\n     * @memberof FinderComponent\n     */\n    setPreselectedLocationData() {\n        this.setState(this.getPreselectedState, () => this.props.isVisible && this.props.onItemSelect(this.preselectedItem));\n    }\n\n    /**\n     * Updates locations based state attributes: activeLocations and locationsMap\n     *\n     * @method updateLocationsData\n     * @param {Object} params params hash containing: parentLocationId, data and offset properties\n     * @memberof FinderComponent\n     */\n    updateLocationsData({ data, offset }, location = null) {\n        this.setLocationData({\n            location,\n            data: data.View.Result.searchHits.searchHit,\n            count: data.View.Result.count,\n            offset,\n        });\n    }\n\n    setDefaultActiveLocations() {\n        this.setState(() => ({ activeLocations: [ROOT_LOCATION_OBJECT] }));\n    }\n\n    setLocationData(locationData) {\n        this.setState((state, props) => {\n            const { location } = locationData;\n            const locationId = location ? location.id : props.startingLocationId;\n            const locationsMap = { ...deepClone(state.locationsMap), [locationId]: locationData };\n\n            return { locationsMap };\n        });\n    }\n\n    /**\n     * Updates the left scroll position of branches container\n     *\n     * @method updateBranchesContainerScroll\n     * @memberof FinderComponent\n     */\n    updateBranchesContainerScroll() {\n        const container = this._refBranchesContainer;\n\n        if (container) {\n            container.scrollLeft = container.scrollWidth - container.clientWidth;\n        }\n    }\n\n    /**\n     * Handles loading more items for a selected parent location\n     *\n     * @method onLoadMore\n     * @param {Object} parentLocation\n     * @memberof FinderComponent\n     */\n    onLoadMore(parentLocation) {\n        const limit = this.state.limit;\n        const parentLocationId = parentLocation ? parentLocation.id : this.props.startingLocationId;\n        const offset = this.state.locationsMap[parentLocationId].offset + limit;\n        const sortClauses = parentLocation ? this.getLocationSortClauses(parentLocation) : {};\n\n        this.props.findLocationsByParentLocationId(\n            { ...this.props.restInfo, parentLocationId, limit, offset, sortClauses },\n            this.appendMoreItems\n        );\n    }\n\n    /**\n     * Appends more subitems for a selected location\n     *\n     * @method appendMoreItems\n     * @param {Object} response object containing information about: parentLocationId, offset and data\n     * @memberof FinderComponent\n     */\n    appendMoreItems({ parentLocationId, offset, data }) {\n        this.setState((state) => {\n            const locationsMap = deepClone(state.locationsMap);\n            const locationData = locationsMap[parentLocationId];\n\n            locationData.offset = offset;\n            locationData.data = [...locationData.data, ...data.View.Result.searchHits.searchHit];\n\n            return { locationsMap };\n        });\n    }\n\n    /**\n     * Loads branch children (sub-items)\n     *\n     * @method loadBranchLeaves\n     * @param {Object} parentLocation\n     * @memberof FinderComponent\n     */\n    loadBranchLeaves(parentLocation) {\n        const { findLocationsByParentLocationId, startingLocationId, restInfo } = this.props;\n        const sortClauses = this.getLocationSortClauses(parentLocation);\n        const promise = new Promise((resolve) =>\n            findLocationsByParentLocationId(\n                {\n                    ...restInfo,\n                    parentLocationId: parentLocation ? parentLocation.id : startingLocationId,\n                    sortClauses,\n                },\n                resolve\n            )\n        );\n\n        promise.then((response) => {\n            this.updateLocationsData(response, parentLocation);\n        });\n    }\n\n    /**\n     * Generates sort clause for location\n     *\n     * @method getLocationSortClauses\n     * @param {Object} location\n     * @returns {Object} sortClauses for given location\n     * @memberof FinderComponent\n     */\n    getLocationSortClauses(location) {\n        const { sortFieldMappings, sortOrderMappings } = this.props;\n        const sortField = sortFieldMappings[location.sortField];\n        const sortOrder = sortOrderMappings[location.sortOrder];\n\n        if (!sortField || !sortOrder) {\n            return {};\n        }\n\n        return { [sortField]: sortOrder };\n    }\n\n    /**\n     * Finds location children (sub-items)\n     *\n     * @method findLocationChildren\n     * @param {Object} location\n     * @memberof FinderComponent\n     */\n    findLocationChildren(location) {\n        if (this.props.allowedLocations.length === 1) {\n            return;\n        }\n\n        this.props.onItemSelect(location);\n        this.updateSelectedBranches(location);\n\n        if (!location.childCount) {\n            this.setLocationData({ location, data: [], count: 0, offset: 0 });\n\n            return;\n        }\n\n        const sortClauses = this.getLocationSortClauses(location);\n        const promise = new Promise((resolve) =>\n            this.props.findLocationsByParentLocationId(\n                {\n                    ...this.props.restInfo,\n                    parentLocationId: location.id,\n                    sortClauses,\n                },\n                resolve\n            )\n        );\n\n        promise.then((response) => {\n            this.updateLocationsData(response, location);\n        });\n    }\n\n    /**\n     * Updates selected branches state\n     *\n     * @param {Object} location location struct\n     * @memberof FinderComponent\n     */\n    updateSelectedBranches(location) {\n        this.setState(this.updateActiveLocations.bind(this, location));\n    }\n\n    /**\n     * Updates active locations info\n     *\n     * @method updateActiveLocations\n     * @param {Object} location location struct\n     * @param {Object} state component state\n     * @returns {Object}\n     * @memberof FinderComponent\n     */\n    updateActiveLocations(location, state) {\n        const locationDepth = parseInt(location.depth, 10);\n        const activeLocations = state.activeLocations.slice(0, locationDepth);\n\n        activeLocations[locationDepth] = location;\n\n        return { activeLocations };\n    }\n\n    /**\n     * Renders branch (the sub items container)\n     *\n     * @method renderBranch\n     * @param {Object} locationData params hash containing: parent, count and data properties\n     * @returns {JSX.Element|null}\n     * @memberof FinderComponent\n     */\n    renderBranch(locationData, branchActiveLocationId, isBranchActiveLocationLoading) {\n        if (!locationData || !locationData.count) {\n            return null;\n        }\n\n        const { data: childrenData, count, location } = locationData;\n        const locationId = location ? location.id : this.props.startingLocationId;\n\n        return (\n            <FinderTreeBranchComponent\n                key={locationId}\n                parentLocation={location}\n                items={childrenData}\n                total={count}\n                activeLocationId={branchActiveLocationId}\n                isActiveLocationLoading={isBranchActiveLocationLoading}\n                onItemClick={this.findLocationChildren}\n                onBranchClick={this.loadBranchLeaves}\n                onLoadMore={this.onLoadMore}\n                maxHeight={this.props.maxHeight}\n                allowContainersOnly={this.props.allowContainersOnly}\n                contentTypesMap={this.props.contentTypesMap}\n                allowedLocations={this.props.allowedLocations}\n                multiple={this.props.multiple}\n                selectedContent={this.props.selectedContent}\n                onSelectContent={this.props.onSelectContent}\n                canSelectContent={this.props.canSelectContent}\n                onItemRemove={this.props.onItemRemove}\n            />\n        );\n    }\n\n    setBranchContainerRef(ref) {\n        this._refBranchesContainer = ref;\n    }\n\n    render() {\n        const { activeLocations } = this.state;\n\n        if (!activeLocations.length) {\n            return null;\n        }\n\n        const { locationsMap } = this.state;\n\n        return (\n            <div className=\"c-finder\">\n                <div className=\"c-finder__branches\" style={{ height: `${this.props.maxHeight}px` }} ref={this.setBranchContainerRef}>\n                    {activeLocations.map((location, index) => {\n                        const locationId = location ? location.id : this.props.startingLocationId;\n                        const branchActiveLocation = activeLocations[index + 1];\n                        const branchActiveLocationId = branchActiveLocation ? branchActiveLocation.id : null;\n                        const isBranchActiveLocationLoading = branchActiveLocationId && !locationsMap[branchActiveLocationId];\n                        const locationData = locationsMap[locationId];\n\n                        return this.renderBranch(locationData, branchActiveLocationId, isBranchActiveLocationLoading);\n                    })}\n                </div>\n            </div>\n        );\n    }\n}\n\nFinderComponent.propTypes = {\n    multiple: PropTypes.bool.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    startingLocationId: PropTypes.number.isRequired,\n    findLocationsByParentLocationId: PropTypes.func.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    allowContainersOnly: PropTypes.bool,\n    contentTypesMap: PropTypes.object,\n    preselectedLocation: PropTypes.number,\n    allowedLocations: PropTypes.array,\n    isVisible: PropTypes.bool,\n    sortFieldMappings: PropTypes.object.isRequired,\n    sortOrderMappings: PropTypes.object.isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n};\n\nFinderComponent.defaultProps = {\n    allowedLocations: [],\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/finder/finder.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nexport default class SelectContentButtonComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.toggleEnabledState = this.toggleEnabledState.bind(this);\n        this.handleSelect = this.handleSelect.bind(this);\n        this.handleUnselect = this.handleUnselect.bind(this);\n\n        this.state = {\n            selectContentEnabled: true,\n        };\n    }\n\n    componentDidMount() {\n        this.checkCanSelectContent();\n    }\n\n    componentDidUpdate() {\n        this.checkCanSelectContent();\n    }\n\n    checkCanSelectContent() {\n        const { location, canSelectContent } = this.props;\n\n        canSelectContent(location, this.toggleEnabledState);\n    }\n\n    toggleEnabledState(selectContentEnabled) {\n        if (this.state.selectContentEnabled === selectContentEnabled) {\n            return;\n        }\n\n        this.setState((state) => ({ ...state, selectContentEnabled }));\n    }\n\n    handleSelect(event) {\n        event.stopPropagation();\n\n        this.props.onSelectContent(this.props.location);\n    }\n\n    handleUnselect(event) {\n        event.stopPropagation();\n\n        this.props.onItemRemove(this.props.location.id);\n    }\n\n    render() {\n        const { multiple, isSelected } = this.props;\n        const iconId = isSelected ? 'checkmark' : 'create';\n        const attrs = {\n            type: 'button',\n            className: 'c-select-content-button',\n            onClick: isSelected ? this.handleUnselect : this.handleSelect,\n        };\n\n        if (!multiple || (!isSelected && !this.state.selectContentEnabled)) {\n            return null;\n        }\n\n        if (isSelected) {\n            attrs.className = `${attrs.className} ${attrs.className}--selected`;\n        }\n\n        return (\n            <button {...attrs}>\n                <Icon name={iconId} extraClasses=\"ez-icon--small\" />\n            </button>\n        );\n    }\n}\n\nSelectContentButtonComponent.propTypes = {\n    data: PropTypes.object.isRequired,\n    onPreview: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    onItemClick: PropTypes.func,\n    labels: PropTypes.shape({\n        contentTableItem: PropTypes.shape({\n            notAvailable: PropTypes.string.isRequired,\n        }).isRequired,\n    }).isRequired,\n    location: PropTypes.object.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    multiple: PropTypes.bool.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/select-content-button/select.content.button.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nimport ContentTablePaginationComponent from './content.table.pagination.component';\nimport ContentTableItemComponent from './content.table.item.component';\nimport ContentTableHeaderComponent from './content.table.header.component';\n\nexport default class ContentTableComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            items: props.items,\n            perPage: props.perPage,\n            activePage: 0,\n            pages: this.splitToPages(props.items, props.perPage),\n            count: props.count,\n        };\n\n        this.setActivePage = this.setActivePage.bind(this);\n        this.renderItem = this.renderItem.bind(this);\n    }\n\n    UNSAFE_componentWillMount() {\n        this.ensurePageItemsLoaded(0);\n    }\n\n    UNSAFE_componentWillReceiveProps({ items, perPage, count }) {\n        const maxPage = !count ? 0 : Math.floor((count - 1) / perPage);\n\n        this.setState((state) => ({\n            items,\n            count,\n            activePage: state.activePage <= maxPage ? state.activePage : maxPage,\n            pages: this.splitToPages(items, perPage),\n        }));\n    }\n\n    /**\n     * Splits items into pages\n     *\n     * @method splitToPages\n     * @param {Array} items\n     * @param {Number} perPage\n     * @returns {Array}\n     * @memberof ContentTableComponent\n     */\n    splitToPages(items, perPage) {\n        return items.reduce((pages, item, index) => {\n            const pageIndex = Math.floor(index / perPage);\n\n            if (!pages[pageIndex]) {\n                pages[pageIndex] = [];\n            }\n\n            pages[pageIndex].push(item);\n\n            return pages;\n        }, []);\n    }\n\n    ensurePageItemsLoaded(activePage) {\n        const { requireItemsCount } = this.props;\n        const { count, perPage } = this.state;\n        const itemsNeededCount = Math.min(perPage * (activePage + 1), count);\n\n        requireItemsCount(itemsNeededCount);\n    }\n\n    /**\n     * Sets active page index state\n     *\n     * @method setActivePage\n     * @param {Number} activePage\n     * @memberof ContentTableComponent\n     */\n    setActivePage(activePage) {\n        this.ensurePageItemsLoaded(activePage);\n\n        this.setState(() => ({ activePage }));\n    }\n\n    renderNoItemsMessage() {\n        const { count, noItemsMessage } = this.props;\n\n        if (count || !noItemsMessage) {\n            return null;\n        }\n\n        return <div className=\"c-content-table__no-items\">{noItemsMessage}</div>;\n    }\n\n    /**\n     * Renders single item\n     *\n     * @method renderItem\n     * @param {Object} item\n     * @returns {Element}\n     * @memberof ContentTableComponent\n     */\n    renderItem(item) {\n        const location = item.Location;\n        const { contentTypesMap, onItemSelect, selectedContent, onSelectContent, canSelectContent, onItemRemove, multiple } = this.props;\n\n        return (\n            <ContentTableItemComponent\n                key={location.id}\n                data={location}\n                contentTypesMap={contentTypesMap}\n                onPreview={() => onItemSelect(location)}\n                selectedContent={selectedContent}\n                onSelectContent={onSelectContent}\n                canSelectContent={canSelectContent}\n                onItemRemove={onItemRemove}\n                multiple={multiple}\n            />\n        );\n    }\n\n    /**\n     * Renders single search results item\n     *\n     * @method renderHeader\n     * @returns {Element}\n     * @memberof ContentTableComponent\n     */\n    renderHeader() {\n        const { items } = this.state;\n        const showHeader = !!items.length;\n\n        if (!showHeader) {\n            return null;\n        }\n\n        return <ContentTableHeaderComponent />;\n    }\n\n    /**\n     * Renders pagination\n     *\n     * @method renderPagination\n     * @returns {Element}\n     * @memberof ContentTableComponent\n     */\n    renderPagination() {\n        const { activePage, count, perPage } = this.state;\n        const pagesCount = !count ? 0 : Math.floor((count - 1) / perPage) + 1;\n        const paginationAttrs = {\n            minIndex: 0,\n            maxIndex: pagesCount - 1,\n            activeIndex: activePage,\n            onChange: this.setActivePage,\n        };\n\n        if (!pagesCount || paginationAttrs.minIndex === paginationAttrs.maxIndex) {\n            return null;\n        }\n\n        return <ContentTablePaginationComponent {...paginationAttrs} />;\n    }\n\n    renderPageSpinner() {\n        return <Icon name=\"spinner\" extraClasses=\"c-content-table__loading-spinner ez-spin ez-icon-x2 ez-icon-spinner\" />;\n    }\n\n    renderPage() {\n        const { pages, activePage, perPage, count } = this.state;\n        const itemsCount = this.state.items.length;\n        const neededItemsCount = Math.min((activePage + 1) * perPage, count);\n        const allNeededItemsLoaded = itemsCount >= neededItemsCount;\n\n        if (!allNeededItemsLoaded) {\n            return this.renderPageSpinner();\n        }\n\n        const pageToRender = !itemsCount ? [] : pages[activePage];\n\n        return pageToRender.map(this.renderItem);\n    }\n\n    render() {\n        const { title, count, noItemsMessage } = this.props;\n\n        if (!count && !noItemsMessage) {\n            return null;\n        }\n\n        return (\n            <div className=\"c-content-table\">\n                <div className=\"c-content-table__title\">\n                    {title} ({count})\n                </div>\n                {this.renderNoItemsMessage()}\n                {this.renderHeader()}\n                <div className=\"c-content-table__list\">{this.renderPage()}</div>\n                {this.renderPagination()}\n            </div>\n        );\n    }\n}\n\nContentTableComponent.propTypes = {\n    items: PropTypes.array.isRequired,\n    count: PropTypes.number.isRequired,\n    perPage: PropTypes.number.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    onItemClick: PropTypes.func,\n    title: PropTypes.string.isRequired,\n    noItemsMessage: PropTypes.string,\n    requireItemsCount: PropTypes.func.isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    multiple: PropTypes.bool.isRequired,\n};\n\nContentTableComponent.defaultProps = {\n    onItemClick: null,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/content-table/content.table.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport TabNavItemComponent from './components/tab-nav/tab.nav.item.component';\nimport FinderPanelComponent from './components/tab-content/finder.panel.component';\nimport SearchPanelComponent from './components/tab-content/search.panel.component';\nimport CreatePanelComponent from './components/tab-content/create.panel.component';\nimport BookmarksPanelComponent from './components/tab-content/bookmarks.panel.component';\nimport ContentCreatorComponent from './components/content-creator/content.creator.component';\nimport SelectedContentComponent from './components/selected-content/selected.content.component';\nimport ContentMetaPreviewComponent from './components/content-meta-preview/content.meta.preview.component';\nimport {\n    loadContentInfo,\n    loadContentTypes,\n    findLocationsByParentLocationId,\n    findContentBySearchQuery,\n    checkCreatePermission,\n} from './services/universal.discovery.service';\nimport { checkIsBookmarked, loadBookmarks, addBookmark, removeBookmark } from './services/bookmark.service';\nimport { showErrorNotification } from '../common/services/notification.service';\nimport { areSameLocations } from '../common/helpers/compare.helper';\nimport deepClone from '../common/helpers/deep.clone.helper';\n\nexport const TAB_BROWSE = 'browse';\nexport const TAB_SEARCH = 'search';\nexport const TAB_CREATE = 'create';\nexport const TAB_BOOKMARKS = 'bookmarks';\n\nconst CLASS_SCROLL_DISABLED = 'ez-scroll-disabled';\nconst CONTENT_META_PREVIEW_BASE_STATE = {\n    contentMeta: null,\n    isPreviewMetaReady: false,\n    isLocationAllowed: false,\n};\n\nexport default class UniversalDiscoveryModule extends Component {\n    constructor(props) {\n        super(props);\n\n        let selectedContentType = {};\n        const isForcedLanguage = props.cotfAllowedLanguages.length === 1 || props.cotfForcedLanguage;\n        const isForcedContentType = props.cotfAllowedContentTypes.length === 1;\n        const isForcedLocation = props.cotfAllowedLocations.length === 1;\n\n        this.onLanguageSelected = this.onLanguageSelected.bind(this);\n        this.onContentTypeSelected = this.onContentTypeSelected.bind(this);\n        this.handlePublish = this.handlePublish.bind(this);\n        this.togglePanel = this.togglePanel.bind(this);\n        this.setContentTypesMap = this.setContentTypesMap.bind(this);\n        this.canSelectContent = this.canSelectContent.bind(this);\n        this.updateSelectedContent = this.updateSelectedContent.bind(this);\n        this.onItemRemove = this.onItemRemove.bind(this);\n        this.onItemSelect = this.onItemSelect.bind(this);\n        this.renderSinglePanel = this.renderSinglePanel.bind(this);\n        this.renderSingleTab = this.renderSingleTab.bind(this);\n        this.handleConfirm = this.handleConfirm.bind(this);\n        this.handleSingleConfirm = this.handleSingleConfirm.bind(this);\n        this.setCreateModeState = this.setCreateModeState.bind(this);\n        this.updateContentMetaWithCurrentVersion = this.updateContentMetaWithCurrentVersion.bind(this);\n        this.toggleBookmark = this.toggleBookmark.bind(this);\n        this.onBookmarkAdded = this.onBookmarkAdded.bind(this);\n        this.onBookmarkRemoved = this.onBookmarkRemoved.bind(this);\n        this.setBookmarkLoadingStatus = this.setBookmarkLoadingStatus.bind(this);\n        this.requireBookmarksCount = this.requireBookmarksCount.bind(this);\n        this.onBookmarksLoaded = this.onBookmarksLoaded.bind(this);\n        this.updatePermissionsState = this.updatePermissionsState.bind(this);\n        this.setCanSelectContentState = this.setCanSelectContentState.bind(this);\n        this.updateMaxHeightState = this.updateMaxHeightState.bind(this);\n        this.setMainContainerRef = this.setMainContainerRef.bind(this);\n        this.setContentContainerRef = this.setContentContainerRef.bind(this);\n\n        this.loadingBookmarksLocationsIds = {};\n        this._refMainContainer;\n        this._refContentContainer;\n\n        if (isForcedContentType) {\n            selectedContentType = this.findContentType(props.cotfAllowedContentTypes[0]);\n        }\n\n        this.tabsLabels = {\n            browse: Translator.trans(/*@Desc(\"Browse\")*/ 'browse.tab.label', {}, 'universal_discovery_widget'),\n            search: Translator.trans(/*@Desc(\"Search\")*/ 'search.tab.label', {}, 'universal_discovery_widget'),\n            create: Translator.trans(/*@Desc(\"Create\")*/ 'create.tab.label', {}, 'universal_discovery_widget'),\n            bookmarks: Translator.trans(/*@Desc(\"Bookmarks\")*/ 'bookmarks.tab.label', {}, 'universal_discovery_widget'),\n        };\n\n        this.state = {\n            activeTab: props.activeTab,\n            contentTypesMap: {},\n            selectedContent: [],\n            maxHeight: props.maxHeight,\n            mainContainerRestHeight: 0,\n            selectedLanguage: {},\n            selectedContentType,\n            isCreateMode: isForcedLanguage && isForcedContentType && isForcedLocation,\n            hasPermission: true,\n            userBookmarksCount: null,\n            userBookmarksItems: [],\n            bookmarksRequiredCount: 0,\n            bookmarksDuringLoadingCount: 0,\n            bookmarked: {},\n            canSelectContent: false,\n            ...CONTENT_META_PREVIEW_BASE_STATE,\n        };\n    }\n\n    componentDidMount() {\n        this.props.loadContentTypes(this.props.restInfo, this.setContentTypesMap);\n\n        if (!this._refContentContainer) {\n            return null;\n        }\n\n        window.document.body.classList.add(CLASS_SCROLL_DISABLED);\n        window.addEventListener('resize', this.updateMaxHeightState, false);\n\n        this.initializeBookmarks();\n\n        this.setState(() => ({\n            maxHeight: this._refContentContainer.clientHeight,\n            mainContainerRestHeight: this._refMainContainer.clientHeight - this._refContentContainer.clientHeight,\n        }));\n    }\n\n    componentWillUnmount() {\n        window.document.body.classList.remove(CLASS_SCROLL_DISABLED);\n        window.removeEventListener('resize', this.updateMaxHeightState);\n    }\n\n    componentDidUpdate(prevProps, prevState) {\n        const { contentMeta, isPreviewMetaReady } = this.state;\n\n        if (!!contentMeta && contentMeta !== prevState.contentMeta && !isPreviewMetaReady) {\n            const contentId = contentMeta.ContentInfo.Content._id;\n\n            this.props.loadContentInfo(this.props.restInfo, contentId, this.updateContentMetaWithCurrentVersion.bind(this, contentId));\n        }\n\n        if (!this.props.multiple) {\n            this.canSelectContent(contentMeta, this.setCanSelectContentState);\n        }\n    }\n\n    /**\n     * Updates the maxHeight state\n     *\n     * @method updateMaxHeightState\n     * @memberof UniversalDiscoveryModule\n     */\n    updateMaxHeightState() {\n        this.setState(() => ({\n            maxHeight: this._refMainContainer.clientHeight - this.state.mainContainerRestHeight,\n        }));\n    }\n\n    /**\n     * Sets the can select content state.\n     *\n     * @method setCanSelectContentState\n     * @param {Boolean} canSelectContent\n     * @memberof UniversalDiscoveryModule\n     */\n    setCanSelectContentState(canSelectContent) {\n        if (this.state.canSelectContent === canSelectContent) {\n            return;\n        }\n\n        this.setState(() => ({ canSelectContent }));\n    }\n\n    /**\n     * Loads first 10 user's bookmarks (or less if user doesn't have that many bookmarks).\n     * Sets total count of user's bookmarks.\n     *\n     * @method initializeBookmarks\n     * @memberof UniversalDiscoveryModule\n     */\n    initializeBookmarks() {\n        const { restInfo } = this.props;\n        const bookmarksLoaded = new Promise((resolve) => loadBookmarks(restInfo, 10, 0, resolve));\n\n        bookmarksLoaded\n            .then(({ BookmarkList }) =>\n                this.setState(() => ({\n                    userBookmarksCount: BookmarkList.count,\n                    userBookmarksItems: BookmarkList.items,\n                }))\n            )\n            .catch(showErrorNotification);\n    }\n\n    /**\n     * Updates selected content item meta with a current version info object\n     *\n     * @method updateContentMetaWithCurrentVersion\n     * @param {Number} contentId ID of content for which we fetched CurrentVersion\n     * @param {Object} response\n     */\n    updateContentMetaWithCurrentVersion(contentId, response) {\n        const { contentMeta } = this.state;\n\n        if (!contentMeta || contentMeta.ContentInfo.Content._id !== contentId) {\n            return;\n        }\n\n        const updatedContentMeta = deepClone(contentMeta);\n        const currentVersion = response.View.Result.searchHits.searchHit[0].value.Content.CurrentVersion;\n\n        updatedContentMeta.CurrentVersion = currentVersion;\n\n        this.setState(() => ({ contentMeta: updatedContentMeta, isPreviewMetaReady: true }));\n    }\n\n    /**\n     * Finds a content type data\n     *\n     * @method findContentType\n     * @param {String} identifier\n     * @returns {Object}\n     */\n    findContentType(identifier) {\n        let contentType = null;\n\n        Object.values(this.props.contentTypes).forEach((group) => {\n            const result = group.find((contentType) => contentType.identifier === identifier);\n\n            if (result) {\n                contentType = result;\n            }\n        });\n\n        return contentType;\n    }\n\n    /**\n     * Handles selection confirm action\n     *\n     * @method handleConfirm\n     */\n    handleConfirm() {\n        this.props.onConfirm(this.addContentTypeInfo(this.state.selectedContent));\n    }\n\n    handleSingleConfirm() {\n        this.setState(\n            (state) => ({ selectedContent: [state.contentMeta] }),\n            () => this.props.onConfirm(this.addContentTypeInfo(this.state.selectedContent))\n        );\n    }\n\n    /**\n     * Handles create content action\n     *\n     * @method setCreateModeState\n     */\n    setCreateModeState() {\n        this.setState(() => ({ isCreateMode: true }));\n    }\n\n    /**\n     * Handles publish content action\n     *\n     * @method handlePublish\n     * @param {Object} location\n     */\n    handlePublish(location) {\n        this.props.onConfirm(this.addContentTypeInfo([location]));\n    }\n\n    /**\n     * Adds a content type info to a content\n     *\n     * @method addContentTypeInfo\n     * @param {Array} items\n     * @returns {Array}\n     */\n    addContentTypeInfo(items) {\n        const { contentTypesMap } = this.state;\n\n        return items.map((item) => {\n            const clonedItem = deepClone(item);\n            const contentType = clonedItem.ContentInfo.Content.ContentType;\n\n            clonedItem.ContentInfo.Content.ContentTypeInfo = contentTypesMap[contentType._href];\n\n            return clonedItem;\n        });\n    }\n\n    /**\n     * Handles selected contet item removal action\n     *\n     * @method onItemRemove\n     * @param {String} id\n     */\n    onItemRemove(id) {\n        this.setState((state) => ({\n            selectedContent: state.selectedContent.filter((item) => item.id !== id),\n        }));\n    }\n\n    /**\n     * Handles item selected action\n     *\n     * @method onItemSelect\n     * @param {Object} contentMeta\n     */\n    onItemSelect(contentMeta) {\n        this.setState(\n            () => CONTENT_META_PREVIEW_BASE_STATE,\n            () => {\n                const isLocationAllowed =\n                    !this.props.cotfAllowedLocations.length || this.props.cotfAllowedLocations.includes(contentMeta.id);\n                const contentMetaWithContentTypeInfo = this.addContentTypeInfo([contentMeta])[0];\n\n                this.setState(() => ({\n                    contentMeta: contentMetaWithContentTypeInfo,\n                    isLocationAllowed,\n                    isPreviewMetaReady: false,\n                }));\n            }\n        );\n    }\n\n    /**\n     * Fires `ez-bookmark-change` event\n     *\n     * @method dispatchBookmarkChangeEvent\n     * @param {Number} locationId\n     * @param {Boolean} bookmarked\n     */\n    dispatchBookmarkChangeEvent(locationId, bookmarked) {\n        const event = new CustomEvent('ez-bookmark-change', { detail: { bookmarked, locationId } });\n\n        document.body.dispatchEvent(event);\n    }\n\n    /**\n     * Sets loading status of bookmark\n     *\n     * @method setBookmarkLoadingStatus\n     * @param {String} locationId\n     * @param {Boolean} isLoading\n     * @memberof UniversalDiscoveryModule\n     */\n    setBookmarkLoadingStatus(locationId, isLoading) {\n        this.loadingBookmarksLocationsIds[locationId] = isLoading;\n    }\n\n    /**\n     * Returns true if bookmark is loading, otherwise returns false\n     *\n     * @method isBookmarkLoading\n     * @param {String} locationId\n     * @memberof UniversalDiscoveryModule\n     */\n    isBookmarkLoading(locationId) {\n        return !!this.loadingBookmarksLocationsIds[locationId];\n    }\n\n    /**\n     * Checks whether location is already bookmarked\n     *\n     * @method fetchBookmarkStatus\n     * @param {String} locationId\n     * @memberof UniversalDiscoveryModule\n     */\n    fetchBookmarkStatus(locationId) {\n        if (this.isBookmarkLoading(locationId)) {\n            return;\n        }\n\n        this.setBookmarkLoadingStatus(locationId, true);\n\n        const { restInfo } = this.props;\n        const checked = new Promise((resolve) => checkIsBookmarked(restInfo, locationId, resolve));\n\n        checked\n            .then((isBookmarked) => {\n                this.setIsBookmarked(locationId, isBookmarked);\n                this.setBookmarkLoadingStatus(locationId, false);\n            })\n            .catch(showErrorNotification);\n    }\n\n    /**\n     * Sets bookmark value in the state\n     *\n     * @method setIsBookmarked\n     * @param {String} locationId\n     * @param {Boolean} isBookmarked\n     * @memberof ContentMetaPreviewComponent\n     */\n    setIsBookmarked(locationId, isBookmarked) {\n        this.setState((state) => {\n            const bookmarked = { ...state.bookmarked };\n\n            bookmarked[locationId] = isBookmarked;\n\n            return { bookmarked };\n        });\n    }\n\n    /**\n     * Removes or adds bookmark depending on if it exists or not\n     *\n     * @method toggleBookmark\n     * @param {Object} location\n     * @memberof UniversalDiscoveryModule\n     */\n    toggleBookmark(location) {\n        const locationId = location.id;\n        const isBookmarked = this.isBookmarked(locationId);\n\n        if (this.isBookmarkLoading(locationId)) {\n            return;\n        }\n\n        this.setBookmarkLoadingStatus(locationId, true);\n\n        const { restInfo } = this.props;\n        const toggleBookmark = isBookmarked ? removeBookmark : addBookmark;\n        const onBookmarkToggled = isBookmarked ? this.onBookmarkRemoved : this.onBookmarkAdded;\n        const bookmarkToggled = new Promise((resolve) => toggleBookmark(restInfo, locationId, resolve));\n\n        bookmarkToggled\n            .then(() => {\n                onBookmarkToggled(location);\n                this.setBookmarkLoadingStatus(locationId, false);\n            })\n            .catch(showErrorNotification);\n    }\n\n    /**\n     * Returns\n     *\n     * @method isBookmarked\n     * @param {String} locationId\n     * @returns {Boolean}\n     * @memberof UniversalDiscoveryModule\n     */\n    isBookmarked(locationId) {\n        const { bookmarked } = this.state;\n        const locationBookmarkChecked = locationId in bookmarked;\n\n        if (!locationBookmarkChecked) {\n            this.fetchBookmarkStatus(locationId);\n            return null;\n        }\n\n        return bookmarked[locationId];\n    }\n\n    /**\n     * Called on bookmarked removed\n     *\n     * @method onBookmarkRemoved\n     * @param {Object} itemToRemoveLocation\n     * @memberof UniversalDiscoveryModule\n     */\n    onBookmarkRemoved(itemToRemoveLocation) {\n        this.setState(\n            (state) => ({\n                userBookmarksCount: state.userBookmarksCount - 1,\n                userBookmarksItems: state.userBookmarksItems.filter((item) => !areSameLocations(item.Location, itemToRemoveLocation)),\n            }),\n            () => {\n                this.setIsBookmarked(itemToRemoveLocation.id, false);\n\n                const { activeTab } = this.state;\n\n                if (activeTab === TAB_BOOKMARKS) {\n                    this.closeContentMetaPreview();\n                }\n\n                this.dispatchBookmarkChangeEvent(itemToRemoveLocation.id, false);\n            }\n        );\n    }\n\n    /**\n     * Called on bookmarked added\n     *\n     * @method onBookmarkAdded\n     * @param {Object} addedBookmarkLocation\n     * @memberof UniversalDiscoveryModule\n     */\n    onBookmarkAdded(addedBookmarkLocation) {\n        this.setState(\n            (state) => ({\n                userBookmarksCount: state.userBookmarksCount + 1,\n                userBookmarksItems: [{ Location: addedBookmarkLocation }, ...state.userBookmarksItems],\n            }),\n            () => {\n                this.setIsBookmarked(addedBookmarkLocation.id, true);\n                this.dispatchBookmarkChangeEvent(addedBookmarkLocation.id, true);\n            }\n        );\n    }\n\n    /**\n     * Called on bookmarks loaded\n     *\n     * @method onBookmarksLoaded\n     * @param {Object} { BookmarksList }\n     * @memberof UniversalDiscoveryModule\n     */\n    onBookmarksLoaded({ BookmarkList }) {\n        const { items } = BookmarkList;\n\n        this.setState(\n            (state) => ({\n                bookmarksDuringLoadingCount: state.bookmarksDuringLoadingCount - items.length,\n                userBookmarksItems: [...items, ...state.userBookmarksItems],\n            }),\n            () => items.forEach((bookmarkLocation) => this.setIsBookmarked(bookmarkLocation.Location.id, true))\n        );\n    }\n\n    /**\n     * Loads bookmarks\n     *\n     * @method loadBookmarks\n     * @param {Number} itemsToLoadCount\n     * @memberof UniversalDiscoveryModule\n     */\n    loadBookmarks(itemsToLoadCount) {\n        const { restInfo } = this.props;\n        const offset = this.state.userBookmarksItems.length;\n        const bookmarksLoaded = new Promise((resolve) => loadBookmarks(restInfo, itemsToLoadCount, offset, resolve));\n\n        bookmarksLoaded.then(this.onBookmarksLoaded).catch(showErrorNotification);\n    }\n\n    /**\n     * Ensures that enough bookmarks are loaded\n     *\n     * @method requireBookmarksCount\n     * @param {String} locationId\n     * @memberof UniversalDiscoveryModule\n     */\n    requireBookmarksCount(count) {\n        this.setState((state) => {\n            const { bookmarksRequiredCount, bookmarksDuringLoadingCount, userBookmarksItems } = state;\n            const loadedBookmarksCount = userBookmarksItems.length;\n            const newBookmarksRequiredCount = Math.max(count, bookmarksRequiredCount);\n            const bookmarksToLoadCount = newBookmarksRequiredCount - loadedBookmarksCount - bookmarksDuringLoadingCount;\n\n            if (!!bookmarksToLoadCount) {\n                this.loadBookmarks(bookmarksToLoadCount);\n            }\n\n            return {\n                bookmarksDuringLoadingCount: bookmarksDuringLoadingCount + bookmarksToLoadCount,\n                bookmarksRequiredCount: newBookmarksRequiredCount,\n            };\n        });\n    }\n\n    /**\n     * Updates language selected state\n     *\n     * @method onLanguageSelected\n     * @param {String} selectedLanguage\n     */\n    onLanguageSelected(selectedLanguage) {\n        this.setState(() => ({ selectedLanguage }));\n    }\n\n    /**\n     * Updates selected content type state\n     *\n     * @method onContentTypeSelected\n     * @param {Object} selectedContentType\n     */\n    onContentTypeSelected(selectedContentType) {\n        this.setState(() => ({ selectedContentType }));\n    }\n\n    /**\n     * Updates selected content state\n     *\n     * @method updateSelectedContent\n     */\n    updateSelectedContent(location) {\n        const selectedContent = !this.props.multiple ? [location] : [...this.state.selectedContent, location];\n\n        this.setState(() => ({ selectedContent }));\n    }\n\n    /**\n     * Does checking whether a content can be selected\n     *\n     * @method canSelectContent\n     * @param {Object} data\n     * @param {Function} callback\n     * @returns {Boolean}\n     */\n    canSelectContent(data, callback) {\n        if (!data) {\n            return callback(false);\n        }\n\n        const { selectedContent, contentTypesMap } = this.state;\n        const { allowedContentTypes } = this.props;\n        const isAlreadySelected = selectedContent.find((item) => item.ContentInfo.Content._id === data.ContentInfo.Content._id);\n        const isOverLimit = !!this.props.selectedItemsLimit && selectedContent.length >= this.props.selectedItemsLimit;\n        const contentTypeInfo = contentTypesMap[data.ContentInfo.Content.ContentType._href];\n        const isAllowedContentType = !allowedContentTypes.length || allowedContentTypes.includes(contentTypeInfo.identifier);\n\n        if (isAlreadySelected || isOverLimit || !isAllowedContentType) {\n            return callback(false);\n        }\n\n        data.ContentInfo.Content.ContentTypeInfo = contentTypeInfo;\n\n        return this.props.canSelectContent({ item: data, itemsCount: selectedContent.length }, callback);\n    }\n\n    /**\n     * Toggles visible panel state\n     *\n     * @method togglePanel\n     * @param {String} activeTab\n     */\n    togglePanel(activeTab) {\n        this.setState(() => ({ activeTab, ...CONTENT_META_PREVIEW_BASE_STATE }));\n    }\n\n    /**\n     * Closes CMP (Content Meta Preview)\n     *\n     * @method closeContentMetaPreview\n     */\n    closeContentMetaPreview() {\n        this.setState(() => ({ ...CONTENT_META_PREVIEW_BASE_STATE }));\n    }\n\n    /**\n     * Sets content types map state\n     *\n     * @method setContentTypesMap\n     * @param {Object} response\n     */\n    setContentTypesMap(response) {\n        if (!response || !response.ContentTypeInfoList) {\n            return;\n        }\n\n        const contentTypesMap = response.ContentTypeInfoList.ContentType.reduce((total, item) => {\n            total[item._href] = item;\n\n            return total;\n        }, {});\n\n        this.setState(() => ({ contentTypesMap }));\n    }\n\n    /**\n     * Renders content meta preview\n     *\n     * @method renderContentMetaPreview\n     * @returns {Element}\n     */\n    renderContentMetaPreview() {\n        if (!this.state.contentMeta) {\n            return null;\n        }\n\n        const { contentTypesMap, maxHeight, activeTab, contentMeta, isPreviewMetaReady } = this.state;\n        const { loadContentInfo, restInfo, languages } = this.props;\n        const isContentBookmarked = this.isBookmarked(contentMeta.id);\n\n        return (\n            <div className=\"m-ud__preview\">\n                <ContentMetaPreviewComponent\n                    data={contentMeta}\n                    isBookmarked={isContentBookmarked}\n                    canSelectContent={this.canSelectContent}\n                    toggleBookmark={this.toggleBookmark}\n                    loadContentInfo={loadContentInfo}\n                    restInfo={restInfo}\n                    contentTypesMap={contentTypesMap}\n                    languages={languages}\n                    maxHeight={maxHeight - 32}\n                    activeTab={activeTab}\n                    ready={isPreviewMetaReady}\n                />\n            </div>\n        );\n    }\n\n    /**\n     * Renders selected content list\n     *\n     * @method renderSelectedContent\n     * @returns {Element}\n     */\n    renderSelectedContent() {\n        const items = this.state.selectedContent;\n        const { selectedItemsLimit, multiple } = this.props;\n\n        if (this.state.activeTab === TAB_CREATE || !multiple) {\n            return null;\n        }\n\n        return (\n            <div className=\"m-ud__selected-content\">\n                <SelectedContentComponent\n                    items={items}\n                    itemsLimit={selectedItemsLimit}\n                    onItemRemove={this.onItemRemove}\n                    multiple={multiple}\n                    contentTypesMap={this.state.contentTypesMap}\n                />\n            </div>\n        );\n    }\n\n    /**\n     * Gets a specific tab config\n     *\n     * @method getTabConfig\n     * @param {String} id\n     * @param {String} iconIdentifier\n     * @returns {Object}\n     */\n    getTabConfig(id, iconIdentifier) {\n        return {\n            id,\n            iconIdentifier: iconIdentifier ? iconIdentifier : id,\n            title: this.tabsLabels[id],\n            onClick: this.togglePanel,\n            isSelected: this.state.activeTab === id,\n        };\n    }\n\n    /**\n     * Renders tabs\n     *\n     * @method renderTabs\n     * @returns {Element}\n     */\n    renderTabs() {\n        const { extraTabs, visibleTabs, onlyContentOnTheFly } = this.props;\n\n        const browseTabConfig = this.getTabConfig(TAB_BROWSE);\n        const searchTabConfig = this.getTabConfig(TAB_SEARCH);\n        const createTabConfig = this.getTabConfig(TAB_CREATE);\n        const bookmarksTabConfig = this.getTabConfig(TAB_BOOKMARKS, 'bookmark');\n\n        let tabsToRender = [browseTabConfig, searchTabConfig, createTabConfig, bookmarksTabConfig, ...extraTabs];\n\n        // @Deprecated - `onlyContentOnTheFly` will be removed in 2.0\n        if (visibleTabs.length === 1 || onlyContentOnTheFly) {\n            return null;\n        }\n\n        if (visibleTabs.length) {\n            tabsToRender = visibleTabs.map((tab) => {\n                return tabsToRender.find((config) => config.id === tab);\n            });\n        }\n\n        return <nav className=\"m-ud__nav\">{tabsToRender.map(this.renderSingleTab)}</nav>;\n    }\n\n    /**\n     * Renders a single tabs\n     *\n     * @method renderSingleTab\n     * @param {Object} tab\n     * @returns {Element}\n     */\n    renderSingleTab(tab) {\n        const attrs = { id: tab.id, title: tab.title, onClick: this.togglePanel, isSelected: this.state.activeTab === tab.id };\n\n        if (tab.iconIdentifier) {\n            attrs.iconIdentifier = tab.iconIdentifier;\n        }\n\n        return <TabNavItemComponent key={`panel-${tab.id}`} {...attrs} />;\n    }\n\n    /**\n     * Renders panels\n     *\n     * @method renderPanels\n     * @returns {Element}\n     */\n    renderPanels() {\n        const {\n            extraTabs,\n            visibleTabs,\n            sortFieldMappings,\n            sortOrderMappings,\n            languages,\n            contentTypes,\n            cotfPreselectedContentType,\n            cotfForcedLanguage,\n            cotfAllowedLanguages,\n            cotfPreselectedLanguage,\n            cotfAllowedContentTypes,\n            cotfPreselectedLocation,\n            cotfAllowedLocations,\n            onlyContentOnTheFly,\n        } = this.props;\n        const { userBookmarksItems, userBookmarksCount, contentTypesMap } = this.state;\n        const browsePanelConfig = { id: TAB_BROWSE, panel: FinderPanelComponent, attrs: { sortFieldMappings, sortOrderMappings } };\n        const searchPanelConfig = { id: TAB_SEARCH, panel: SearchPanelComponent };\n        const bookmarksPanelConfig = {\n            id: TAB_BOOKMARKS,\n            panel: BookmarksPanelComponent,\n            attrs: { userBookmarksItems, userBookmarksCount, requireBookmarksCount: this.requireBookmarksCount },\n        };\n        const createPanelConfig = {\n            id: TAB_CREATE,\n            panel: CreatePanelComponent,\n            attrs: {\n                languages,\n                contentTypes,\n                onLanguageSelected: this.onLanguageSelected,\n                onContentTypeSelected: this.onContentTypeSelected,\n                contentTypesMap: this.state.contentTypesMap,\n                forcedLanguage: cotfForcedLanguage,\n                preselectedLanguage: cotfPreselectedLanguage,\n                allowedLanguages: cotfAllowedLanguages,\n                preselectedContentType: cotfPreselectedContentType,\n                allowedContentTypes: cotfAllowedContentTypes,\n                preselectedLocation: cotfPreselectedLocation,\n                allowedLocations: cotfAllowedLocations,\n                sortFieldMappings,\n                sortOrderMappings,\n            },\n        };\n        let panelsToRender = [browsePanelConfig, searchPanelConfig, createPanelConfig, bookmarksPanelConfig, ...extraTabs];\n\n        if (!Object.keys(contentTypesMap).length) {\n            return null;\n        }\n\n        if (onlyContentOnTheFly) {\n            console.warn('[DEPRECATED] onlyContentOnTheFly parameter is deprecated');\n            console.warn('[DEPRECATED] it will be removed from ezplatform-admin-ui-modules 2.0');\n            console.warn('[DEPRECATED] use visibleTabs instead');\n\n            return <div className=\"m-ud__panels\">{this.renderSinglePanel(createPanelConfig)}</div>;\n        }\n\n        if (visibleTabs.length) {\n            panelsToRender = visibleTabs.map((tab) => panelsToRender.find((config) => config.id === tab));\n        }\n\n        return <div className=\"m-ud__panels\">{panelsToRender.map(this.renderSinglePanel)}</div>;\n    }\n\n    /**\n     * Renders a single panel\n     *\n     * @method renderSinglePanel\n     * @param {Object} item\n     * @returns {Element}\n     */\n    renderSinglePanel(item) {\n        const Panel = item.panel;\n        const {\n            startingLocationId,\n            findLocationsByParentLocationId,\n            findContentBySearchQuery,\n            multiple,\n            searchResultsPerPage,\n            searchResultsLimit,\n            bookmarksPerPage,\n            restInfo,\n            allowContainersOnly,\n        } = this.props;\n\n        const { activeTab, maxHeight, contentTypesMap, selectedContent } = this.state;\n        const isVisible = activeTab === item.id;\n\n        if (!isVisible) {\n            return null;\n        }\n\n        const attrs = {\n            isVisible,\n            onItemSelect: this.onItemSelect,\n            maxHeight: maxHeight - 32,\n            id: item.id,\n            allowContainersOnly,\n            startingLocationId,\n            findLocationsByParentLocationId,\n            findContentBySearchQuery,\n            contentTypesMap,\n            multiple,\n            searchResultsPerPage,\n            searchResultsLimit,\n            bookmarksPerPage,\n            restInfo,\n            selectedContent,\n            onSelectContent: this.updateSelectedContent,\n            canSelectContent: this.canSelectContent,\n            onItemRemove: this.onItemRemove,\n            ...item.attrs,\n        };\n\n        return <Panel key={`panel-${item.id}`} {...attrs} />;\n    }\n\n    /**\n     * Renders a confirm button\n     *\n     * @method renderConfirmBtn\n     * @returns {Element}\n     */\n    renderConfirmBtn() {\n        const { activeTab, selectedContent, canSelectContent, isPreviewMetaReady } = this.state;\n        const { multiple } = this.props;\n        const onClick = multiple ? this.handleConfirm : this.handleSingleConfirm;\n        const attrs = {\n            className: 'm-ud__action m-ud__action--confirm',\n            type: 'button',\n            onClick,\n        };\n\n        if (activeTab === TAB_CREATE) {\n            return null;\n        }\n\n        if ((multiple && !selectedContent.length) || (!multiple && (!isPreviewMetaReady || !canSelectContent))) {\n            attrs.disabled = true;\n            attrs.title = 'The Content Type is not allowed for selection';\n        }\n\n        const confirmBtnLabel = Translator.trans(/*@Desc(\"Confirm\")*/ 'confirm.label', {}, 'universal_discovery_widget');\n\n        return <button {...attrs}>{confirmBtnLabel}</button>;\n    }\n\n    /**\n     * Does a permission checking\n     *\n     * @method renderSinglePanel\n     * @param {Object} item\n     * @returns {Element}\n     */\n    checkPermission() {\n        checkCreatePermission(\n            {\n                token: this.props.restInfo.token,\n                contentTypeIdentifier: this.state.selectedContentType.identifier,\n                languageCode: this.state.selectedLanguage.languageCode,\n                locationId: this.state.contentMeta.id,\n            },\n            this.updatePermissionsState\n        );\n    }\n\n    /**\n     * Updates a permission state\n     *\n     * @method updatePermissionsState\n     * @param {Object} response\n     */\n    updatePermissionsState(response) {\n        if (this.state.hasPermission !== response.access) {\n            this.setState(() => ({ hasPermission: response.access }));\n        }\n    }\n\n    /**\n     * Renders a create content button\n     *\n     * @method renderCreateBtn\n     * @returns {Element}\n     */\n    renderCreateBtn() {\n        const isDataSelected = this.state.selectedLanguage && this.state.selectedContentType.identifier && this.state.contentMeta;\n        const attrs = {\n            type: 'button',\n            className: 'm-ud__action m-ud__action--create-content',\n            onClick: this.setCreateModeState,\n            disabled: !this.state.hasPermission || !isDataSelected || !this.state.isLocationAllowed,\n        };\n\n        if (this.state.activeTab !== TAB_CREATE) {\n            return null;\n        }\n\n        if (isDataSelected) {\n            this.checkPermission();\n        }\n\n        const createContentLabel = Translator.trans(\n            /*@Desc(\"Create content\")*/ 'content_on_the_fly.create_content.label',\n            {},\n            'universal_discovery_widget'\n        );\n\n        return <button {...attrs}>{createContentLabel}</button>;\n    }\n\n    /**\n     * Renders permission error\n     *\n     * @method renderPermissionError\n     * @returns {Element}\n     */\n    renderPermissionError() {\n        const isDataSelected = this.state.selectedLanguage && this.state.selectedContentType && this.state.contentMeta;\n\n        if (this.state.hasPermission || !isDataSelected) {\n            return null;\n        }\n\n        const noPermissionMessage = Translator.trans(\n            /*@Desc(\"Sorry, but you don't have permission for this action. Please contact your site Admin.\")*/ 'content_on_the_fly.no_permission.message',\n            {},\n            'universal_discovery_widget'\n        );\n\n        return <span className=\"m-ud__no-permission\">{noPermissionMessage}</span>;\n    }\n\n    /**\n     * Renders not allowed location error\n     *\n     * @method renderNotAllowedLocationError\n     * @returns {Element}\n     */\n    renderNotAllowedLocationError() {\n        const isDataSelected = this.state.selectedLanguage && this.state.selectedContentType && this.state.contentMeta;\n\n        if (this.state.isLocationAllowed || !isDataSelected || this.state.activeTab !== TAB_CREATE) {\n            return null;\n        }\n\n        const locationNotAllowedMessage = Translator.trans(\n            /*@Desc(\"Sorry, but this location is not selectable.\")*/ 'content_on_the_fly.location_not_allowed.message',\n            {},\n            'universal_discovery_widget'\n        );\n\n        return <span className=\"m-ud__location-not-allowed\">{locationNotAllowedMessage}</span>;\n    }\n\n    setMainContainerRef(ref) {\n        this._refMainContainer = ref;\n    }\n\n    setContentContainerRef(ref) {\n        this._refContentContainer = ref;\n    }\n\n    render() {\n        const componentClassName = 'm-ud';\n        const metaPreviewClassName = !!this.state.contentMeta ? `${componentClassName}--with-preview` : '';\n        const selectedContentClassName = this.state.selectedContent.length ? `${componentClassName}--with-selected-content` : '';\n        const containerClassName = `${componentClassName} ${selectedContentClassName} ${metaPreviewClassName}`;\n        const isDataSelected = this.state.selectedLanguage && this.state.selectedContentType.identifier && this.state.contentMeta;\n\n        if (this.state.isCreateMode && this.state.activeTab === TAB_CREATE && isDataSelected && this.state.hasPermission) {\n            return (\n                <ContentCreatorComponent\n                    maxHeight={this.state.maxHeight}\n                    selectedLanguage={this.state.selectedLanguage}\n                    selectedContentType={this.state.selectedContentType}\n                    selectedLocationId={this.state.contentMeta.id}\n                    onCancel={this.props.onCancel}\n                    handlePublish={this.handlePublish}\n                    restInfo={this.props.restInfo}\n                    setMainContainerRef={this.setMainContainerRef}\n                />\n            );\n        }\n\n        const cancelBtnLabel = Translator.trans(/*@Desc(\"Cancel\")*/ 'cancel.label', {}, 'universal_discovery_widget');\n\n        return (\n            <div className=\"m-ud__wrapper\">\n                <div className={containerClassName} ref={this.setMainContainerRef}>\n                    <h1 className=\"m-ud__title\">{this.props.title}</h1>\n                    <div className=\"m-ud__content-wrapper\">\n                        {this.renderTabs()}\n                        <div className=\"m-ud__content\" ref={this.setContentContainerRef}>\n                            {this.renderPanels()}\n                            {this.renderContentMetaPreview()}\n                        </div>\n                        <div className=\"m-ud__actions\">\n                            {this.renderSelectedContent()}\n                            <div className=\"m-ud__btns\">\n                                {this.renderPermissionError()}\n                                {this.renderNotAllowedLocationError()}\n                                <button type=\"button\" className=\"m-ud__action m-ud__action--cancel\" onClick={this.props.onCancel}>\n                                    {cancelBtnLabel}\n                                </button>\n                                {this.renderConfirmBtn()}\n                                {this.renderCreateBtn()}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\neZ.addConfig('modules.UniversalDiscovery', UniversalDiscoveryModule);\n\nUniversalDiscoveryModule.propTypes = {\n    onConfirm: PropTypes.func.isRequired,\n    onCancel: PropTypes.func.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    title: PropTypes.string,\n    multiple: PropTypes.bool,\n    activeTab: PropTypes.string,\n    loadContentInfo: PropTypes.func,\n    loadContentTypes: PropTypes.func,\n    canSelectContent: PropTypes.func,\n    selectedItemsLimit: PropTypes.number,\n    startingLocationId: PropTypes.number,\n    findContentBySearchQuery: PropTypes.func,\n    findLocationsByParentLocationId: PropTypes.func,\n    extraTabs: PropTypes.arrayOf(\n        PropTypes.shape({\n            id: PropTypes.string.isRequired,\n            title: PropTypes.string.isRequired,\n            panel: PropTypes.func.isRequired,\n            attrs: PropTypes.object,\n        })\n    ),\n    maxHeight: PropTypes.number,\n    searchResultsPerPage: PropTypes.number,\n    searchResultsLimit: PropTypes.number,\n    bookmarksPerPage: PropTypes.number,\n    languages: PropTypes.object,\n    contentTypes: PropTypes.object,\n    allowContainersOnly: PropTypes.bool.isRequired,\n\n    // @Deprecated - to be removed in 2.0\n    onlyContentOnTheFly: PropTypes.bool,\n    // @Deprecated - to be removed in 2.0\n    cotfForcedLanguage: PropTypes.string,\n\n    allowedContentTypes: PropTypes.array,\n    cotfPreselectedLanguage: PropTypes.string,\n    cotfAllowedLanguages: PropTypes.array,\n    cotfPreselectedContentType: PropTypes.string,\n    cotfAllowedContentTypes: PropTypes.array,\n    cotfPreselectedLocation: PropTypes.number,\n    cotfAllowedLocations: PropTypes.array,\n    visibleTabs: PropTypes.array,\n    sortFieldMappings: PropTypes.object.isRequired,\n    sortOrderMappings: PropTypes.object.isRequired,\n};\n\nUniversalDiscoveryModule.defaultProps = {\n    title: 'Find content',\n    multiple: true,\n    selectedItemsLimit: 0,\n    activeTab: TAB_BROWSE,\n    loadContentInfo,\n    loadContentTypes,\n    findContentBySearchQuery,\n    findLocationsByParentLocationId,\n    canSelectContent: (item, callback) => callback(true),\n    extraTabs: window.eZ.adminUiConfig.universalDiscoveryWidget.extraTabs || [],\n    startingLocationId: 1,\n    maxHeight: 500,\n    searchResultsPerPage: 10,\n    searchResultsLimit: 50,\n    bookmarksPerPage: 10,\n    languages: window.eZ.adminUiConfig.languages,\n    contentTypes: window.eZ.adminUiConfig.contentTypes,\n    allowContainersOnly: false,\n    onlyContentOnTheFly: false,\n    allowedContentTypes: [],\n    cotfForcedLanguage: '',\n    cotfPreselectedLanguage: '',\n    cotfAllowedLanguages: [],\n    cotfPreselectedContentType: '',\n    cotfAllowedContentTypes: [],\n    cotfPreselectedLocation: null,\n    cotfAllowedLocations: [],\n    visibleTabs: [],\n    sortFieldMappings: window.eZ.adminUiConfig.sortFieldMappings,\n    sortOrderMappings: window.eZ.adminUiConfig.sortOrderMappings,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/universal.discovery.module.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst TabNavItemComponent = (props) => {\n    const attrs = {\n        type: 'button',\n        className: `c-tab-nav-item ${props.isSelected ? 'c-tab-nav-item--selected' : ''}`,\n        onClick: () => props.onClick(props.id),\n    };\n\n    return (\n        <div className=\"c-tab-nav-item__wrapper\">\n            <button {...attrs}>\n                <Icon name={props.iconIdentifier} extraClasses=\"c-tab-nav-item__icon ez-icon--small\" />\n                {props.title}\n            </button>\n        </div>\n    );\n};\n\nTabNavItemComponent.propTypes = {\n    id: PropTypes.string.isRequired,\n    title: PropTypes.string.isRequired,\n    isSelected: PropTypes.bool.isRequired,\n    onClick: PropTypes.func.isRequired,\n    iconIdentifier: PropTypes.string.isRequired,\n};\n\nexport default TabNavItemComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/tab-nav/tab.nav.item.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TabContentPanelComponent from './tab.content.panel.component';\nimport FinderComponent from '../finder/finder.component';\n\nconst FinderPanelComponent = (props) => {\n    const wrapperAttrs = { className: 'c-finder-panel' };\n\n    if (!props.isVisible) {\n        wrapperAttrs.hidden = true;\n    }\n\n    return (\n        <div {...wrapperAttrs}>\n            <TabContentPanelComponent {...props}>\n                <FinderComponent {...props} />\n            </TabContentPanelComponent>\n        </div>\n    );\n};\n\nFinderPanelComponent.propTypes = {\n    isVisible: PropTypes.bool.isRequired,\n    multiple: PropTypes.bool.isRequired,\n    startingLocationId: PropTypes.number.isRequired,\n    findLocationsByParentLocationId: PropTypes.func.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    allowContainersOnly: PropTypes.bool.isRequired,\n    sortFieldMappings: PropTypes.object.isRequired,\n    sortOrderMappings: PropTypes.object.isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n};\n\nexport default FinderPanelComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/tab-content/finder.panel.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport FinderTreeLeafComponent from './finder.tree.leaf.component';\n\nexport default class FinderTreeBranchComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.expandBranch = this.expandBranch.bind(this);\n        this.onLoadMore = this.onLoadMore.bind(this);\n        this.renderLeaf = this.renderLeaf.bind(this);\n    }\n\n    expandBranch() {\n        this.props.onBranchClick(this.props.parentLocation);\n    }\n\n    /**\n     * Renders leaf (the single content item)\n     *\n     * @method renderLeaf\n     * @param {Object} data location response\n     * @returns {JSX.Element}\n     * @memberof FinderTreeBranchComponent\n     */\n    renderLeaf(data) {\n        const { activeLocationId, isActiveLocationLoading, onItemClick } = this.props;\n        const location = data.value.Location;\n        const contentTypesMap = this.props.contentTypesMap;\n        const contentTypeHref = location.ContentInfo.Content.ContentType._href;\n        const isContainer = contentTypesMap && contentTypesMap[contentTypeHref] && contentTypesMap[contentTypeHref].isContainer;\n        const isSelectable = !(this.props.allowContainersOnly && !isContainer);\n        const active = location.id === activeLocationId;\n        const isLoadingChildren = active && isActiveLocationLoading;\n\n        return (\n            <FinderTreeLeafComponent\n                key={location.remoteId}\n                location={location}\n                onClick={onItemClick}\n                selected={active}\n                isLoadingChildren={isLoadingChildren}\n                isSelectable={isSelectable}\n                allowedLocations={this.props.allowedLocations}\n                multiple={this.props.multiple}\n                selectedContent={this.props.selectedContent}\n                onSelectContent={this.props.onSelectContent}\n                canSelectContent={this.props.canSelectContent}\n                onItemRemove={this.props.onItemRemove}\n                contentTypesMap={this.props.contentTypesMap}\n            />\n        );\n    }\n\n    onLoadMore() {\n        this.props.onLoadMore(this.props.parentLocation);\n    }\n\n    /**\n     * Render load more button\n     *\n     * @method renderLoadMore\n     * @returns {JSX.Element}\n     * @memberof FinderTreeBranchComponent\n     */\n    renderLoadMore() {\n        const { items, total } = this.props;\n\n        if (!items.length || items.length === total) {\n            return null;\n        }\n\n        const loadMoreLabel = Translator.trans(/*@Desc(\"Load more\")*/ 'finder.branch.load_more.label', {}, 'universal_discovery_widget');\n\n        return (\n            <button type=\"button\" className=\"c-finder-tree-branch__load-more\" onClick={this.onLoadMore}>\n                {loadMoreLabel}\n            </button>\n        );\n    }\n\n    render() {\n        const items = this.props.items;\n        const attrs = {\n            className: 'c-finder-tree-branch',\n        };\n\n        if (!items.length) {\n            attrs.className = `${attrs.className} c-finder-tree-branch--collapsed`;\n            attrs.onClick = this.expandBranch;\n        }\n\n        return (\n            <div {...attrs}>\n                <div className=\"c-finder-tree-branch__list-wrapper\">\n                    {this.props.items.map(this.renderLeaf)}\n                    {this.renderLoadMore()}\n                </div>\n            </div>\n        );\n    }\n}\n\nFinderTreeBranchComponent.propTypes = {\n    items: PropTypes.array.isRequired,\n    total: PropTypes.number.isRequired,\n    parentLocation: PropTypes.object,\n    onItemClick: PropTypes.func.isRequired,\n    onBranchClick: PropTypes.func.isRequired,\n    onLoadMore: PropTypes.func.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    allowContainersOnly: PropTypes.bool,\n    contentTypesMap: PropTypes.object,\n    allowedLocations: PropTypes.array.isRequired,\n    multiple: PropTypes.bool.isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    activeLocationId: PropTypes.string,\n    isActiveLocationLoading: PropTypes.bool,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/finder/finder.tree.branch.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SelectContentButtonComponent from '../select-content-button/select.content.button.component';\nimport Icon from '../../../common/icon/icon';\n\nexport default class FinderTreeLeafComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.handleClick = this.handleClick.bind(this);\n    }\n\n    /**\n     * Handles clicks on a leaf\n     *\n     * @method handleClick\n     * @memberof FinderTreeLeafComponent\n     */\n    handleClick(event) {\n        const { location, isSelectable, onClick } = this.props;\n\n        if (!isSelectable || event.target.closest('.c-finder-tree-leaf__btn--toggle-selection')) {\n            return;\n        }\n\n        onClick(location);\n    }\n\n    getContentTypeIdentifier() {\n        const { contentTypesMap, location } = this.props;\n        const contentTypeHref = location.ContentInfo.Content.ContentType._href;\n        const contentType = contentTypesMap ? contentTypesMap[contentTypeHref] : null;\n        const contentTypeIdentifier = contentType ? contentType.identifier : null;\n\n        return contentTypeIdentifier;\n    }\n\n    /**\n     * Renders an icon of a content type\n     *\n     * @method renderIcon\n     * @returns {JSX.Element|null}\n     */\n    renderIcon() {\n        const contentTypeIdentifier = this.getContentTypeIdentifier();\n\n        if (!contentTypeIdentifier) {\n            return null;\n        }\n\n        const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n        let extraClasses = 'ez-icon--small';\n\n        if (this.props.selected) {\n            extraClasses = `${extraClasses} ez-icon--light`;\n        }\n\n        return (\n            <div className=\"c-finder-tree-leaf__icon\">\n                <Icon customPath={contentTypeIconUrl} extraClasses={extraClasses} />\n            </div>\n        );\n    }\n\n    /**\n     * Renders a loading state icon\n     *\n     * @method renderLoadingIcon\n     * @returns {JSX.Element|null}\n     * @memberof FinderTreeLeafComponent\n     */\n    renderLoadingIcon() {\n        if (!this.props.selected || !this.props.isLoadingChildren) {\n            return null;\n        }\n\n        return <Icon name=\"spinner\" extraClasses=\"ez-spin ez-icon-x2 ez-icon--small ez-icon--light c-finder-tree-leaf__loading-icon\" />;\n    }\n\n    renderSelectContentBtn() {\n        const {\n            isSelectable,\n            multiple,\n            selectedContent,\n            location,\n            onSelectContent,\n            onItemRemove,\n            canSelectContent,\n            isLoadingChildren,\n        } = this.props;\n\n        if (!isSelectable || isLoadingChildren || !multiple) {\n            return null;\n        }\n\n        return (\n            <SelectContentButtonComponent\n                multiple={multiple}\n                isSelected={!!selectedContent.find((content) => content.id === location.id)}\n                location={location}\n                onSelectContent={onSelectContent}\n                onItemRemove={onItemRemove}\n                canSelectContent={canSelectContent}\n            />\n        );\n    }\n\n    render() {\n        const { location, selected, isSelectable, isLoadingChildren, allowedLocations } = this.props;\n        const isForcedLocation = allowedLocations.length === 1;\n        const componentClassName = 'c-finder-tree-leaf';\n        const isSelectedClassName = selected ? `${componentClassName}--selected` : '';\n        const isNotSelectableClassName = !isSelectable || isForcedLocation ? `${componentClassName}--not-selectable` : '';\n        const hasChildrenClassName = location.childCount ? `${componentClassName}--has-children` : '';\n        const isLoadingChildrenClassName = isLoadingChildren ? `${componentClassName}--loading` : '';\n        const attrs = {\n            className: [\n                componentClassName,\n                isSelectedClassName,\n                hasChildrenClassName,\n                isLoadingChildrenClassName,\n                isNotSelectableClassName,\n            ].join(' '),\n        };\n\n        if (!isForcedLocation) {\n            attrs.onClick = this.handleClick;\n        }\n\n        return (\n            <div {...attrs}>\n                {this.renderIcon()}\n                <span className=\"c-finder-tree-leaf__content-name\">{location.ContentInfo.Content.Name}</span>\n                {this.renderLoadingIcon()}\n                {this.renderSelectContentBtn()}\n            </div>\n        );\n    }\n}\n\nFinderTreeLeafComponent.propTypes = {\n    location: PropTypes.object.isRequired,\n    onClick: PropTypes.func.isRequired,\n    selected: PropTypes.bool.isRequired,\n    isLoadingChildren: PropTypes.bool.isRequired,\n    isSelectable: PropTypes.bool.isRequired,\n    allowedLocations: PropTypes.array.isRequired,\n    multiple: PropTypes.bool.isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/finder/finder.tree.leaf.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TabContentPanelComponent from './tab.content.panel.component';\nimport SearchComponent from '../search/search.component';\n\nconst SearchPanelComponent = (props) => {\n    const wrapperAttrs = { className: 'c-search-panel' };\n    const {\n        multiple,\n        findContentBySearchQuery,\n        onItemSelect,\n        maxHeight,\n        contentTypesMap,\n        searchResultsPerPage,\n        searchResultsLimit,\n        restInfo,\n        selectedContent,\n        onSelectContent,\n        canSelectContent,\n        onItemRemove,\n    } = props;\n    const searchAttrs = Object.assign(\n        {},\n        {\n            multiple,\n            findContentBySearchQuery,\n            onItemSelect,\n            maxHeight,\n            contentTypesMap,\n            searchResultsPerPage,\n            searchResultsLimit,\n            restInfo,\n            selectedContent,\n            onSelectContent,\n            canSelectContent,\n            onItemRemove,\n        }\n    );\n\n    if (!props.isVisible) {\n        wrapperAttrs.hidden = true;\n    }\n\n    return (\n        <div {...wrapperAttrs}>\n            <TabContentPanelComponent {...props}>\n                <SearchComponent {...searchAttrs} />\n            </TabContentPanelComponent>\n        </div>\n    );\n};\n\nSearchPanelComponent.propTypes = {\n    isVisible: PropTypes.bool.isRequired,\n    multiple: PropTypes.bool.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    findContentBySearchQuery: PropTypes.func.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    searchResultsPerPage: PropTypes.number.isRequired,\n    searchResultsLimit: PropTypes.number.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n};\n\nexport default SearchPanelComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/tab-content/search.panel.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\nimport ContentTableComponent from '../content-table/content.table.component';\n\nexport default class SearchComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            items: null,\n            lastSearchText: null,\n            isSearching: false,\n            submitDisabled: true,\n        };\n\n        this.updateItemsState = this.updateItemsState.bind(this);\n        this.searchContent = this.searchContent.bind(this);\n        this.onRequireItemsCount = this.onRequireItemsCount.bind(this);\n        this.toggleSubmitButtonState = this.toggleSubmitButtonState.bind(this);\n        this.setSearchInputRef = this.setSearchInputRef.bind(this);\n    }\n\n    /**\n     * Searches content by a query\n     *\n     * @method searchContent\n     * @param {Event} event\n     * @memberof SearchComponent\n     */\n    searchContent(event) {\n        const isClickEvent = event.nativeEvent.type === 'click';\n        const isEnterKeyEvent = event.nativeEvent.type === 'keyup' && event.nativeEvent.keyCode === 13;\n\n        if (this.state.submitDisabled || (!isClickEvent && !isEnterKeyEvent)) {\n            return;\n        }\n\n        const searchText = this._refSearchInput.value;\n\n        this.setState(\n            () => ({ isSearching: true, lastSearchText: searchText }),\n            () => {\n                const promise = new Promise((resolve) =>\n                    this.props.findContentBySearchQuery(this.props.restInfo, searchText, resolve, this.props.searchResultsLimit)\n                );\n\n                promise\n                    .then(this.updateItemsState)\n                    .catch(() => window.eZ.helpers.notification.showErrorNotification('Cannot find content'));\n            }\n        );\n    }\n\n    /**\n     * Updates items state with search results\n     *\n     * @param {Object} response content query REST endpoint response\n     * @memberof SearchComponent\n     */\n    updateItemsState(response) {\n        this.setState(() => ({\n            items: response.View.Result.searchHits.searchHit.map((item) => item.value),\n            isSearching: false,\n        }));\n    }\n\n    /**\n     * Checks whether a requested amount items fits the actual number of items.\n     *\n     * @method onRequireItemsCount\n     * @param {Number} count\n     */\n    onRequireItemsCount(count) {\n        const { items } = this.state;\n\n        if (count > items.length) {\n            throw new Error('All items loaded.');\n        }\n    }\n\n    /**\n     * Renders the submit button\n     *\n     * @method renderSubmitBtn\n     */\n    renderSubmitBtn() {\n        const btnAttrs = { className: 'c-search__submit', type: 'button' };\n        let svgExtraClasses = 'ez-icon--small ez-icon--light';\n        const btnLabel = Translator.trans(/*@Desc(\"Search\")*/ 'search.submit.label', {}, 'universal_discovery_widget');\n        let iconIdentifier = 'search';\n\n        if (this.state.isSearching) {\n            btnAttrs.className = `${btnAttrs.className} c-search__submit--loading`;\n            btnAttrs.disabled = true;\n            svgExtraClasses = `${svgExtraClasses} ez-spin ez-icon-x2 ez-icon-spinner`;\n            iconIdentifier = 'spinner';\n        } else if (this.state.submitDisabled) {\n            btnAttrs.disabled = true;\n        } else {\n            btnAttrs.onClick = this.searchContent;\n        }\n\n        return (\n            <button {...btnAttrs}>\n                <Icon name={iconIdentifier} extraClasses={svgExtraClasses} />\n                {!this.state.isSearching && btnLabel}\n            </button>\n        );\n    }\n\n    /**\n     * Toggles the submit button state.\n     * Disables it when the search query is empty.\n     *\n     * @method toggleSubmitButtonState\n     */\n    toggleSubmitButtonState() {\n        this.setState(() => ({ submitDisabled: !this._refSearchInput.value.trim().length }));\n    }\n\n    /**\n     * Set a reference to the search input HTMLElement node\n     *\n     * @method setSearchInputRef\n     * @param {HTMLElement} ref\n     */\n    setSearchInputRef(ref) {\n        this._refSearchInput = ref;\n    }\n\n    renderSearchTips() {\n        const { items } = this.state;\n\n        if (items === null || items.length) {\n            return null;\n        }\n\n        const searchTipsTitle = Translator.trans(/*@Desc(\"Some helpful search tips:\")*/ 'search.tips.headline', {}, 'search');\n        const searchTipCheckSpelling = Translator.trans(\n            /*@Desc(\"Check spelling of keywords.\")*/ 'search.tips.check_spelling',\n            {},\n            'search'\n        );\n        const searchTipDifferentKeywords = Translator.trans(\n            /*@Desc(\"Try different keywords.\")*/ 'search.tips.different_keywords',\n            {},\n            'search'\n        );\n        const searchTipMoreGeneralKeywords = Translator.trans(\n            /*@Desc(\"Try more general keywords.\")*/ 'search.tips.more_general_keywords',\n            {},\n            'search'\n        );\n        const searchTipFewerKeywords = Translator.trans(\n            /*@Desc(\"Try fewer keywords. Reducing keywords result in more matches.\")*/ 'search.tips.fewer_keywords',\n            {},\n            'search'\n        );\n\n        return (\n            <div className=\"c-search__search-tips\">\n                <h6>{searchTipsTitle}</h6>\n                <ul>\n                    <li>{searchTipCheckSpelling}</li>\n                    <li>{searchTipDifferentKeywords}</li>\n                    <li>{searchTipMoreGeneralKeywords}</li>\n                    <li>{searchTipFewerKeywords}</li>\n                </ul>\n            </div>\n        );\n    }\n\n    renderResultsTable() {\n        if (this.state.items === null) {\n            return null;\n        }\n\n        const { items, lastSearchText } = this.state;\n        const {\n            onItemSelect,\n            searchResultsPerPage,\n            contentTypesMap,\n            selectedContent,\n            onSelectContent,\n            canSelectContent,\n            onItemRemove,\n            multiple,\n        } = this.props;\n        const tableTitle = Translator.trans(/*@Desc(\"Search results\")*/ 'search.content_table.title', {}, 'universal_discovery_widget');\n        const noItemsMessage = Translator.trans(\n            /*@Desc(\"Sorry, no results were found for \"\"%query%\"\".\")*/ 'search.no_result',\n            { query: lastSearchText },\n            'search'\n        );\n\n        return (\n            <ContentTableComponent\n                items={items}\n                count={items.length}\n                requireItemsCount={this.onRequireItemsCount}\n                onItemSelect={onItemSelect}\n                perPage={searchResultsPerPage}\n                contentTypesMap={contentTypesMap}\n                title={tableTitle}\n                selectedContent={selectedContent}\n                onSelectContent={onSelectContent}\n                canSelectContent={canSelectContent}\n                onItemRemove={onItemRemove}\n                multiple={multiple}\n                noItemsMessage={noItemsMessage}\n            />\n        );\n    }\n\n    render() {\n        const { maxHeight } = this.props;\n        const title = Translator.trans(/*@Desc(\"Search\")*/ 'search.title', {}, 'universal_discovery_widget');\n\n        return (\n            <div className=\"c-search\" style={{ maxHeight: `${maxHeight - 32}px` }}>\n                <div className=\"c-search__title\">{title}:</div>\n                <div className=\"c-search__form\">\n                    <input\n                        className=\"c-search__input\"\n                        type=\"text\"\n                        ref={this.setSearchInputRef}\n                        onKeyUp={this.searchContent}\n                        onChange={this.toggleSubmitButtonState}\n                    />\n                    {this.renderSubmitBtn()}\n                </div>\n                {this.renderResultsTable()}\n                {this.renderSearchTips()}\n            </div>\n        );\n    }\n}\n\nSearchComponent.propTypes = {\n    findContentBySearchQuery: PropTypes.func.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    searchResultsPerPage: PropTypes.number.isRequired,\n    searchResultsLimit: PropTypes.number.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    multiple: PropTypes.bool.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/search/search.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst ContentTablePaginationComponent = (props) => {\n    const { minIndex, activeIndex, maxIndex, onChange } = props;\n    const btnFirstLabel = Translator.trans(/*@Desc(\"First\")*/ 'pagination.first', {}, 'universal_discovery_widget');\n    const btnPrevLabel = Translator.trans(/*@Desc(\"Previous\")*/ 'pagination.prev', {}, 'universal_discovery_widget');\n    const btnNextLabel = Translator.trans(/*@Desc(\"Next\")*/ 'pagination.next', {}, 'universal_discovery_widget');\n    const btnLastLabel = Translator.trans(/*@Desc(\"Last\")*/ 'pagination.last', {}, 'universal_discovery_widget');\n    const btnClass = 'c-content-table-pagination__btn';\n    const firstAttrs = {\n        type: 'button',\n        onClick: () => onChange(minIndex),\n        className: `${btnClass} ${btnClass}--first`,\n    };\n    const prevAttrs = {\n        type: 'button',\n        onClick: () => onChange(activeIndex - 1),\n        className: `${btnClass} ${btnClass}--prev ${btnClass}--middle`,\n    };\n    const nextAttrs = {\n        type: 'button',\n        onClick: () => onChange(activeIndex + 1),\n        className: `${btnClass} ${btnClass}--next ${btnClass}--middle`,\n    };\n    const lastAttrs = {\n        type: 'button',\n        onClick: () => onChange(maxIndex),\n        className: `${btnClass} ${btnClass}--last`,\n    };\n\n    if (activeIndex === minIndex) {\n        firstAttrs.disabled = true;\n        prevAttrs.disabled = true;\n    }\n\n    if (activeIndex === maxIndex) {\n        nextAttrs.disabled = true;\n        lastAttrs.disabled = true;\n    }\n\n    return (\n        <div className=\"c-content-table-pagination\">\n            <button {...firstAttrs}>&laquo; {btnFirstLabel}</button>\n            <button {...prevAttrs}>&lsaquo; {btnPrevLabel}</button>\n            <button {...nextAttrs}>{btnNextLabel} &rsaquo;</button>\n            <button {...lastAttrs}>{btnLastLabel} &raquo;</button>\n        </div>\n    );\n};\n\nContentTablePaginationComponent.propTypes = {\n    minIndex: PropTypes.number.isRequired,\n    maxIndex: PropTypes.number.isRequired,\n    activeIndex: PropTypes.number.isRequired,\n    onChange: PropTypes.func.isRequired,\n};\n\nexport default ContentTablePaginationComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/content-table/content.table.pagination.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport SelectContentButtonComponent from '../select-content-button/select.content.button.component';\nimport Icon from '../../../common/icon/icon';\n\nconst ContentTableItemComponent = (props) => {\n    const { onPreview, data, contentTypesMap, multiple, selectedContent, onSelectContent, onItemRemove, canSelectContent } = props;\n    const notAvailableLabel = Translator.trans(/*@Desc(\"N/A\")*/ 'content_table.not_available.label', {}, 'universal_discovery_widget');\n    const item = data.ContentInfo.Content;\n    const contentType = contentTypesMap ? contentTypesMap[item.ContentType._href] : null;\n    const contentTypeIdentifier = contentType ? contentType.identifier : null;\n    const contentTypeName = contentTypeIdentifier ? window.eZ.adminUiConfig.contentTypeNames[contentTypeIdentifier] : notAvailableLabel;\n    const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n\n    return (\n        <div className=\"c-content-table-item\" onClick={onPreview} tabIndex=\"-1\">\n            <div className=\"c-content-table-item__icon\">\n                <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--medium\" />\n            </div>\n            <div className=\"c-content-table-item__name\" title={item.Name}>\n                {item.Name}\n            </div>\n            <div className=\"c-content-table-item__type\" title={contentTypeName}>\n                {contentTypeName}\n            </div>\n            <div className=\"c-content-table-item__actions\">\n                <SelectContentButtonComponent\n                    multiple={multiple}\n                    isSelected={!!selectedContent.find((content) => content.id === data.id)}\n                    location={data}\n                    onSelectContent={onSelectContent}\n                    onItemRemove={onItemRemove}\n                    canSelectContent={canSelectContent}\n                />\n            </div>\n        </div>\n    );\n};\n\nContentTableItemComponent.propTypes = {\n    data: PropTypes.object.isRequired,\n    onPreview: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    onItemClick: PropTypes.func,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    multiple: PropTypes.bool.isRequired,\n};\n\nexport default ContentTableItemComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/content-table/content.table.item.component.js","import React from 'react';\n\nconst ContentTableHeaderComponent = () => {\n    const nameLabel = Translator.trans(/*@Desc(\"Name\")*/ 'content_table.header.name', {}, 'universal_discovery_widget');\n    const typeLabel = Translator.trans(/*@Desc(\"Content Type\")*/ 'content_table.header.type', {}, 'universal_discovery_widget');\n\n    return (\n        <div className=\"c-content-table-header__list-headers\">\n            <div className=\"c-content-table-header__list-header c-content-table-header__list-header--icon\" />\n            <div className=\"c-content-table-header__list-header c-content-table-header__list-header--name\">{nameLabel}</div>\n            <div className=\"c-content-table-header__list-header c-content-table-header__list-header--type\">{typeLabel}</div>\n            <div className=\"c-content-table-header__list-header c-content-table-header__list-header--span\" />\n        </div>\n    );\n};\n\nexport default ContentTableHeaderComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/content-table/content.table.header.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport TabContentPanelComponent from './tab.content.panel.component';\nimport FinderComponent from '../finder/finder.component';\nimport CreateComponent from '../create/create.component';\n\nconst CreatePanelComponent = (props) => {\n    const wrapperAttrs = { className: 'c-create-panel' };\n    const maxHeight = props.maxHeight - 24;\n    const componentProps = { ...props, maxHeight, allowContainersOnly: true };\n    const finderProps = { ...componentProps, multiple: false };\n    const chooseLanguageAndContentTypeTitle = Translator.trans(\n        /*@Desc(\"Choose Language and Content Type\")*/ 'content_on_the_fly.choose_language_and_content_type.title',\n        {},\n        'universal_discovery_widget'\n    );\n    const selectLocationTitle = Translator.trans(\n        /*@Desc(\"Select Location\")*/ 'content_on_the_fly.select_location.title',\n        {},\n        'universal_discovery_widget'\n    );\n\n    if (!props.isVisible) {\n        wrapperAttrs.hidden = true;\n    }\n\n    return (\n        <div {...wrapperAttrs}>\n            <TabContentPanelComponent {...props}>\n                <div className=\"c-create-panel__first-step\">\n                    <div className=\"c-create-panel__step-title\">1) {chooseLanguageAndContentTypeTitle}</div>\n                    <CreateComponent {...componentProps} />\n                </div>\n                <div className=\"c-create-panel__second-step\">\n                    <div className=\"c-create-panel__step-title\">2) {selectLocationTitle}</div>\n                    <FinderComponent {...finderProps} />\n                </div>\n            </TabContentPanelComponent>\n        </div>\n    );\n};\n\nCreatePanelComponent.propTypes = {\n    isVisible: PropTypes.bool.isRequired,\n    multiple: PropTypes.bool.isRequired,\n    startingLocationId: PropTypes.number.isRequired,\n    findLocationsByParentLocationId: PropTypes.func.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    languages: PropTypes.object.isRequired,\n    contentTypes: PropTypes.object.isRequired,\n    onLanguageSelected: PropTypes.func.isRequired,\n    onContentTypeSelected: PropTypes.func.isRequired,\n    forcedLanguage: PropTypes.string.isRequired,\n    preselectedLocation: PropTypes.number,\n    allowedLocations: PropTypes.array.isRequired,\n    allowedLanguages: PropTypes.array.isRequired,\n    sortFieldMappings: PropTypes.object.isRequired,\n    sortOrderMappings: PropTypes.object.isRequired,\n};\n\nexport default CreatePanelComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/tab-content/create.panel.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ChooseLanguageComponent from './choose.language.component';\nimport ChooseContentTypeComponent from './choose.content.type.component';\n\nconst CreateComponent = (props) => {\n    return (\n        <div className=\"c-create\" style={{ maxHeight: `${props.maxHeight}px` }}>\n            <ChooseLanguageComponent {...props} />\n            <ChooseContentTypeComponent {...props} />\n        </div>\n    );\n};\n\nCreateComponent.propTypes = {\n    maxHeight: PropTypes.number.isRequired,\n    languages: PropTypes.object.isRequired,\n    contentTypes: PropTypes.object.isRequired,\n    onLanguageSelected: PropTypes.func.isRequired,\n    onContentTypeSelected: PropTypes.func.isRequired,\n    forcedLanguage: PropTypes.string.isRequired,\n    allowedLanguages: PropTypes.array.isRequired,\n    preselectedContentType: PropTypes.string,\n    allowedContentTypes: PropTypes.array.isRequired,\n    preselectedLanguage: PropTypes.string,\n};\n\nexport default CreateComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/create/create.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nexport default class ChooseLanguageComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.updateSelection = this.updateSelection.bind(this);\n        this.renderOption = this.renderOption.bind(this);\n\n        let selectedLanguageCode = props.allowedLanguages.length ? props.allowedLanguages[0] : props.languages.priority[0];\n\n        if (props.preselectedLanguage) {\n            selectedLanguageCode = props.preselectedLanguage;\n        }\n\n        if (props.forcedLanguage) {\n            console.warn('[DEPRECATED] cotfForcedLanguage parameter is deprecated');\n            console.warn('[DEPRECATED] it will be removed from ezplatform-admin-ui-modules 2.0');\n            console.warn('[DEPRECATED] use cotfAllowedLanguages instead');\n\n            selectedLanguageCode = props.forcedLanguage;\n        }\n\n        if (props.allowedLanguages.length === 1) {\n            selectedLanguageCode = props.allowedLanguages[0];\n        }\n\n        this.state = {\n            selectedLanguage: props.languages.mappings[selectedLanguageCode],\n        };\n    }\n\n    componentDidMount() {\n        this.props.onLanguageSelected(this.state.selectedLanguage);\n    }\n\n    updateSelection(event) {\n        const languageCode = event.target.value;\n        const selectedLanguage = this.props.languages.mappings[languageCode];\n\n        this.props.onLanguageSelected(selectedLanguage);\n\n        this.setState((state) => Object.assign({}, state, { selectedLanguage }));\n    }\n\n    renderOption(languageCode, index) {\n        const language = this.props.languages.mappings[languageCode];\n        const attrs = {\n            key: index,\n            value: language.languageCode,\n        };\n\n        if (this.state.selectedLanguage.languageCode === languageCode) {\n            attrs.selected = true;\n        }\n\n        return <option {...attrs}>{language.name}</option>;\n    }\n\n    renderOptions() {\n        const { allowedLanguages, languages } = this.props;\n        const languagesList = allowedLanguages.length ? allowedLanguages : languages.priority;\n\n        return languagesList.map(this.renderOption);\n    }\n\n    render() {\n        const selectAttrs = {\n            className: 'form-control',\n            onChange: this.updateSelection,\n        };\n        const selectLanguageTitle = Translator.trans(\n            /*@Desc(\"Select a language\")*/ 'content_on_the_fly.select_language.title',\n            {},\n            'universal_discovery_widget'\n        );\n\n        if (this.props.forcedLanguage) {\n            console.warn('[DEPRECATED] forcedLanguage parameter is deprecated');\n            console.warn('[DEPRECATED] it will be removed from ezplatform-admin-ui-modules 2.0');\n            console.warn('[DEPRECATED] use allowedLanguages instead');\n        }\n\n        // @Deprecated - `forcedLanguage` will be removed in 2.0\n        if (this.props.allowedLanguages.length === 1 || this.props.forcedLanguage) {\n            selectAttrs.disabled = true;\n        }\n\n        return (\n            <div className=\"c-choose-language\">\n                <p className=\"c-choose-language__title\">{selectLanguageTitle}</p>\n                <div className=\"c-choose-lagauge__select-wrapper\">\n                    <select {...selectAttrs}>{this.renderOptions()}</select>\n                </div>\n            </div>\n        );\n    }\n}\n\nChooseLanguageComponent.propTypes = {\n    maxHeight: PropTypes.number.isRequired,\n    languages: PropTypes.object.isRequired,\n    onLanguageSelected: PropTypes.func.isRequired,\n    forcedLanguage: PropTypes.string.isRequired,\n    allowedLanguages: PropTypes.array.isRequired,\n    preselectedLanguage: PropTypes.string,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/create/choose.language.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nexport default class ChooseContentTypeComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        let selectedContentType = {};\n        const { allowedContentTypes, preselectedContentType } = props;\n        const isForcedContentType = allowedContentTypes.length === 1;\n        const hasPreselectedAllowedContentType = !allowedContentTypes.length || allowedContentTypes.includes(props.preselectedContentType);\n        const isPreselectedContentType = preselectedContentType && hasPreselectedAllowedContentType;\n\n        this._filterTimeout = null;\n\n        this.updateFilterQuery = this.updateFilterQuery.bind(this);\n        this.renderGroup = this.renderGroup.bind(this);\n        this.renderItem = this.renderItem.bind(this);\n\n        if (isForcedContentType) {\n            selectedContentType = this.findContentType(allowedContentTypes[0]);\n        } else if (isPreselectedContentType) {\n            selectedContentType = this.findContentType(preselectedContentType);\n        }\n\n        this.state = {\n            selectedContentType,\n            filterQuery: '',\n        };\n    }\n\n    componentDidMount() {\n        this.props.onContentTypeSelected(this.state.selectedContentType);\n    }\n\n    findContentType(identifier) {\n        let contentType = null;\n\n        Object.values(this.props.contentTypes).forEach((group) => {\n            const result = group.find((contentType) => contentType.identifier === identifier);\n\n            if (result) {\n                contentType = result;\n            }\n        });\n\n        return contentType;\n    }\n\n    updateSelectedItem(selectedContentType) {\n        this.props.onContentTypeSelected(selectedContentType);\n\n        this.setState((state) => Object.assign({}, state, { selectedContentType }));\n    }\n\n    updateFilterQuery(event) {\n        const filterQuery = event.target.value.toLowerCase();\n\n        window.clearTimeout(this._filterTimeout);\n\n        this._filterTimeout = window.setTimeout(() => {\n            this.setState((state) => Object.assign({}, state, { filterQuery }));\n        }, 200);\n    }\n\n    renderItem(item, index) {\n        const { name, identifier } = item;\n        const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(identifier);\n        const isNotSelectable = this.props.allowedContentTypes.length && !this.props.allowedContentTypes.includes(identifier);\n        const attrs = {\n            className: 'c-choose-content-type__group-item',\n            key: index,\n        };\n\n        if (this.state.selectedContentType.identifier === identifier) {\n            attrs.className = `${attrs.className} is-selected`;\n        }\n\n        if (isNotSelectable) {\n            attrs.className = `${attrs.className} is-not-selectable`;\n        }\n\n        if (!isNotSelectable) {\n            attrs.onClick = this.updateSelectedItem.bind(this, item);\n        }\n\n        if (this.state.filterQuery && !name.toLowerCase().includes(this.state.filterQuery)) {\n            attrs.hidden = true;\n        }\n\n        return (\n            <div {...attrs}>\n                <div className=\"c-choose-content-type__group-item-icon\">\n                    <Icon customPath={contentTypeIconUrl} extraClasses=\"ez-icon--small\" />\n                </div>\n                {name}\n            </div>\n        );\n    }\n\n    renderGroup(groupName, index) {\n        const items = this.props.contentTypes[groupName];\n        const groupAttrs = {};\n\n        if (this.state.filterQuery && items.every((item) => !item.name.toLowerCase().includes(this.state.filterQuery))) {\n            groupAttrs.hidden = true;\n        }\n\n        return (\n            <div className=\"c-choose-content-type__group\" key={index}>\n                <div className=\"c-choose-content-type__group-name\" {...groupAttrs}>\n                    {groupName}\n                </div>\n                {items.map(this.renderItem)}\n            </div>\n        );\n    }\n\n    render() {\n        const { maxHeight, contentTypes } = this.props;\n        const selectContentTypeTitle = Translator.trans(\n            /*@Desc(\"Select a Content Type\")*/ 'content_on_the_fly.select_a_content_type.title',\n            {},\n            'universal_discovery_widget'\n        );\n        const typeToRefinePlaceholder = Translator.trans(\n            /*@Desc(\"Type to refine\")*/ 'content_on_the_fly.type_to_refine.placeholder',\n            {},\n            'universal_discovery_widget'\n        );\n\n        return (\n            <div className=\"c-choose-content-type\">\n                <p className=\"c-choose-content-type__title\">{selectContentTypeTitle}</p>\n                <div className=\"c-choose-content-type__list-wrapper\">\n                    <input className=\"form-control\" type=\"text\" placeholder={typeToRefinePlaceholder} onChange={this.updateFilterQuery} />\n                    <div className=\"c-choose-content-type__list\" style={{ maxHeight: `${maxHeight - 232}px` }}>\n                        {Object.keys(contentTypes).map(this.renderGroup)}\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nChooseContentTypeComponent.propTypes = {\n    maxHeight: PropTypes.number.isRequired,\n    contentTypes: PropTypes.object.isRequired,\n    onContentTypeSelected: PropTypes.func.isRequired,\n    preselectedContentType: PropTypes.string,\n    allowedContentTypes: PropTypes.array.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/create/choose.content.type.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport TabContentPanelComponent from './tab.content.panel.component';\nimport BookmarksComponent from '../bookmarks/bookmarks.component';\n\nexport default class BookmarksPanelComponent extends Component {\n    getBookmarksAttrs() {\n        const {\n            multiple,\n            findContentBySearchQuery,\n            onItemSelect,\n            maxHeight,\n            contentTypesMap,\n            bookmarksPerPage,\n            restInfo,\n            userBookmarksItems,\n            userBookmarksCount,\n            requireBookmarksCount,\n            selectedContent,\n            onSelectContent,\n            canSelectContent,\n            onItemRemove,\n        } = this.props;\n\n        return {\n            multiple,\n            findContentBySearchQuery,\n            onItemSelect,\n            maxHeight,\n            contentTypesMap,\n            bookmarksPerPage,\n            restInfo,\n            userBookmarksItems,\n            userBookmarksCount,\n            requireBookmarksCount,\n            selectedContent,\n            onSelectContent,\n            canSelectContent,\n            onItemRemove,\n        };\n    }\n\n    getWrapperAttrs() {\n        const { isVisible } = this.props;\n\n        return {\n            hidden: !isVisible,\n        };\n    }\n\n    render() {\n        const wrapperAttrs = this.getWrapperAttrs();\n        const bookmarksAttrs = this.getBookmarksAttrs();\n\n        return (\n            <div className=\"c-bookmarks-panel\" {...wrapperAttrs}>\n                <TabContentPanelComponent {...this.props}>\n                    <BookmarksComponent {...bookmarksAttrs} />\n                </TabContentPanelComponent>\n            </div>\n        );\n    }\n}\n\nBookmarksPanelComponent.propTypes = {\n    isVisible: PropTypes.bool.isRequired,\n    multiple: PropTypes.bool.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    findContentBySearchQuery: PropTypes.func.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    bookmarksPerPage: PropTypes.number.isRequired,\n    userBookmarksItems: PropTypes.array,\n    userBookmarksCount: PropTypes.number,\n    requireBookmarksCount: PropTypes.func.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/tab-content/bookmarks.panel.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nimport ContentTableComponent from '../content-table/content.table.component';\n\nexport default class BookmarksComponent extends Component {\n    renderTable() {\n        const { userBookmarksCount, userBookmarksItems } = this.props;\n\n        if (userBookmarksCount === null) {\n            return null;\n        }\n\n        const {\n            onItemSelect,\n            bookmarksPerPage,\n            contentTypesMap,\n            requireBookmarksCount,\n            selectedContent,\n            onSelectContent,\n            canSelectContent,\n            onItemRemove,\n            multiple,\n        } = this.props;\n        const tableTitle = Translator.trans(/*@Desc(\"Bookmarks\")*/ 'bookmarks_table.title', {}, 'universal_discovery_widget');\n\n        return (\n            <ContentTableComponent\n                items={userBookmarksItems}\n                count={userBookmarksCount}\n                requireItemsCount={requireBookmarksCount}\n                onItemSelect={onItemSelect}\n                onItemClick={onItemSelect}\n                perPage={bookmarksPerPage}\n                contentTypesMap={contentTypesMap}\n                title={tableTitle}\n                selectedContent={selectedContent}\n                onSelectContent={onSelectContent}\n                canSelectContent={canSelectContent}\n                onItemRemove={onItemRemove}\n                multiple={multiple}\n            />\n        );\n    }\n\n    renderSpinner() {\n        const { userBookmarksCount } = this.props;\n\n        if (userBookmarksCount === null) {\n            return <Icon name=\"spinner\" extraClasses=\"c-bookmarks__loading-spinner ez-spin ez-icon-x2 ez-icon-spinner\" />;\n        }\n    }\n\n    renderNoBookmarksInfo() {\n        const { userBookmarksCount } = this.props;\n        const noBookmarksMessage = Translator.trans(\n            /*@Desc(\"No content items. Content items you bookmark will appear here.\")*/ 'bookmarks_table.no_bookmarks.message',\n            {},\n            'universal_discovery_widget'\n        );\n\n        if (!userBookmarksCount) {\n            return <div className=\"c-bookmarks__no-bookmarks-info\">{noBookmarksMessage}</div>;\n        }\n    }\n\n    render() {\n        const { maxHeight } = this.props;\n\n        return (\n            <div className=\"c-bookmarks\" style={{ maxHeight: `${maxHeight - 32}px` }}>\n                {this.renderSpinner()}\n                {this.renderNoBookmarksInfo()}\n                {this.renderTable()}\n            </div>\n        );\n    }\n}\n\nBookmarksComponent.propTypes = {\n    findContentBySearchQuery: PropTypes.func.isRequired,\n    onItemSelect: PropTypes.func.isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    bookmarksPerPage: PropTypes.number.isRequired,\n    userBookmarksCount: PropTypes.number,\n    userBookmarksItems: PropTypes.array,\n    requireBookmarksCount: PropTypes.func.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    selectedContent: PropTypes.array.isRequired,\n    onSelectContent: PropTypes.func.isRequired,\n    canSelectContent: PropTypes.func.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    multiple: PropTypes.bool.isRequired,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/bookmarks/bookmarks.component.js","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nimport { loadLocation } from '../../services/universal.discovery.service';\n\nexport default class ContentCreatorComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.handleIframeLoad = this.handleIframeLoad.bind(this);\n        this.handlePublish = this.handlePublish.bind(this);\n        this.enablePublishBtn = this.enablePublishBtn.bind(this);\n        this.disablePublishBtn = this.disablePublishBtn.bind(this);\n        this.renderPublishBtn = this.renderPublishBtn.bind(this);\n\n        this._refIframe = null;\n\n        this.state = {\n            iframeLoading: true,\n            publishBtnDisabled: false,\n        };\n    }\n\n    handlePublish() {\n        this._refIframe.contentWindow.onbeforeunload = () => {};\n        this.submitForm();\n    }\n\n    submitForm() {\n        const submit = this._refIframe.contentWindow.document.body.querySelector('[data-action=\"publish\"]');\n\n        if (submit) {\n            submit.click();\n        }\n    }\n\n    handleIframeLoad() {\n        const iframeWindow = this._refIframe.contentWindow;\n        const iframeDoc = iframeWindow.document;\n        const locationId = iframeDoc.querySelector('meta[name=\"LocationID\"]');\n        const iframeUrl = this.generateIframeUrl();\n\n        if (iframeWindow.location.pathname !== iframeUrl && !locationId) {\n            this._refIframe.setAttribute('src', iframeUrl);\n\n            return;\n        }\n\n        if (locationId) {\n            this.loadLocationInfo(locationId.content);\n        } else {\n            this.setState((state) => Object.assign({}, state, { iframeLoading: false }));\n\n            iframeWindow.onbeforeunload = () => {\n                return '';\n            };\n            iframeWindow.onunload = () => {\n                this.setState((state) => Object.assign({}, state, { iframeLoading: true }));\n            };\n        }\n\n        iframeDoc.body.addEventListener('fbFormBuilderLoaded', this.disablePublishBtn, false);\n        iframeDoc.body.addEventListener('fbFormBuilderUnloaded', this.enablePublishBtn, false);\n    }\n\n    enablePublishBtn() {\n        this.setState(() => ({ publishBtnDisabled: false }));\n    }\n\n    disablePublishBtn() {\n        this.setState(() => ({ publishBtnDisabled: true }));\n    }\n\n    loadLocationInfo(locationId) {\n        const { loadLocation, handlePublish, restInfo } = this.props;\n        const promise = new Promise((resolve) => loadLocation(Object.assign({}, restInfo, { locationId }), resolve));\n\n        promise.then((response) => {\n            handlePublish(response.View.Result.searchHits.searchHit[0].value.Location);\n        });\n    }\n\n    generateIframeUrl() {\n        const { selectedLocationId, selectedLanguage, selectedContentType } = this.props;\n\n        return window.Routing.generate('ezplatform.content_on_the_fly.create', {\n            locationId: selectedLocationId,\n            languageCode: selectedLanguage.languageCode,\n            contentTypeIdentifier: selectedContentType.identifier,\n        });\n    }\n\n    /**\n     * Renders a loading state spinner\n     *\n     * @method renderLoadingSpinner\n     * @returns {Element}\n     * @memberof FinderTreeLeafComponent\n     */\n    renderLoadingSpinner() {\n        if (!this.state.iframeLoading) {\n            return null;\n        }\n\n        return <Icon name=\"spinner\" extraClasses=\"ez-spin ez-icon-x2 ez-icon-spinner\" />;\n    }\n\n    renderPublishBtn() {\n        const publishLabel = Translator.trans(/*@Desc(\"Publish\")*/ 'content_on_the_fly.publish.label', {}, 'universal_discovery_widget');\n        const attrs = {\n            className: 'm-ud__action m-ud__action--publish',\n            onClick: this.handlePublish,\n            type: 'button',\n        };\n\n        if (this.state.publishBtnDisabled) {\n            attrs.disabled = true;\n        }\n\n        return <button {...attrs}>{publishLabel}</button>;\n    }\n\n    render() {\n        const { selectedContentType, selectedLanguage, maxHeight, onCancel } = this.props;\n        const title = Translator.trans(\n            /*@Desc(\"Creating - %contentType% in %language%\")*/ 'content_on_the_fly.creating_content.title',\n            {\n                contentType: selectedContentType.name,\n                language: selectedLanguage.name,\n            },\n            'universal_discovery_widget'\n        );\n        const cancelLabel = Translator.trans(/*@Desc(\"Cancel\")*/ 'cancel.label', {}, 'universal_discovery_widget');\n        const iframeUrl = this.generateIframeUrl();\n        const contentClass = this.state.iframeLoading ? 'm-ud__content is-loading' : 'm-ud__content';\n\n        return (\n            <div className=\"m-ud__wrapper\">\n                <div className=\"m-ud c-content-creator\" ref={this.props.setMainContainerRef}>\n                    <h1 className=\"m-ud__title\">{title}</h1>\n                    <div className=\"m-ud__content-wrapper\">\n                        <div className={contentClass}>\n                            {this.renderLoadingSpinner()}\n                            <iframe\n                                src={iframeUrl}\n                                ref={(ref) => (this._refIframe = ref)}\n                                className=\"c-content-creator__iframe\"\n                                onLoad={this.handleIframeLoad}\n                                style={{ height: `${maxHeight + 32}px` }}\n                            />\n                        </div>\n                        <div className=\"m-ud__actions\">\n                            <div className=\"m-ud__btns\">\n                                <button type=\"button\" className=\"m-ud__action m-ud__action--cancel\" onClick={onCancel}>\n                                    {cancelLabel}\n                                </button>\n                                {this.renderPublishBtn()}\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nContentCreatorComponent.propTypes = {\n    maxHeight: PropTypes.number.isRequired,\n    selectedLanguage: PropTypes.object.isRequired,\n    selectedContentType: PropTypes.object.isRequired,\n    selectedLocationId: PropTypes.number.isRequired,\n    onCancel: PropTypes.func.isRequired,\n    handlePublish: PropTypes.func.isRequired,\n    loadLocation: PropTypes.func,\n    restInfo: PropTypes.object.isRequired,\n    setMainContainerRef: PropTypes.func.isRequired,\n};\n\nContentCreatorComponent.defaultProps = {\n    loadLocation,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/content-creator/content.creator.component.js","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport SelectedContentItemComponent from './selected.content.item.component';\nimport SelectedContentPopupComponent from './selected.content.popup.component';\n\nexport default class SelectedContentComponent extends PureComponent {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            isPopupVisible: false,\n        };\n\n        this.hidePopup = this.hidePopup.bind(this);\n        this.togglePopup = this.togglePopup.bind(this);\n        this.renderSelectedItem = this.renderSelectedItem.bind(this);\n    }\n\n    /**\n     * Toggles popup visible state\n     *\n     * @method togglePopup\n     * @memberof SelectedContentComponent\n     */\n    togglePopup() {\n        this.setState((state, props) => ({ isPopupVisible: !state.isPopupVisible && !!props.items.length }));\n    }\n\n    /**\n     * Hides popup\n     *\n     * @method hidePopup\n     * @memberof SelectedContentComponent\n     */\n    hidePopup() {\n        this.setState(() => ({ isPopupVisible: false }));\n    }\n\n    /**\n     * Renders a selected content item\n     *\n     * @method renderSelectedItem\n     * @param {Object} item\n     * @returns {Element}\n     * @memberof SelectedContentComponent\n     */\n    renderSelectedItem(item) {\n        return (\n            <SelectedContentItemComponent\n                key={item.remoteId}\n                data={item}\n                onRemove={this.props.onItemRemove}\n                contentTypesMap={this.props.contentTypesMap}\n            />\n        );\n    }\n\n    /**\n     * Renders a limit information label\n     *\n     * @method renderLimitLabel\n     * @returns {Element}\n     * @memberof SelectedContentComponent\n     */\n    renderLimitLabel() {\n        let limitLabel = '';\n\n        if (this.props.itemsLimit && this.props.multiple) {\n            const limitLabelText = Translator.trans(\n                /*@Desc(\"Limit %items% max\")*/ 'select_content.limit.label',\n                {\n                    items: this.props.itemsLimit,\n                },\n                'universal_discovery_widget'\n            );\n\n            limitLabel = <small className=\"c-selected-content__label--limit\">{limitLabelText}</small>;\n        }\n\n        return limitLabel;\n    }\n\n    /**\n     * Renders selected items info\n     *\n     * @method renderSelectedItems\n     * @returns {Element}\n     * @memberof SelectedContentComponent\n     */\n    renderSelectedItems() {\n        if (!this.props.items.length) {\n            return null;\n        }\n\n        return (\n            <SelectedContentPopupComponent title={this.getTitle()} visible={this.state.isPopupVisible} onClose={this.hidePopup}>\n                {this.props.items.map(this.renderSelectedItem)}\n            </SelectedContentPopupComponent>\n        );\n    }\n\n    /**\n     * Gets component title\n     *\n     * @method getTitle\n     * @returns {String}\n     * @memberof SelectedContentComponent\n     */\n    getTitle() {\n        let title = Translator.trans(/*@Desc(\"Confirmed items\")*/ 'select_content.confirmed_items.title', {}, 'universal_discovery_widget');\n        const total = this.props.items.length;\n\n        if (total) {\n            title = `${title} (${total})`;\n        }\n\n        return title;\n    }\n\n    render() {\n        const { items } = this.props;\n        const titles = items.map((item) => item.ContentInfo.Content.Name).join(', ');\n        const anyItemSelected = !!items.length;\n        const cssClassOnAnyItemSelected = anyItemSelected ? 'c-selected-content__info--any-item-selected' : '';\n        const infoCssClasses = `c-selected-content__info ${cssClassOnAnyItemSelected}`;\n        const noConfirmedContentTitle = Translator.trans(\n            /*@Desc(\"No confirmed content yet\")*/ 'select_content.no_confirmed_content.title',\n            {},\n            'universal_discovery_widget'\n        );\n\n        return (\n            <div className=\"c-selected-content\">\n                {this.renderSelectedItems()}\n                <div className={infoCssClasses} onClick={this.togglePopup} tabIndex=\"-1\">\n                    <strong className=\"c-selected-content__title\">{this.getTitle()}</strong>\n                    {this.renderLimitLabel()}\n                    <div className=\"c-selected-content__content-names\">{titles.length ? titles : noConfirmedContentTitle}</div>\n                </div>\n            </div>\n        );\n    }\n}\n\nSelectedContentComponent.propTypes = {\n    items: PropTypes.array.isRequired,\n    multiple: PropTypes.bool.isRequired,\n    itemsLimit: PropTypes.number.isRequired,\n    onItemRemove: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n};\n\nSelectedContentComponent.defaultProps = {\n    items: [],\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/selected-content/selected.content.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nconst SelectedContentItemComponent = ({ data, onRemove }) => {\n    const contentTypeInfo = data.ContentInfo.Content.ContentTypeInfo;\n    const notAvailableLabel = Translator.trans(/*@Desc(\"N/A\")*/ 'select_content.not_available.label', {}, 'universal_discovery_widget');\n    const contentTypeName = contentTypeInfo ? contentTypeInfo.names.value[0]['#text'] : notAvailableLabel;\n    let icon;\n\n    if (contentTypeInfo) {\n        icon = <Icon name={contentTypeInfo.identifier} extraClasses=\"c-selected-content-item__icon ez-icon--small\" />;\n    }\n\n    return (\n        <div className=\"c-selected-content-item\">\n            <div className=\"c-selected-content-item__wrapper\">\n                <div className=\"c-selected-content-item__name\">{data.ContentInfo.Content.Name}</div>\n                <div className=\"c-selected-content-item__type\">\n                    {icon} {contentTypeName}\n                </div>\n            </div>\n            <div className=\"c-selected-content-item__remove\" onClick={() => onRemove(data.id)} tabIndex=\"-1\">\n                <Icon name=\"discard\" extraClasses=\"ez-icon--light ez-icon--small\" />\n            </div>\n        </div>\n    );\n};\n\nSelectedContentItemComponent.propTypes = {\n    data: PropTypes.object.isRequired,\n    onRemove: PropTypes.func.isRequired,\n};\n\nexport default SelectedContentItemComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/selected-content/selected.content.item.component.js","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport PopupComponent from '../../../common/tooltip-popup/tooltip.popup.component';\n\nconst SelectedContentPopupComponent = (props) => {\n    return (\n        <div className=\"c-selected-content-popup\">\n            <PopupComponent {...props}>{props.children}</PopupComponent>\n        </div>\n    );\n};\n\nSelectedContentPopupComponent.propTypes = {\n    children: PropTypes.any.isRequired,\n};\n\nexport default SelectedContentPopupComponent;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/selected-content/selected.content.popup.component.js","import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport Icon from '../../../common/icon/icon';\n\nexport default class ContentMetaPreviewComponent extends Component {\n    constructor(props) {\n        super(props);\n\n        this.state = { imageUri: '', translations: [] };\n\n        this.toggleBookmark = this.toggleBookmark.bind(this);\n    }\n\n    /**\n     * Renders an icon related to a content type\n     *\n     * @method renderIcon\n     * @returns {JSX.Element|null}\n     * @memberof ContentMetaPreviewComponent\n     */\n    renderIcon() {\n        const contentTypeInfo = this.props.data.ContentInfo.Content.ContentTypeInfo;\n\n        if (!contentTypeInfo) {\n            return null;\n        }\n\n        const contentTypeIdentifier = contentTypeInfo.identifier;\n        const contentTypeIconUrl = eZ.helpers.contentType.getContentTypeIconUrl(contentTypeIdentifier);\n\n        return <Icon customPath={contentTypeIconUrl} extraClasses=\"c-meta-preview__icon ez-icon--small\" />;\n    }\n\n    /**\n     * Gets image URI to image preview from content meta\n     *\n     * @method getImageUri\n     * @returns {String}\n     * @memberof ContentMetaPreviewComponent\n     */\n    getImageUri(data) {\n        if (!data || !data.CurrentVersion) {\n            return '';\n        }\n\n        const version = data.CurrentVersion.Version;\n        const imageField = version.Fields.field.find((field) => field.fieldTypeIdentifier === 'ezimage');\n\n        return imageField && imageField.fieldValue ? imageField.fieldValue.uri : '';\n    }\n\n    /**\n     * Gets list of translations from content meta\n     *\n     * @method getTranslations\n     * @returns {Array}\n     * @memberof ContentMetaPreviewComponent\n     */\n    getTranslations(data) {\n        if (!data || !data.CurrentVersion) {\n            return [];\n        }\n\n        const version = data.CurrentVersion.Version;\n        const versionLanguages = version.VersionInfo.VersionTranslationInfo.Language;\n\n        return versionLanguages.map((language) => this.props.languages.mappings[language.languageCode].name);\n    }\n\n    /**\n     * Renders a translation item\n     *\n     * @method renderTranslation\n     * @returns {Element}\n     * @memberof ContentMetaPreviewComponent\n     */\n    renderTranslation(translation, index) {\n        return (\n            <span key={index} className=\"c-meta-preview__translation\">\n                {translation}\n            </span>\n        );\n    }\n\n    /**\n     * Renders image preview\n     *\n     * @method renderImagePreview\n     * @returns {Element}\n     * @memberof ContentMetaPreviewComponent\n     */\n    renderImagePreview() {\n        const { data } = this.props;\n\n        if (!data.CurrentVersion) {\n            return <Icon name=\"spinner\" extraClasses=\"c-meta-preview__loading-spinner ez-spin ez-icon-x2 ez-icon-spinner\" />;\n        }\n\n        const imageUri = this.getImageUri(data);\n        const imagePreviewNotAvailableLabel = Translator.trans(\n            /*@Desc(\"Content preview is not available\")*/ 'content_meta_preview.image_preview_not_available.info',\n            {},\n            'universal_discovery_widget'\n        );\n\n        if (!imageUri.length) {\n            return <Fragment>{imagePreviewNotAvailableLabel}</Fragment>;\n        }\n\n        return <img className=\"c-meta-preview__image\" src={imageUri} alt=\"\" />;\n    }\n\n    /**\n     * Toggles bookmark\n     *\n     * @method toggleBookmark\n     * @memberof ContentMetaPreviewComponent\n     */\n    toggleBookmark() {\n        const { toggleBookmark, data } = this.props;\n\n        toggleBookmark(data);\n    }\n\n    /**\n     * Renders bookmark icon\n     *\n     * @method renderBookmarkIcon\n     * @memberof ContentMetaPreviewComponent\n     */\n    renderBookmarkIcon() {\n        const { isBookmarked } = this.props;\n\n        const bookmarkIconId = isBookmarked ? 'bookmark-active' : 'bookmark';\n        const action = isBookmarked ? 'remove' : 'add';\n        const wrapperClassName = `c-meta-preview__content-bookmark c-meta-preview__content-bookmark--${action}`;\n\n        return (\n            <div className={wrapperClassName} onClick={this.toggleBookmark} tabIndex=\"-1\">\n                <Icon name={bookmarkIconId} extraClasses=\"ez-icon--medium ez-icon--secondary\" />\n            </div>\n        );\n    }\n\n    render() {\n        const { data, maxHeight } = this.props;\n        const content = data.ContentInfo.Content;\n        const contentTypeIdentifier = content.ContentTypeInfo.identifier;\n        const contentTypeName = window.eZ.adminUiConfig.contentTypeNames[contentTypeIdentifier];\n        const { formatShortDateTime } = window.eZ.helpers.timezone;\n        const translations = this.getTranslations(data);\n        const title = Translator.trans(/*@Desc(\"Content Meta Preview\")*/ 'content_meta_preview.title', {}, 'universal_discovery_widget');\n        const lastModifiedLabel = Translator.trans(\n            /*@Desc(\"Last modified\")*/ 'content_meta_preview.last_modified.label',\n            {},\n            'universal_discovery_widget'\n        );\n        const creationDateLabel = Translator.trans(\n            /*@Desc(\"Creation date\")*/ 'content_meta_preview.creation_date.label',\n            {},\n            'universal_discovery_widget'\n        );\n        const translationsLabel = Translator.trans(\n            /*@Desc(\"Translations\")*/ 'content_meta_preview.translations.label',\n            {},\n            'universal_discovery_widget'\n        );\n\n        return (\n            <div className=\"c-meta-preview__wrapper\" style={{ maxHeight: `${maxHeight}px` }}>\n                <h1 className=\"c-meta-preview__title\">{title}</h1>\n                <div className=\"c-meta-preview\">\n                    <div className=\"c-meta-preview__top-wrapper\">\n                        <div className=\"c-meta-preview__content-type\">\n                            {this.renderIcon()} {contentTypeName}\n                        </div>\n                        {this.renderBookmarkIcon()}\n                    </div>\n                    <div className=\"c-meta-preview__meta-wrapper\">\n                        <div className=\"c-meta-preview__image-wrapper\">{this.renderImagePreview()}</div>\n                        <div className=\"c-meta-preview__name\">{content.Name}</div>\n                        <div className=\"c-meta-preview__content-info\">\n                            <h3 className=\"c-meta-preview__subtitle\">{lastModifiedLabel}:</h3>\n                            {formatShortDateTime(new Date(content.lastModificationDate))}\n                        </div>\n                        <div className=\"c-meta-preview__content-info\">\n                            <h3 className=\"c-meta-preview__subtitle\">{creationDateLabel}:</h3>\n                            {formatShortDateTime(new Date(content.publishedDate))}\n                        </div>\n                        <div className=\"c-meta-preview__content-info\">\n                            <h3 className=\"c-meta-preview__subtitle\">{translationsLabel}:</h3>\n                            {translations.map(this.renderTranslation)}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nContentMetaPreviewComponent.propTypes = {\n    data: PropTypes.object.isRequired,\n    isBookmarked: PropTypes.bool,\n    toggleBookmark: PropTypes.func.isRequired,\n    contentTypesMap: PropTypes.object.isRequired,\n    restInfo: PropTypes.shape({\n        token: PropTypes.string.isRequired,\n        siteaccess: PropTypes.string.isRequired,\n    }).isRequired,\n    maxHeight: PropTypes.number.isRequired,\n    activeTab: PropTypes.string.isRequired,\n    languages: PropTypes.object.isRequired,\n    ready: PropTypes.bool.isRequired,\n};\n\nContentMetaPreviewComponent.defaultProps = {\n    isBookmarked: null,\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/components/content-meta-preview/content.meta.preview.component.js","import { showErrorNotification } from '../../common/services/notification.service';\nimport {\n    getBasicRequestInit,\n    handleRequestResponse,\n    handleRequestError,\n    handleRequestResponseStatus,\n} from '../../common/helpers/request.helper.js';\n\nconst ENDPOINT_BOOKMARK = '/api/ezp/v2/bookmark';\n\n/**\n * Loads bookmarks\n *\n * @function loadBookmarks\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @param {Function} callback\n */\nexport const loadBookmarks = (restInfo, limit, offset, callback) => {\n    const basicRequestInit = getBasicRequestInit(restInfo);\n    const request = new Request(`${ENDPOINT_BOOKMARK}?limit=${limit}&offset=${offset}`, {\n        ...basicRequestInit,\n        method: 'GET',\n        headers: {\n            ...basicRequestInit.headers,\n            Accept: 'application/vnd.ez.api.ContentTypeInfoList+json',\n        },\n    });\n\n    fetch(request)\n        .then(handleRequestResponse)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Adds bookmark\n *\n * @function addBookmark\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @param {String} locationId location id\n * @param {Function} callback\n */\nexport const addBookmark = (restInfo, locationId, callback) => {\n    const basicRequestInit = getBasicRequestInit(restInfo);\n    const request = new Request(`${ENDPOINT_BOOKMARK}/${locationId}`, {\n        ...basicRequestInit,\n        method: 'POST',\n    });\n\n    fetch(request)\n        .then(handleRequestResponseStatus)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Removes bookmark\n *\n * @function removeBookmark\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @param {String} locationId location id\n * @param {Function} callback\n */\nexport const removeBookmark = (restInfo, locationId, callback) => {\n    const basicRequestInit = getBasicRequestInit(restInfo);\n    const request = new Request(`${ENDPOINT_BOOKMARK}/${locationId}`, {\n        ...basicRequestInit,\n        method: 'DELETE',\n    });\n\n    fetch(request)\n        .then(handleRequestResponseStatus)\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n/**\n * Checks if given location is bookmarked\n *\n * @function checkIsBookmarked\n * @param {Object} restInfo REST config hash containing: token and siteaccess properties\n * @param {String} locationId location id\n * @param {Function} callback\n */\nexport const checkIsBookmarked = (restInfo, locationId, callback) => {\n    const basicRequestInit = getBasicRequestInit(restInfo);\n    const request = new Request(`${ENDPOINT_BOOKMARK}/${locationId}`, {\n        ...basicRequestInit,\n        method: 'HEAD',\n    });\n    const bookmarkedStatusCode = 200;\n    const notBookmarkedStatusCode = 404;\n\n    fetch(request)\n        .then((response) => {\n            const { status } = response;\n\n            if (status === bookmarkedStatusCode || status === notBookmarkedStatusCode) {\n                return status === bookmarkedStatusCode;\n            }\n\n            return handleRequestError(response);\n        })\n        .then(callback)\n        .catch(showErrorNotification);\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/universal-discovery/services/bookmark.service.js","/**\n * Checks if are the same locations\n *\n * @function areSameLocations\n * @param {Object} location1\n * @param {Object} location2\n * @returns {Boolean}\n */\nexport const areSameLocations = (location1, location2) => location1.id === location2.id;\n\n\n\n// WEBPACK FOOTER //\n// ./src/modules/common/helpers/compare.helper.js"],"sourceRoot":""}