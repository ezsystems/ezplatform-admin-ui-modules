!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react")):"function"==typeof define&&define.amd?define(["react"],t):"object"==typeof exports?exports.SubItems=t(require("react")):(e.eZ=e.eZ||{},e.eZ.modules=e.eZ.modules||{},e.eZ.modules.SubItems=t(e.React))}("undefined"!=typeof self?self:this,function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=27)}([function(t,n){t.exports=e},function(e,t,n){(function(t){if("production"!==t.env.NODE_ENV){var i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n(9)(function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},!0)}else e.exports=n(12)()}).call(t,n(4))},function(e,t){e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",i=e[3];if(!i)return n;if(t&&"function"==typeof btoa){var r=(a=i,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),o=i.sources.map(function(e){return"/*# sourceURL="+i.sourceRoot+e+" */"});return[n].concat(o).concat([r]).join("\n")}var a;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var i={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(i[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&i[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),t.push(a))}},t}},function(e,t,n){var i,r,o={},a=(i=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===r&&(r=i.apply(this,arguments)),r}),s=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,c=0,d=[],u=n(13);function p(e,t){for(var n=0;n<e.length;n++){var i=e[n],r=o[i.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](i.parts[a]);for(;a<i.parts.length;a++)r.parts.push(y(i.parts[a],t))}else{var s=[];for(a=0;a<i.parts.length;a++)s.push(y(i.parts[a],t));o[i.id]={id:i.id,refs:1,parts:s}}}}function f(e,t){for(var n=[],i={},r=0;r<e.length;r++){var o=e[r],a=t.base?o[0]+t.base:o[0],s={css:o[1],media:o[2],sourceMap:o[3]};i[a]?i[a].parts.push(s):n.push(i[a]={id:a,parts:[s]})}return n}function m(e,t){var n=s(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var i=d[d.length-1];if("top"===e.insertAt)i?i.nextSibling?n.insertBefore(t,i.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),d.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var r=s(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,r)}}function h(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function b(e){var t=document.createElement("style");return void 0===e.attrs.type&&(e.attrs.type="text/css"),v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function y(e,t){var n,i,r,o;if(t.transform&&e.css){if(!(o=t.transform(e.css)))return function(){};e.css=o}if(t.singleton){var a=c++;n=l||(l=b(t)),i=_.bind(null,n,a,!1),r=_.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),i=function(e,t,n){var i=n.css,r=n.sourceMap,o=void 0===t.convertToAbsoluteUrls&&r;(t.convertToAbsoluteUrls||o)&&(i=u(i));r&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([i],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(a),s&&URL.revokeObjectURL(s)}.bind(null,n,t),r=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=b(t),i=function(e,t){var n=t.css,i=t.media;i&&e.setAttribute("media",i);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),r=function(){h(n)});return i(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i(e=t)}else r()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=a()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=f(e,t);return p(n,t),function(e){for(var i=[],r=0;r<n.length;r++){var a=n[r];(s=o[a.id]).refs--,i.push(s)}e&&p(f(e,t),t);for(r=0;r<i.length;r++){var s;if(0===(s=i[r]).refs){for(var l=0;l<s.parts.length;l++)s.parts[l]();delete o[s.id]}}}};var g,w=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")});function _(e,t,n,i){var r=n?"":i.css;if(e.styleSheet)e.styleSheet.cssText=w(t,r);else{var o=document.createTextNode(r),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:a}catch(e){i=a}}();var l,c=[],d=!1,u=-1;function p(){d&&l&&(d=!1,l.length?c=l.concat(c):u=-1,c.length&&f())}function f(){if(!d){var e=s(p);d=!0;for(var t=c.length;t;){for(l=c,c=[];++u<t;)l&&l[u].run();u=-1,t=c.length}l=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===a||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),1!==c.length||d||s(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";function i(e){return function(){return e}}var r=function(){};r.thatReturns=i,r.thatReturnsFalse=i(!1),r.thatReturnsTrue=i(!0),r.thatReturnsNull=i(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";(function(t){var n=function(e){};"production"!==t.env.NODE_ENV&&(n=function(e){if(void 0===e)throw new Error("invariant requires an error message argument")}),e.exports=function(e,t,i,r,o,a,s,l){if(n(t),!e){var c;if(void 0===t)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[i,r,o,a,s,l],u=0;(c=new Error(t.replace(/%s/g,function(){return d[u++]}))).name="Invariant Violation"}throw c.framesToPop=1,c}}}).call(t,n(4))},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";(function(t){var i=n(5);if("production"!==t.env.NODE_ENV){i=function(e,t){if(void 0===t)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(0!==t.indexOf("Failed Composite propType: ")&&!e){for(var n=arguments.length,i=Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];(function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];var r=0,o="Warning: "+e.replace(/%s/g,function(){return n[r++]});"undefined"!=typeof console&&console.error(o);try{throw new Error(o)}catch(e){}}).apply(void 0,[t].concat(i))}}}e.exports=i}).call(t,n(4))},function(e,t,n){"use strict";(function(t){var i=n(5),r=n(6),o=n(8),a=n(10),s=n(7),l=n(11);e.exports=function(e,n){var c="function"==typeof Symbol&&Symbol.iterator,d="@@iterator";var u="<<anonymous>>",p={array:b("array"),bool:b("boolean"),func:b("function"),number:b("number"),object:b("object"),string:b("string"),symbol:b("symbol"),any:h(i.thatReturnsNull),arrayOf:function(e){return h(function(t,n,i,r,o){if("function"!=typeof e)return new m("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var a=t[n];if(!Array.isArray(a)){var l=y(a);return new m("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected an array.")}for(var c=0;c<a.length;c++){var d=e(a,c,i,r,o+"["+c+"]",s);if(d instanceof Error)return d}return null})},element:function(){return h(function(t,n,i,r,o){var a=t[n];if(!e(a)){var s=y(a);return new m("Invalid "+r+" `"+o+"` of type `"+s+"` supplied to `"+i+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return h(function(t,n,i,r,o){if(!(t[n]instanceof e)){var a=e.name||u,s=function(e){if(!e.constructor||!e.constructor.name)return u;return e.constructor.name}(t[n]);return new m("Invalid "+r+" `"+o+"` of type `"+s+"` supplied to `"+i+"`, expected instance of `"+a+"`.")}return null})},node:function(){return h(function(e,t,n,i,r){if(!v(e[t]))return new m("Invalid "+i+" `"+r+"` supplied to `"+n+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return h(function(t,n,i,r,o){if("function"!=typeof e)return new m("Property `"+o+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var a=t[n],l=y(a);if("object"!==l)return new m("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected an object.");for(var c in a)if(a.hasOwnProperty(c)){var d=e(a,c,i,r,o+"."+c,s);if(d instanceof Error)return d}return null})},oneOf:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOf, expected an instance of array."),i.thatReturnsNull;return h(function(t,n,i,r,o){for(var a=t[n],s=0;s<e.length;s++)if(f(a,e[s]))return null;var l=JSON.stringify(e);return new m("Invalid "+r+" `"+o+"` of value `"+a+"` supplied to `"+i+"`, expected one of "+l+".")})},oneOfType:function(e){if(!Array.isArray(e))return"production"!==t.env.NODE_ENV&&o(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),i.thatReturnsNull;for(var n=0;n<e.length;n++){var r=e[n];if("function"!=typeof r)return o(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",w(r),n),i.thatReturnsNull}return h(function(t,n,i,r,o){for(var a=0;a<e.length;a++){var l=e[a];if(null==l(t,n,i,r,o,s))return null}return new m("Invalid "+r+" `"+o+"` supplied to `"+i+"`.")})},shape:function(e){return h(function(t,n,i,r,o){var a=t[n],l=y(a);if("object"!==l)return new m("Invalid "+r+" `"+o+"` of type `"+l+"` supplied to `"+i+"`, expected `object`.");for(var c in e){var d=e[c];if(d){var u=d(a,c,i,r,o+"."+c,s);if(u)return u}}return null})},exact:function(e){return h(function(t,n,i,r,o){var l=t[n],c=y(l);if("object"!==c)return new m("Invalid "+r+" `"+o+"` of type `"+c+"` supplied to `"+i+"`, expected `object`.");var d=a({},t[n],e);for(var u in d){var p=e[u];if(!p)return new m("Invalid "+r+" `"+o+"` key `"+u+"` supplied to `"+i+"`.\nBad object: "+JSON.stringify(t[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(e),null,"  "));var f=p(l,u,i,r,o+"."+u,s);if(f)return f}return null})}};function f(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function m(e){this.message=e,this.stack=""}function h(e){if("production"!==t.env.NODE_ENV)var i={},a=0;function l(l,c,d,p,f,h,b){if(p=p||u,h=h||d,b!==s)if(n)r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if("production"!==t.env.NODE_ENV&&"undefined"!=typeof console){var v=p+":"+d;!i[v]&&a<3&&(o(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",h,p),i[v]=!0,a++)}return null==c[d]?l?null===c[d]?new m("The "+f+" `"+h+"` is marked as required in `"+p+"`, but its value is `null`."):new m("The "+f+" `"+h+"` is marked as required in `"+p+"`, but its value is `undefined`."):null:e(c,d,p,f,h)}var c=l.bind(null,!1);return c.isRequired=l.bind(null,!0),c}function b(e){return h(function(t,n,i,r,o,a){var s=t[n];return y(s)!==e?new m("Invalid "+r+" `"+o+"` of type `"+g(s)+"` supplied to `"+i+"`, expected `"+e+"`."):null})}function v(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(v);if(null===t||e(t))return!0;var n=function(e){var t=e&&(c&&e[c]||e[d]);if("function"==typeof t)return t}(t);if(!n)return!1;var i,r=n.call(t);if(n!==t.entries){for(;!(i=r.next()).done;)if(!v(i.value))return!1}else for(;!(i=r.next()).done;){var o=i.value;if(o&&!v(o[1]))return!1}return!0;default:return!1}}function y(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function g(e){if(void 0===e||null===e)return""+e;var t=y(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function w(e){var t=g(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return m.prototype=Error.prototype,p.checkPropTypes=l,p.PropTypes=p,p}}).call(t,n(4))},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var i=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))r.call(n,c)&&(s[c]=n[c]);if(i){a=i(n);for(var d=0;d<a.length;d++)o.call(n,a[d])&&(s[a[d]]=n[a[d]])}}return s}},function(e,t,n){"use strict";(function(t){if("production"!==t.env.NODE_ENV)var i=n(6),r=n(8),o=n(7),a={};e.exports=function(e,n,s,l,c){if("production"!==t.env.NODE_ENV)for(var d in e)if(e.hasOwnProperty(d)){var u;try{i("function"==typeof e[d],"%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",l||"React class",s,d,typeof e[d]),u=e[d](n,d,l,s,null,o)}catch(e){u=e}if(r(!u||u instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",l||"React class",s,d,typeof u),u instanceof Error&&!(u.message in a)){a[u.message]=!0;var p=c?c():"";r(!1,"Failed %s type: %s%s",s,u.message,null!=p?p:"")}}}}).call(t,n(4))},function(e,t,n){"use strict";var i=n(5),r=n(6),o=n(7);e.exports=function(){function e(e,t,n,i,a,s){s!==o&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=i,n.PropTypes=n,n}},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,i=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var r,o=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(o)?e:(r=0===o.indexOf("//")?o:0===o.indexOf("/")?n+o:i+o.replace(/^\.\//,""),"url("+JSON.stringify(r)+")")})}},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0));r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}n(36);t.default=(e=>i.default.createElement("div",{className:"c-no-items"},e.labels.noItems.message))},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(0),o=d(r),a=(d(n(1)),d(n(28))),s=d(n(31)),l=d(n(48)),c=n(51);function d(e){return e&&e.__esModule?e:{default:e}}n(52);class u extends r.Component{constructor(e){super(e),this.state={activeView:e.activeView,items:e.items,contentTypesMap:e.contentTypesMap,totalCount:e.totalCount,limit:e.limit,offset:e.offset,isLoading:!1}}componentDidUpdate(e,t){t.offset<this.state.offset&&this.loadItems()}componentWillReceiveProps(e){this.setState(t=>Object.assign({},t,{items:[...t.items,...e.items]}))}handleLoadMore(){this.setState(e=>Object.assign({},e,{offset:e.offset+e.limit}))}loadItems(){const e=this.props.parentLocationId;this.setState(e=>Object.assign({},e,{isLoading:!0})),this.loadLocation(e).then(this.loadContentItems.bind(this)).then(this.loadContentTypes.bind(this)).then(this.updateItemsState.bind(this)).catch(e=>console.log("sub:items:load:items:error",e))}loadLocation(e){const t={locationId:e,limit:this.state.limit,offset:this.state.offset,sortClauses:this.props.sortClauses};return new Promise(e=>this.props.loadLocation(this.props.restInfo,t,e))}loadContentItems(e){if(!e||!e.View)throw new Error(this.props.labels.subItems.invalidResponseFormat);const t=e.View.Result.searchHits.searchHit,n=[];return n.push(new Promise(e=>{const n=t.map(e=>e.value.Location.ContentInfo.Content._id);this.props.loadContentInfo(this.props.restInfo,n,e)}).then(n=>({locations:t,totalCount:e.View.Result.count,content:n.View.Result.searchHits.searchHit}))),Promise.all(n)}loadContentTypes(e){const t=e[0].content.reduce((e,t)=>[...e,new Promise(e=>{const n=t.value.Content.ContentType._href;this.state.contentTypesMap[n]?e({ContentType:this.state.contentTypesMap[n]}):this.props.loadContentType(n,this.props.restInfo,t=>e(t))})],[]);return Promise.all(t).then(t=>(e[0].contentTypes=t,e[0]))}updateItemsState({locations:e,content:t,totalCount:n,contentTypes:i}){const r=e.reduce((e,n)=>{const i=n.value.Location;return[...e,{location:i,content:t.find(e=>e.value.Content._id===i.ContentInfo.Content._id).value.Content}]},[]);this.setState(e=>Object.assign({},e,{items:[...e.items,...r],isLoading:!1,totalCount:n,contentTypesMap:this.buildContentTypesMap(i)}))}buildContentTypesMap(e){return e?e.reduce((e,t)=>(e[t.ContentType._href]=t.ContentType,e),{}):{}}handleItemPriorityUpdate(e){this.props.updateLocationPriority(Object.assign({},e,this.props.restInfo),this.afterPriorityUpdated.bind(this))}afterPriorityUpdated(e){this.setState(this.updateItemsOrder.bind(this,e.Location))}updateItemsOrder(e,t){const n=t.items;return n.find(t=>t.location.id===e.id).location=e,n.sort((e,t)=>e.location.priority-t.location.priority),Object.assign({},t,{items:n})}switchView(e){this.setState(t=>Object.assign({},t,{activeView:e}))}renderExtraActions(e,t){const n=e.component;return o.default.createElement(n,i({key:t,className:"m-sub-items__action"},e.attrs))}renderLoadMore(){if(this.state.totalCount)return o.default.createElement(l.default,{totalCount:this.state.totalCount,loadedCount:this.state.items.length,limit:this.state.limit,labels:this.props.labels.loadMore,onLoadMore:this.handleLoadMore.bind(this)})}render(){let e="m-sub-items__list";return this.state.isLoading&&(e=`${e} ${e}--loading`),o.default.createElement("div",{className:"m-sub-items"},o.default.createElement("div",{className:"m-sub-items__header"},o.default.createElement("div",{className:"m-sub-items__title"},this.props.labels.subItems.listTitle," (",this.state.totalCount,")"),o.default.createElement("div",{className:"m-sub-items__actions"},this.props.extraActions.map(this.renderExtraActions)),o.default.createElement(a.default,{onViewChange:this.switchView.bind(this),activeView:this.state.activeView,isDisabled:!this.state.items.length})),o.default.createElement("div",{className:e},o.default.createElement(s.default,{activeView:this.state.activeView,contentTypesMap:this.state.contentTypesMap,handleItemPriorityUpdate:this.handleItemPriorityUpdate.bind(this),items:this.state.items,labels:this.props.labels,languages:this.props.languages,handleEditItem:this.props.handleEditItem,generateLink:this.props.generateLink})),this.renderLoadMore())}}t.default=u,u.defaultProps={loadContentInfo:c.loadContentInfo,loadContentType:c.loadContentType,loadContentTypes:c.loadContentTypes,loadLocation:c.loadLocation,sortClauses:{},updateLocationPriority:c.updateLocationPriority,activeView:"table",extraActions:[],languages:window.eZ.adminUiConfig.languages,items:[],labels:{subItems:{listTitle:"Sub-items",invalidResponseFormat:"Invalid response format"},tableView:{headerName:"Name",headerModified:"Modified",headerContentType:"Content type",headerPriority:"Priority",headerTranslations:"Translations"},tableViewItem:{edit:"Edit",notAvailable:"N/A"},loadMore:{info:"Viewing <strong>{{loaded}}</strong> out of <strong>{{total}}</strong> sub-items",action:"Show {{limit}} more results"},gridViewItem:{noImage:"No image"},noItems:{message:"This location has no sub-items"}},limit:parseInt(window.eZ.adminUiConfig.subItems.limit,10),offset:0,contentTypesMap:{},totalCount:0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=o(i);o(n(1));function o(e){return e&&e.__esModule?e:{default:e}}n(29);class a extends i.Component{constructor(e){super(e),this.state={activeView:e.activeView}}componentWillReceiveProps(e){this.setState(t=>Object.assign({},t,{activeView:e.activeView}))}toggleListView(e){this.props.onViewChange(e)}renderButton(e,t,n){const i="c-grid-switcher__option",o={id:e,onClick:this.toggleListView.bind(this,e),className:i,title:n};return this.state.activeView===e&&(o.className=`${i} ${i}--active`),this.props.isDisabled&&(o.className=`${o.className} ${i}--disabled`),r.default.createElement("div",o,r.default.createElement("svg",{className:"ez-icon"},r.default.createElement("use",{xlinkHref:`/bundles/ezplatformadminui/img/ez-icons.svg#${t}`})))}render(){let e="c-grid-switcher";return this.props.isDisabled&&(e=`${e} ${e}--disabled`),r.default.createElement("div",{className:e},this.renderButton("table","view-list",this.props.labels.listViewTitle),this.renderButton("grid","view-grid",this.props.labels.gridViewTitle))}}t.default=a,a.defaultProps={labels:{listViewTitle:"View as list",gridViewTitle:"View as grid"}}},function(e,t,n){var i=n(30);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".c-grid-switcher,\n.c-grid-switcher * {\n    box-sizing: border-box;\n}\n\n.c-grid-switcher {\n    height: 40px;\n    width: 70px;\n    border: 3px solid #0e77a3;\n    border-radius: 4px;\n    display: flex;\n    overflow: hidden;\n    background: #fff;\n    box-shadow: inset 0 0 2px 0 rgba(26,53,71,0.4);\n    padding: 2px;\n}\n\n.c-grid-switcher__option {\n    flex: 1 1 30px;\n    max-width: 30px;\n    height: 30px;\n    padding: 0;\n    margin: 0;\n    border: 2px solid #fff;\n    background: #fff;\n    color: #0e77a3;\n    transition: all .1s ease-in-out;\n    display: flex;\n    justify-content: center;\n    cursor: pointer;\n}\n\n.c-grid-switcher__option:first-of-type {\n    border-radius: 2px 0 0 2px;\n}\n\n.c-grid-switcher__option:last-of-type {\n    border-radius: 0 2px 2px 0;\n}\n\n.c-grid-switcher__option--active {\n    background: #0e77a3;\n}\n\n.c-grid-switcher__option .ez-icon {\n    fill: #0e77a3;\n    margin: auto;\n    width: 18px;\n    height: 18px;\n}\n\n.c-grid-switcher__option--active .ez-icon {\n    fill: #fff;\n}\n\n.c-grid-switcher__option--disabled {\n    pointer-events: none;\n    opacity: .5;\n}\n\n.c-grid-switcher--disabled {\n    cursor: not-allowed;\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(0),r=s(i),o=(s(n(1)),s(n(32))),a=s(n(40));function s(e){return e&&e.__esModule?e:{default:e}}n(46);t.default=class extends i.Component{constructor(e){super(e),this.state={activeView:e.activeView,views:{table:o.default,grid:a.default}}}componentWillReceiveProps(e){this.setState(t=>Object.assign({},t,{activeView:e.activeView}))}render(){const e=this.state.views[this.state.activeView];return r.default.createElement(e,this.props)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(0),o=l(r),a=(l(n(1)),l(n(33))),s=l(n(20));function l(e){return e&&e.__esModule?e:{default:e}}n(38);const c="name",d="date",u="priority";t.default=class extends r.Component{constructor(e){super(e),this.state={items:e.items,isAscSort:!1,sortKey:!1}}componentWillReceiveProps({items:e}){this.sortItems(e)}sortItems(e){const t=this.state.sortKey;t||this.setState(t=>Object.assign({},t,{items:e})),t===c?this.sortByName(e):t===d?this.sortByDate(e):t===u?this.sortByPriority(e):this.setState(t=>Object.assign({},t,{items:e}))}sortByName(e){this.setState(t=>{const n=!Array.isArray(e),i=n?!t.isAscSort:t.isAscSort;return(e=n?t.items:e).sort((e,t)=>i?e.content.Name.localeCompare(t.content.Name):t.content.Name.localeCompare(e.content.Name)),Object.assign({},t,{items:e,isAscSort:i,sortKey:c})})}sortByDate(e){this.setState(t=>{const n=!Array.isArray(e),i=n?!t.isAscSort:t.isAscSort;return(e=n?t.items:e).sort((e,t)=>i?new Date(e.content.lastModificationDate)-new Date(t.content.lastModificationDate):new Date(t.content.lastModificationDate)-new Date(e.content.lastModificationDate)),Object.assign({},t,{items:e,isAscSort:i,sortKey:d})})}sortByPriority(e){this.setState(t=>{const n=!Array.isArray(e),i=n?!t.isAscSort:t.isAscSort;return(e=n?t.items:e).sort((e,t)=>i?e.location.priority-t.location.priority:-e.location.priority+t.location.priority),Object.assign({},t,{items:e,isAscSort:i,sortKey:u})})}renderItem(e){var t=this.props;const n=t.contentTypesMap,r=t.handleItemPriorityUpdate,s=t.labels,l=t.handleEditItem,c=t.generateLink,d=t.languages;return o.default.createElement(a.default,i({key:e.location.id},e,{contentTypesMap:n,onItemPriorityUpdate:r,labels:s.tableViewItem,languages:d,handleEditItem:l,generateLink:c}))}renderNoItems(){return o.default.createElement("tr",null,o.default.createElement("td",null,o.default.createElement(s.default,{labels:this.props.labels})))}renderHead(){const e="c-table-view__cell",t=`${e}--head`,n=`${e}--sortable`;var i=this.props;const r=i.labels;let a="c-table-view__head";if(i.items.length)return this.state.sortKey&&(a=`${a} ${this.state.isAscSort?`${a}--sort-asc`:`${a}--sort-desc`} ${`${a}--sort-by-${this.state.sortKey}`}`),o.default.createElement("thead",{className:a},o.default.createElement("tr",{className:"c-table-view__row"},o.default.createElement("td",{className:`${t} ${e}--name ${n}`,onClick:this.sortByName.bind(this)},o.default.createElement("span",{className:"c-table-view__label"},r.tableView.headerName)),o.default.createElement("td",{className:`${t} ${e}--date ${n}`,onClick:this.sortByDate.bind(this)},o.default.createElement("span",{className:"c-table-view__label"},r.tableView.headerModified)),o.default.createElement("td",{className:t},o.default.createElement("span",{className:"c-table-view__label"},r.tableView.headerContentType)),o.default.createElement("td",{className:`${t} ${e}--priority ${n}`,onClick:this.sortByPriority.bind(this)},o.default.createElement("span",{className:"c-table-view__label"},r.tableView.headerPriority)),o.default.createElement("td",{className:t,colSpan:"2"},o.default.createElement("span",{className:"c-table-view__label"},r.tableView.headerTranslations))))}render(){const e=this.props.items,t=e.length?e.map(this.renderItem.bind(this)):this.renderNoItems();return o.default.createElement("table",{className:"c-table-view"},this.renderHead(),o.default.createElement("tbody",{className:"c-table-view__body"},t))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(0),o=a(r);a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}n(34);t.default=class extends r.Component{constructor(e){super(e),this.state={priorityValue:e.location.priority,priorityInputEnabled:!1,startingPriorityValue:e.location.priority}}shouldComponentUpdate(e,t){return this.state.priorityInputEnabled!==t.priorityInputEnabled}enablePriorityInput(){this.setState(e=>Object.assign({},e,{priorityInputEnabled:!0}))}handleCancel(e){e.preventDefault(),this.setState(e=>Object.assign({},e,{priorityInputEnabled:!1,priorityValue:e.startingPriorityValue}))}handleSubmit(e){e.preventDefault(),this.props.onItemPriorityUpdate({location:this.props.location._href,priority:this._refPriorityInput.value}),this.setState(e=>Object.assign({},e,{priorityValue:this._refPriorityInput.value,priorityInputEnabled:!1,startingPriorityValue:this._refPriorityInput.value}))}storePriorityValue(e){e.preventDefault(),this.setState(e=>Object.assign({},e,{priorityValue:this._refPriorityInput.value}))}handleEdit(){this.props.handleEditItem(this.props.content)}renderPriorityCell(){const e={type:"number",defaultValue:this.state.priorityValue,onChange:this.storePriorityValue.bind(this)},t={},n={};return this.state.priorityInputEnabled||(e.disabled=!0,t.onClick=this.enablePriorityInput.bind(this),t.className="c-table-view-item__inner-wrapper--disabled",n.hidden=!0),o.default.createElement("td",{className:"c-table-view-item__cell--priority"},o.default.createElement("div",i({className:"c-table-view-item__priority-wrapper"},t),o.default.createElement("div",{className:"c-table-view-item__inner-wrapper c-table-view-item__inner-wrapper--input"},o.default.createElement("input",i({className:"c-table-view-item__priority-value",ref:e=>this._refPriorityInput=e},e))),o.default.createElement("div",i({className:"c-table-view-item__priority-actions"},n),o.default.createElement("button",{className:"c-table-view-item__btn--submit",onClick:this.handleSubmit.bind(this)},o.default.createElement("svg",{className:"ez-icon"},o.default.createElement("use",{xlinkHref:"/bundles/ezplatformadminui/img/ez-icons.svg#checkmark"}))),o.default.createElement("button",{className:"c-table-view-item__btn--cancel",onClick:this.handleCancel.bind(this)},o.default.createElement("svg",{className:"ez-icon"},o.default.createElement("use",{xlinkHref:"/bundles/ezplatformadminui/img/ez-icons.svg#discard"}))))))}renderTranslation(e,t){return o.default.createElement("span",{key:t,className:"c-table-view-item__translation"},e)}render(){var e=this.props;const t=e.content,n=e.location,i=e.contentTypesMap,r=e.labels,a=e.generateLink,s=e.languages,l=new Date(t.lastModificationDate),c=i[t.ContentType._href],d=c?c.names.value[0]["#text"]:r.notAvailable,u={className:"c-table-view-item__link c-table-view-item__text-wrapper",title:t.Name,href:a(n.id)},p=t.CurrentVersion.Version.VersionInfo.VersionTranslationInfo.Language.map(e=>s.mappings[e.languageCode].name);return o.default.createElement("tr",{className:"c-table-view-item"},o.default.createElement("td",{className:"c-table-view-item__cell--name"},o.default.createElement("a",u,t.Name)),o.default.createElement("td",{className:"c-table-view-item__cell--modified"},o.default.createElement("div",{className:"c-table-view-item__text-wrapper"},l.toLocaleDateString(),o.default.createElement("br",null),l.toLocaleTimeString())),o.default.createElement("td",{className:"c-table-view-item__cell--content-type"},o.default.createElement("div",{className:"c-table-view-item__text-wrapper"},d)),this.renderPriorityCell(),o.default.createElement("td",{className:"c-table-view-item__cell--translations"},p.map(this.renderTranslation)),o.default.createElement("td",{className:"c-table-view-item__cell--actions"},o.default.createElement("div",null,o.default.createElement("span",{title:r.edit,onClick:this.handleEdit.bind(this),className:"c-table-view-item__btn--edit"},o.default.createElement("div",{className:"c-table-view-item__btn-inner"},o.default.createElement("svg",{className:"ez-icon"},o.default.createElement("use",{xlinkHref:"/bundles/ezplatformadminui/img/ez-icons.svg#edit"})))))))}}},function(e,t,n){var i=n(35);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,'.c-table-view-item + .c-table-view-item {\n    border-top: 1px solid #a8c8d5;\n}\n\n[class*="c-table-view-item__cell--"] {\n    padding-left: 16px;\n    font-size: 14px;\n    line-height: 20px;\n}\n\n.c-table-view-item__cell--translations {\n    max-width: 100px;\n}\n\n.c-table-view-item__translation {\n    display: block;\n}\n\n.c-table-view-item__text-wrapper {\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    overflow: hidden;\n}\n\n.c-table-view-item__cell--name .c-table-view-item__text-wrapper {\n    max-width: 260px;\n}\n\n.c-table-view-item__cell--modified .c-table-view-item__text-wrapper {\n    max-width: 190px;\n}\n\n.c-table-view-item__priority-wrapper {\n    position: relative;\n}\n\n.c-table-view-item__priority-actions {\n    position: absolute;\n    left: 7ch;\n    top: 1px;\n    width: 90px;\n}\n\n.c-table-view-item__inner-wrapper--input {\n    width: 7ch;\n}\n\n.c-table-view-item__inner-wrapper--disabled {\n    position: relative;\n}\n\n.c-table-view-item__inner-wrapper--disabled:before {\n    position: absolute;\n    z-index: 2;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    content: \'\';\n    display: block;\n}\n\n.c-table-view-item__priority-value {\n    max-width: 100%;\n    height: 40px;\n    border: 1px solid #b1d2e0;\n    margin-top: 3px;\n    padding: 0 10px;\n}\n\n.c-table-view-item__priority-value[disabled] {\n    border: 0 none;\n    background: transparent;\n    cursor: pointer;\n}\n\n[class*="c-table-view-item__btn--"] {\n    color: #fff;\n    border: 1px solid transparent;\n    height: 40px;\n    min-width: 40px;\n    padding: 0 8px;\n    transition: background .3s ease-in-out;\n    cursor: pointer;\n    padding: 0;\n}\n\n.c-table-view-item__btn--submit {\n    background: #f15a10;\n}\n\n.c-table-view-item__btn--edit .c-table-view-item__btn-inner {\n    padding: 7px 14px;\n    height: 100%;\n    display: flex;\n    align-items: center;\n}\n\n.c-table-view-item__btn--submit:hover,\n.c-table-view-item__btn--submit:focus {\n    background: #c3480b;\n}\n\n.c-table-view-item__btn--cancel {\n    background: #cb2540;\n}\n\n.c-table-view-item__btn--cancel:hover,\n.c-table-view-item__btn--cancel:focus {\n    background: #a01d32;\n}\n\n.c-table-view-item__btn--edit {\n    text-align: center;\n    cursor: pointer;\n    color: #fff;\n    display: inline-block;\n}\n\n.c-table-view-item .ez-icon {\n    width: 24px;\n    height: 24px;\n    fill: #f15a10;\n}\n\n.c-table-view-item__priority-actions .ez-icon {\n    fill: #fff;\n}\n\n.c-table-view-item__link {\n    display: block;\n    color: #0645ad;\n    text-decoration: none;\n    cursor: pointer;\n    transition: color .3s cubic-bezier(.25, .8, .25, 1);\n}\n\n.c-table-view-item__link:hover,\n.c-table-view-item__link:focus {\n    color: #032863;\n    text-decoration: underline;\n}\n',""])},function(e,t,n){var i=n(37);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".c-no-items {\n    padding: 0 32px;\n    font-style: italic;\n    color: #878787;\n}\n",""])},function(e,t,n){var i=n(39);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,'.c-table-view {\n    border-collapse: collapse;\n    width: 100%;\n}\n\n.c-table-view__cell--head {\n    padding-left: 16px;\n    font-weight: 700;\n}\n\n.c-table-view__cell--head:last-of-type {\n    padding-right: 100px;\n}\n\n.c-table-view__cell--sortable {\n    cursor: pointer;\n}\n\n.c-table-view__label {\n    position: relative;\n    display: inline-block;\n}\n\n.c-table-view__label:after {\n    content: \'\';\n    width: 0;\n    height: 0;\n    position: absolute;\n    top: 50%;\n    right: 0;\n    transform: translate(200%, -50%);\n}\n\n.c-table-view__row {\n    border-bottom: 1px solid #a8c8d5;\n}\n\n.c-table-view__body [class*="c-table-view-item__cell--"]:nth-child(4) {\n    width: 80px;\n}\n\n.c-table-view__body [class*="c-table-view-item__cell--"]:nth-child(6) {\n    width: 100px;\n}\n\n.c-table-view__head--sort-by-name.c-table-view__head--sort-desc .c-table-view__cell--name .c-table-view__label:after,\n.c-table-view__head--sort-by-date.c-table-view__head--sort-desc .c-table-view__cell--date .c-table-view__label:after,\n.c-table-view__head--sort-by-priority.c-table-view__head--sort-desc .c-table-view__cell--priority .c-table-view__label:after {\n    border-left: 3px solid transparent;\n\tborder-right: 3px solid transparent;\n\tborder-top: 5px solid #333;\n}\n\n.c-table-view__head--sort-by-name.c-table-view__head--sort-asc .c-table-view__cell--name .c-table-view__label:after,\n.c-table-view__head--sort-by-date.c-table-view__head--sort-asc .c-table-view__cell--date .c-table-view__label:after,\n.c-table-view__head--sort-by-priority.c-table-view__head--sort-asc .c-table-view__cell--priority .c-table-view__label:after {\n    border-left: 3px solid transparent;\n\tborder-right: 3px solid transparent;\n    border-bottom: 5px solid #333;\n}\n\n.c-table-view__body .c-no-items {\n    padding-top: 7px;\n    padding-left: 39px;\n}\n',""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(0),o=l(r),a=(l(n(1)),l(n(41))),s=l(n(20));function l(e){return e&&e.__esModule?e:{default:e}}n(44);t.default=class extends r.Component{constructor(e){super(e),this.state={items:e.items}}componentWillReceiveProps({items:e}){this.setState(t=>Object.assign({},t,{items:e}))}renderItem(e){return o.default.createElement(a.default,i({key:e.location.id},e,{contentTypesMap:this.props.contentTypesMap,labels:this.props.labels.gridViewItem,generateLink:this.props.generateLink}))}renderNoItems(){return o.default.createElement(s.default,{labels:this.props.labels})}render(){const e=this.state.items.length?this.state.items.map(this.renderItem.bind(this)):this.renderNoItems();return o.default.createElement("div",{className:"c-grid-view"},e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=r(n(0));r(n(1));function r(e){return e&&e.__esModule?e:{default:e}}n(42);t.default=(e=>{const t=e.content,n=e.location,r=e.generateLink,o=t.CurrentVersion.Version.Fields.field.find(e=>"ezimage"===e.fieldTypeIdentifier),a=o&&o.fieldValue&&o.fieldValue.uri&&o.fieldValue.path;let s=i.default.createElement("div",{className:"c-grid-view-item__image c-grid-view-item__image--none"},i.default.createElement("svg",{className:"ez-icon"},i.default.createElement("use",{xlinkHref:"/bundles/ezplatformadminui/img/ez-icons.svg#file"}))),l="";return a&&(s=i.default.createElement("img",{className:"c-grid-view-item__image",src:o.fieldValue.uri,alt:`${o.fieldValue.path}`}),l=i.default.createElement("div",{className:"c-grid-view-item__content-type"},i.default.createElement("svg",{className:"ez-icon"},i.default.createElement("use",{xlinkHref:"/bundles/ezplatformadminui/img/ez-icons.svg#file"})))),i.default.createElement("a",{className:"c-grid-view-item",href:r(n.id)},l,i.default.createElement("div",{className:"c-grid-view-item__image-wrapper"},s),i.default.createElement("div",{className:"c-grid-view-item__title"},t.Name))})},function(e,t,n){var i=n(43);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".c-grid-view-item {\n    cursor: pointer;\n    text-decoration: none;\n    transition: background .3s ease-in-out;\n    position: relative;\n    background: #f3f3f3;\n    border-radius: 4px;\n    margin-bottom: 8px;\n}\n\n.c-grid-view-item:hover,\n.c-grid-view-item:focus {\n    text-decoration: none;\n    background: #e5e3e3;\n}\n\n.c-grid-view-item__content-type {\n    position: absolute;\n    z-index: 2;\n    top: 0;\n    left: 0;\n    width: 30px;\n    height: 30px;\n    background: #fafafa;\n    border-radius: 4px 0 0 0;\n}\n\n.c-grid-view-item__content-type .ez-icon {\n    width: 16px;\n    height: 16px;\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n}\n\n.c-grid-view-item__image {\n    display: block;\n    width: auto;\n    height: auto;\n    max-width: 166px;\n    max-height: 166px;\n    transition: border-color .3s ease-in-out;\n}\n\n.c-grid-view-item__image-wrapper {\n    height: 166px;\n    width: 166px;\n    border-radius: 4px 4px 0 0;\n    background-color: #e5e3e3;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n}\n\n.c-grid-view-item__image:hover {\n    border-color: #5c5c5c;\n}\n\n.c-grid-view-item__title {\n    word-break: break-all;\n    line-height: 20px;\n    padding: 10px 0;\n    font-size: 14px;\n    padding: 4px 8px;\n    color: #333;\n    font-weight: 700;\n}\n\n.c-grid-view-item__image--none .ez-icon {\n    width: 64px;\n    height: 64px;\n}\n",""])},function(e,t,n){var i=n(45);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".c-grid-view,\n.c-grid-view * {\n    box-sizing: border-box;\n}\n\n.c-grid-view {\n    display: flex;\n    flex-wrap: wrap;\n    padding-left: 8px;\n    padding-top: 8px;\n}\n\n.c-grid-view .c-grid-view-item {\n    flex: 1 1 calc(100% / 6);\n    max-width: 166px;\n    margin-right: 8px;\n}\n",""])},function(e,t,n){var i=n(47);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,"",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},r=n(0),o=a(r);a(n(1));function a(e){return e&&e.__esModule?e:{default:e}}n(49);class s extends r.Component{constructor(e){super(e),this.state={totalCount:e.totalCount,loadedCount:e.loadedCount,limit:e.limit}}componentWillReceiveProps({totalCount:e,loadedCount:t,limit:n}){this.setState(i=>Object.assign({},i,{totalCount:e,loadedCount:t,limit:n}))}loadMore(e){this._refLoadMore.hasAttribute("disabled")||this.props.onLoadMore(e)}render(){const e={className:"c-load-more__btn--load",onClick:this.loadMore.bind(this)};var t=this.state;const n=t.totalCount,r=t.loadedCount,a=t.limit;(!n||r>=n)&&(e.disabled=!0);const s=this.props.labels.info.replace("{{loaded}}",r).replace("{{total}}",n),l=n-r,c=l>a?a:l,d=this.props.labels.action.replace("{{limit}}",c);return o.default.createElement("div",{className:"c-load-more"},o.default.createElement("div",{className:"c-load-more__message",dangerouslySetInnerHTML:{__html:s}}),o.default.createElement("div",i({},e,{ref:e=>this._refLoadMore=e}),d))}}t.default=s,s.defaultProps={totalCount:0,loadedCount:0}},function(e,t,n){var i=n(50);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".c-load-more {\n    text-align: center;\n}\n\n.c-load-more__message {\n    padding: 16px 0;\n    font-size: 12px;\n}\n\n.c-load-more__btn--load {\n    padding: 14px 28px;\n    border-radius: 4px;\n    text-align: center;\n    cursor: pointer;\n    letter-spacing: .5px;\n    border: 1px solid #0f6d95;\n    background-color: transparent;\n    color: #0f6d95;\n    font-size: 16px;\n    display: inline-block;\n    transition: background .3s ease-in-out;\n}\n\n.c-load-more__btn--load:hover,\n.c-load-more__btn--load:focus {\n    background: #0f6d95;\n    color: #fff;\n}\n\n.c-load-more__btn--load[disabled],\n.c-load-more__btn--load[disabled]:hover,\n.c-load-more__btn--load[disabled]:focus {\n    cursor: not-allowed;\n    opacity: .3\n}\n",""])},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i={Accept:"application/vnd.ez.api.View+json; version=1.1","Content-Type":"application/vnd.ez.api.ViewInput+json; version=1.1"},r=e=>{if(!e.ok)throw Error(e.statusText);return e.json()};t.loadLocation=(({token:e,siteaccess:t},{locationId:n=2,limit:o=10,offset:a=0,sortClauses:s},l)=>{const c=JSON.stringify({ViewInput:{identifier:`subitems-load-location-${n}`,public:!1,LocationQuery:{Criteria:{},FacetBuilders:{},SortClauses:s,Filter:{ParentLocationIdCriterion:n},limit:o,offset:a}}}),d=new Request("/api/ezp/v2/views",{method:"POST",headers:Object.assign({},i,{"X-Siteaccess":t,"X-CSRF-Token":e}),body:c,mode:"cors",credentials:"same-origin"});fetch(d).then(r).then(l).catch(e=>console.log("error:load:location",e))}),t.loadContentInfo=(({token:e,siteaccess:t},n,o)=>{const a=n.join(),s=JSON.stringify({ViewInput:{identifier:`subitems-load-content-info-${a}`,public:!1,ContentQuery:{Criteria:{},FacetBuilders:{},SortClauses:{},Filter:{ContentIdCriterion:`${a}`},limit:n.length,offset:0}}}),l=new Request("/api/ezp/v2/views",{method:"POST",headers:Object.assign({},i,{"X-Siteaccess":t,"X-CSRF-Token":e}),body:s,mode:"cors",credentials:"same-origin"});fetch(l).then(r).then(o).catch(e=>console.log("error:load:content:info",e))}),t.loadContentTypes=(({token:e,siteaccess:t},n)=>{const i=new Request("/api/ezp/v2/content/types",{method:"GET",headers:{Accept:"application/vnd.ez.api.ContentTypeInfoList+json","X-Siteaccess":t,"X-CSRF-Token":e},mode:"cors",credentials:"same-origin"});fetch(i).then(r).then(n).catch(e=>console.log("error:load:content:info",e))}),t.loadContentType=((e,{token:t,siteaccess:n},i)=>{const o=new Request(e,{method:"GET",headers:{Accept:"application/vnd.ez.api.ContentType+json","X-Siteaccess":n,"X-CSRF-Token":t},mode:"cors",credentials:"same-origin"});fetch(o).then(r).then(i).catch(e=>console.log("error:load:content:info",e))}),t.updateLocationPriority=(({priority:e,location:t,token:n,siteaccess:i},o)=>{const a=new Request(t,{method:"POST",headers:{Accept:"application/vnd.ez.api.Location+json","Content-Type":"application/vnd.ez.api.LocationUpdate+json","X-Siteaccess":i,"X-CSRF-Token":n,"X-HTTP-Method-Override":"PATCH"},credentials:"same-origin",mode:"cors",body:JSON.stringify({LocationUpdate:{priority:e,sortField:"PATH",sortOrder:"ASC"}})});fetch(a).then(r).then(o).catch(e=>console.log("error:update:location:priority",e))})},function(e,t,n){var i=n(53);"string"==typeof i&&(i=[[e.i,i,""]]);var r={hmr:!0,transform:void 0,insertInto:void 0};n(3)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){(e.exports=n(2)(!1)).push([e.i,".m-sub-items,\n.m-sub-items * {\n    box-sizing: border-box;\n}\n\n.m-sub-items {\n    color: #333;\n}\n\n.m-sub-items__header {\n    height: 50px;\n    width: 100%;\n    border-radius: 4px 4px 0 0;\n    font-weight: 700;\n    line-height: 50px;\n    background-color: #445a64;\n    display: flex;\n    flex-wrap: nowrap;\n    justify-content: space-between;\n    padding: 0 16px;\n    align-items: center;\n}\n\n.m-sub-items__title {\n    font-size: 17px;\n    color: #fff;\n    flex: 1 1 auto;\n}\n\n.m-sub-items__actions .m-mfu {\n    height: 40px;\n    margin-right: 16px;\n}\n\n.m-sub-items__list {\n    background: #fff;\n    font-size: 15px;\n    line-height: 40px;\n    text-align: left;\n    position: relative;\n}\n\n.m-sub-items__list--loading:after {\n    content: '';\n    position: absolute;\n    z-index: 999;\n    background: rgba(0,0,0,.5);\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n}\n",""])}]).default});
//# sourceMappingURL=SubItems.module.js.map